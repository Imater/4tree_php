/*!
 * jQuery JavaScript Library v1.7.2
 * http://jquery.com/
 *
 * Copyright 2011, John Resig
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 * Copyright 2011, The Dojo Foundation
 * Released under the MIT, BSD, and GPL Licenses.
 *
 * Date: Wed Mar 21 12:46:34 2012 -0700
 */
(function(bl,S){var aC=bl.document,bC=bl.navigator,bu=bl.location;var b=(function(){var bN=function(b8,b9){return new bN.fn.init(b8,b9,bL)},b2=bl.jQuery,bP=bl.$,bL,b6=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,bU=/\S/,bQ=/^\s+/,bM=/\s+$/,bI=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,bV=/^[\],:{}\s]*$/,b4=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,bX=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,bR=/(?:^|:|,)(?:\s*\[)+/g,bG=/(webkit)[ \/]([\w.]+)/,bZ=/(opera)(?:.*version)?[ \/]([\w.]+)/,bY=/(msie) ([\w.]+)/,b0=/(mozilla)(?:.*? rv:([\w.]+))?/,bJ=/-([a-z]|[0-9])/ig,b7=/^-ms-/,b1=function(b8,b9){return(b9+"").toUpperCase()},b5=bC.userAgent,b3,bK,e,bT=Object.prototype.toString,bO=Object.prototype.hasOwnProperty,bH=Array.prototype.push,bS=Array.prototype.slice,bW=String.prototype.trim,bD=Array.prototype.indexOf,bF={};bN.fn=bN.prototype={constructor:bN,init:function(b8,cc,cb){var ca,cd,b9,ce;if(!b8){return this}if(b8.nodeType){this.context=this[0]=b8;this.length=1;return this}if(b8==="body"&&!cc&&aC.body){this.context=aC;this[0]=aC.body;this.selector=b8;this.length=1;return this}if(typeof b8==="string"){if(b8.charAt(0)==="<"&&b8.charAt(b8.length-1)===">"&&b8.length>=3){ca=[null,b8,null]}else{ca=b6.exec(b8)}if(ca&&(ca[1]||!cc)){if(ca[1]){cc=cc instanceof bN?cc[0]:cc;ce=(cc?cc.ownerDocument||cc:aC);b9=bI.exec(b8);if(b9){if(bN.isPlainObject(cc)){b8=[aC.createElement(b9[1])];bN.fn.attr.call(b8,cc,true)}else{b8=[ce.createElement(b9[1])]}}else{b9=bN.buildFragment([ca[1]],[ce]);b8=(b9.cacheable?bN.clone(b9.fragment):b9.fragment).childNodes}return bN.merge(this,b8)}else{cd=aC.getElementById(ca[2]);if(cd&&cd.parentNode){if(cd.id!==ca[2]){return cb.find(b8)}this.length=1;this[0]=cd}this.context=aC;this.selector=b8;return this}}else{if(!cc||cc.jquery){return(cc||cb).find(b8)}else{return this.constructor(cc).find(b8)}}}else{if(bN.isFunction(b8)){return cb.ready(b8)}}if(b8.selector!==S){this.selector=b8.selector;this.context=b8.context}return bN.makeArray(b8,this)},selector:"",jquery:"1.7.2",length:0,size:function(){return this.length},toArray:function(){return bS.call(this,0)},get:function(b8){return b8==null?this.toArray():(b8<0?this[this.length+b8]:this[b8])},pushStack:function(b9,cb,b8){var ca=this.constructor();if(bN.isArray(b9)){bH.apply(ca,b9)}else{bN.merge(ca,b9)}ca.prevObject=this;ca.context=this.context;if(cb==="find"){ca.selector=this.selector+(this.selector?" ":"")+b8}else{if(cb){ca.selector=this.selector+"."+cb+"("+b8+")"}}return ca},each:function(b9,b8){return bN.each(this,b9,b8)},ready:function(b8){bN.bindReady();bK.add(b8);return this},eq:function(b8){b8=+b8;return b8===-1?this.slice(b8):this.slice(b8,b8+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(bS.apply(this,arguments),"slice",bS.call(arguments).join(","))},map:function(b8){return this.pushStack(bN.map(this,function(ca,b9){return b8.call(ca,b9,ca)}))},end:function(){return this.prevObject||this.constructor(null)},push:bH,sort:[].sort,splice:[].splice};bN.fn.init.prototype=bN.fn;bN.extend=bN.fn.extend=function(){var ch,ca,b8,b9,ce,cf,cd=arguments[0]||{},cc=1,cb=arguments.length,cg=false;if(typeof cd==="boolean"){cg=cd;cd=arguments[1]||{};cc=2}if(typeof cd!=="object"&&!bN.isFunction(cd)){cd={}}if(cb===cc){cd=this;--cc}for(;cc<cb;cc++){if((ch=arguments[cc])!=null){for(ca in ch){b8=cd[ca];b9=ch[ca];if(cd===b9){continue}if(cg&&b9&&(bN.isPlainObject(b9)||(ce=bN.isArray(b9)))){if(ce){ce=false;cf=b8&&bN.isArray(b8)?b8:[]}else{cf=b8&&bN.isPlainObject(b8)?b8:{}}cd[ca]=bN.extend(cg,cf,b9)}else{if(b9!==S){cd[ca]=b9}}}}}return cd};bN.extend({noConflict:function(b8){if(bl.$===bN){bl.$=bP}if(b8&&bl.jQuery===bN){bl.jQuery=b2}return bN},isReady:false,readyWait:1,holdReady:function(b8){if(b8){bN.readyWait++}else{bN.ready(true)}},ready:function(b8){if((b8===true&&!--bN.readyWait)||(b8!==true&&!bN.isReady)){if(!aC.body){return setTimeout(bN.ready,1)}bN.isReady=true;if(b8!==true&&--bN.readyWait>0){return}bK.fireWith(aC,[bN]);if(bN.fn.trigger){bN(aC).trigger("ready").off("ready")}}},bindReady:function(){if(bK){return}bK=bN.Callbacks("once memory");if(aC.readyState==="complete"){return setTimeout(bN.ready,1)}if(aC.addEventListener){aC.addEventListener("DOMContentLoaded",e,false);bl.addEventListener("load",bN.ready,false)}else{if(aC.attachEvent){aC.attachEvent("onreadystatechange",e);bl.attachEvent("onload",bN.ready);var b8=false;try{b8=bl.frameElement==null}catch(b9){}if(aC.documentElement.doScroll&&b8){bE()}}}},isFunction:function(b8){return bN.type(b8)==="function"},isArray:Array.isArray||function(b8){return bN.type(b8)==="array"},isWindow:function(b8){return b8!=null&&b8==b8.window},isNumeric:function(b8){return !isNaN(parseFloat(b8))&&isFinite(b8)},type:function(b8){return b8==null?String(b8):bF[bT.call(b8)]||"object"},isPlainObject:function(ca){if(!ca||bN.type(ca)!=="object"||ca.nodeType||bN.isWindow(ca)){return false}try{if(ca.constructor&&!bO.call(ca,"constructor")&&!bO.call(ca.constructor.prototype,"isPrototypeOf")){return false}}catch(b9){return false}var b8;for(b8 in ca){}return b8===S||bO.call(ca,b8)},isEmptyObject:function(b9){for(var b8 in b9){return false}return true},error:function(b8){throw new Error(b8)},parseJSON:function(b8){if(typeof b8!=="string"||!b8){return null}b8=bN.trim(b8);if(bl.JSON&&bl.JSON.parse){return bl.JSON.parse(b8)}if(bV.test(b8.replace(b4,"@").replace(bX,"]").replace(bR,""))){return(new Function("return "+b8))()}bN.error("Invalid JSON: "+b8)},parseXML:function(ca){if(typeof ca!=="string"||!ca){return null}var b8,b9;try{if(bl.DOMParser){b9=new DOMParser();b8=b9.parseFromString(ca,"text/xml")}else{b8=new ActiveXObject("Microsoft.XMLDOM");b8.async="false";b8.loadXML(ca)}}catch(cb){b8=S}if(!b8||!b8.documentElement||b8.getElementsByTagName("parsererror").length){bN.error("Invalid XML: "+ca)}return b8},noop:function(){},globalEval:function(b8){if(b8&&bU.test(b8)){(bl.execScript||function(b9){bl["eval"].call(bl,b9)})(b8)}},camelCase:function(b8){return b8.replace(b7,"ms-").replace(bJ,b1)},nodeName:function(b9,b8){return b9.nodeName&&b9.nodeName.toUpperCase()===b8.toUpperCase()},each:function(cb,ce,ca){var b9,cc=0,cd=cb.length,b8=cd===S||bN.isFunction(cb);if(ca){if(b8){for(b9 in cb){if(ce.apply(cb[b9],ca)===false){break}}}else{for(;cc<cd;){if(ce.apply(cb[cc++],ca)===false){break}}}}else{if(b8){for(b9 in cb){if(ce.call(cb[b9],b9,cb[b9])===false){break}}}else{for(;cc<cd;){if(ce.call(cb[cc],cc,cb[cc++])===false){break}}}}return cb},trim:bW?function(b8){return b8==null?"":bW.call(b8)}:function(b8){return b8==null?"":b8.toString().replace(bQ,"").replace(bM,"")},makeArray:function(cb,b9){var b8=b9||[];if(cb!=null){var ca=bN.type(cb);if(cb.length==null||ca==="string"||ca==="function"||ca==="regexp"||bN.isWindow(cb)){bH.call(b8,cb)}else{bN.merge(b8,cb)}}return b8},inArray:function(ca,cb,b9){var b8;if(cb){if(bD){return bD.call(cb,ca,b9)}b8=cb.length;b9=b9?b9<0?Math.max(0,b8+b9):b9:0;for(;b9<b8;b9++){if(b9 in cb&&cb[b9]===ca){return b9}}}return -1},merge:function(cc,ca){var cb=cc.length,b9=0;if(typeof ca.length==="number"){for(var b8=ca.length;b9<b8;b9++){cc[cb++]=ca[b9]}}else{while(ca[b9]!==S){cc[cb++]=ca[b9++]}}cc.length=cb;return cc},grep:function(b9,ce,b8){var ca=[],cd;b8=!!b8;for(var cb=0,cc=b9.length;cb<cc;cb++){cd=!!ce(b9[cb],cb);if(b8!==cd){ca.push(b9[cb])}}return ca},map:function(b8,cf,cg){var cd,ce,cc=[],ca=0,b9=b8.length,cb=b8 instanceof bN||b9!==S&&typeof b9==="number"&&((b9>0&&b8[0]&&b8[b9-1])||b9===0||bN.isArray(b8));if(cb){for(;ca<b9;ca++){cd=cf(b8[ca],ca,cg);if(cd!=null){cc[cc.length]=cd}}}else{for(ce in b8){cd=cf(b8[ce],ce,cg);if(cd!=null){cc[cc.length]=cd}}}return cc.concat.apply([],cc)},guid:1,proxy:function(cc,cb){if(typeof cb==="string"){var ca=cc[cb];cb=cc;cc=ca}if(!bN.isFunction(cc)){return S}var b8=bS.call(arguments,2),b9=function(){return cc.apply(cb,b8.concat(bS.call(arguments)))};b9.guid=cc.guid=cc.guid||b9.guid||bN.guid++;return b9},access:function(b8,ce,ch,cf,cc,ci,cg){var ca,cd=ch==null,cb=0,b9=b8.length;if(ch&&typeof ch==="object"){for(cb in ch){bN.access(b8,ce,cb,ch[cb],1,ci,cf)}cc=1}else{if(cf!==S){ca=cg===S&&bN.isFunction(cf);if(cd){if(ca){ca=ce;ce=function(ck,cj,cl){return ca.call(bN(ck),cl)}}else{ce.call(b8,cf);ce=null}}if(ce){for(;cb<b9;cb++){ce(b8[cb],ch,ca?cf.call(b8[cb],cb,ce(b8[cb],ch)):cf,cg)}}cc=1}}return cc?b8:cd?ce.call(b8):b9?ce(b8[0],ch):ci},now:function(){return(new Date()).getTime()},uaMatch:function(b9){b9=b9.toLowerCase();var b8=bG.exec(b9)||bZ.exec(b9)||bY.exec(b9)||b9.indexOf("compatible")<0&&b0.exec(b9)||[];return{browser:b8[1]||"",version:b8[2]||"0"}},sub:function(){function b8(cb,cc){return new b8.fn.init(cb,cc)}bN.extend(true,b8,this);b8.superclass=this;b8.fn=b8.prototype=this();b8.fn.constructor=b8;b8.sub=this.sub;b8.fn.init=function ca(cb,cc){if(cc&&cc instanceof bN&&!(cc instanceof b8)){cc=b8(cc)}return bN.fn.init.call(this,cb,cc,b9)};b8.fn.init.prototype=b8.fn;var b9=b8(aC);return b8},browser:{}});bN.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(b9,b8){bF["[object "+b8+"]"]=b8.toLowerCase()});b3=bN.uaMatch(b5);if(b3.browser){bN.browser[b3.browser]=true;bN.browser.version=b3.version}if(bN.browser.webkit){bN.browser.safari=true}if(bU.test("\xA0")){bQ=/^[\s\xA0]+/;bM=/[\s\xA0]+$/}bL=bN(aC);if(aC.addEventListener){e=function(){aC.removeEventListener("DOMContentLoaded",e,false);bN.ready()}}else{if(aC.attachEvent){e=function(){if(aC.readyState==="complete"){aC.detachEvent("onreadystatechange",e);bN.ready()}}}}function bE(){if(bN.isReady){return}try{aC.documentElement.doScroll("left")}catch(b8){setTimeout(bE,1);return}bN.ready()}return bN})();var ba={};function ae(e){var bD=ba[e]={},bE,bF;e=e.split(/\s+/);for(bE=0,bF=e.length;bE<bF;bE++){bD[e[bE]]=true}return bD}b.Callbacks=function(bF){bF=bF?(ba[bF]||ae(bF)):{};var bK=[],bL=[],bG,e,bH,bE,bI,bJ,bN=function(bO){var bP,bS,bR,bQ,bT;for(bP=0,bS=bO.length;bP<bS;bP++){bR=bO[bP];bQ=b.type(bR);if(bQ==="array"){bN(bR)}else{if(bQ==="function"){if(!bF.unique||!bM.has(bR)){bK.push(bR)}}}}},bD=function(bP,bO){bO=bO||[];bG=!bF.memory||[bP,bO];e=true;bH=true;bJ=bE||0;bE=0;bI=bK.length;for(;bK&&bJ<bI;bJ++){if(bK[bJ].apply(bP,bO)===false&&bF.stopOnFalse){bG=true;break}}bH=false;if(bK){if(!bF.once){if(bL&&bL.length){bG=bL.shift();bM.fireWith(bG[0],bG[1])}}else{if(bG===true){bM.disable()}else{bK=[]}}}},bM={add:function(){if(bK){var bO=bK.length;bN(arguments);if(bH){bI=bK.length}else{if(bG&&bG!==true){bE=bO;bD(bG[0],bG[1])}}}return this},remove:function(){if(bK){var bO=arguments,bQ=0,bR=bO.length;for(;bQ<bR;bQ++){for(var bP=0;bP<bK.length;bP++){if(bO[bQ]===bK[bP]){if(bH){if(bP<=bI){bI--;if(bP<=bJ){bJ--}}}bK.splice(bP--,1);if(bF.unique){break}}}}}return this},has:function(bP){if(bK){var bO=0,bQ=bK.length;for(;bO<bQ;bO++){if(bP===bK[bO]){return true}}}return false},empty:function(){bK=[];return this},disable:function(){bK=bL=bG=S;return this},disabled:function(){return !bK},lock:function(){bL=S;if(!bG||bG===true){bM.disable()}return this},locked:function(){return !bL},fireWith:function(bP,bO){if(bL){if(bH){if(!bF.once){bL.push([bP,bO])}}else{if(!(bF.once&&bG)){bD(bP,bO)}}}return this},fire:function(){bM.fireWith(this,arguments);return this},fired:function(){return !!e}};return bM};var aR=[].slice;b.extend({Deferred:function(bG){var bF=b.Callbacks("once memory"),bE=b.Callbacks("once memory"),bD=b.Callbacks("memory"),e="pending",bI={resolve:bF,reject:bE,notify:bD},bK={done:bF.add,fail:bE.add,progress:bD.add,state:function(){return e},isResolved:bF.fired,isRejected:bE.fired,then:function(bM,bL,bN){bJ.done(bM).fail(bL).progress(bN);return this},always:function(){bJ.done.apply(bJ,arguments).fail.apply(bJ,arguments);return this},pipe:function(bN,bM,bL){return b.Deferred(function(bO){b.each({done:[bN,"resolve"],fail:[bM,"reject"],progress:[bL,"notify"]},function(bQ,bT){var bP=bT[0],bS=bT[1],bR;if(b.isFunction(bP)){bJ[bQ](function(){bR=bP.apply(this,arguments);if(bR&&b.isFunction(bR.promise)){bR.promise().then(bO.resolve,bO.reject,bO.notify)}else{bO[bS+"With"](this===bJ?bO:this,[bR])}})}else{bJ[bQ](bO[bS])}})}).promise()},promise:function(bM){if(bM==null){bM=bK}else{for(var bL in bK){bM[bL]=bK[bL]}}return bM}},bJ=bK.promise({}),bH;for(bH in bI){bJ[bH]=bI[bH].fire;bJ[bH+"With"]=bI[bH].fireWith}bJ.done(function(){e="resolved"},bE.disable,bD.lock).fail(function(){e="rejected"},bF.disable,bD.lock);if(bG){bG.call(bJ,bJ)}return bJ},when:function(bI){var bF=aR.call(arguments,0),bD=0,e=bF.length,bJ=new Array(e),bE=e,bG=e,bK=e<=1&&bI&&b.isFunction(bI.promise)?bI:b.Deferred(),bM=bK.promise();function bL(bN){return function(bO){bF[bN]=arguments.length>1?aR.call(arguments,0):bO;if(!(--bE)){bK.resolveWith(bK,bF)}}}function bH(bN){return function(bO){bJ[bN]=arguments.length>1?aR.call(arguments,0):bO;bK.notifyWith(bM,bJ)}}if(e>1){for(;bD<e;bD++){if(bF[bD]&&bF[bD].promise&&b.isFunction(bF[bD].promise)){bF[bD].promise().then(bL(bD),bK.reject,bH(bD))}else{--bE}}if(!bE){bK.resolveWith(bK,bF)}}else{if(bK!==bI){bK.resolveWith(bK,e?[bI]:[])}}return bM}});b.support=(function(){var bQ,bP,bM,bN,bF,bL,bK,bH,bR,bI,bG,bE,bD=aC.createElement("div"),bO=aC.documentElement;bD.setAttribute("className","t");bD.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>";bP=bD.getElementsByTagName("*");bM=bD.getElementsByTagName("a")[0];if(!bP||!bP.length||!bM){return{}}bN=aC.createElement("select");bF=bN.appendChild(aC.createElement("option"));bL=bD.getElementsByTagName("input")[0];bQ={leadingWhitespace:(bD.firstChild.nodeType===3),tbody:!bD.getElementsByTagName("tbody").length,htmlSerialize:!!bD.getElementsByTagName("link").length,style:/top/.test(bM.getAttribute("style")),hrefNormalized:(bM.getAttribute("href")==="/a"),opacity:/^0.55/.test(bM.style.opacity),cssFloat:!!bM.style.cssFloat,checkOn:(bL.value==="on"),optSelected:bF.selected,getSetAttribute:bD.className!=="t",enctype:!!aC.createElement("form").enctype,html5Clone:aC.createElement("nav").cloneNode(true).outerHTML!=="<:nav></:nav>",submitBubbles:true,changeBubbles:true,focusinBubbles:false,deleteExpando:true,noCloneEvent:true,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableMarginRight:true,pixelMargin:true};b.boxModel=bQ.boxModel=(aC.compatMode==="CSS1Compat");bL.checked=true;bQ.noCloneChecked=bL.cloneNode(true).checked;bN.disabled=true;bQ.optDisabled=!bF.disabled;try{delete bD.test}catch(bJ){bQ.deleteExpando=false}if(!bD.addEventListener&&bD.attachEvent&&bD.fireEvent){bD.attachEvent("onclick",function(){bQ.noCloneEvent=false});bD.cloneNode(true).fireEvent("onclick")}bL=aC.createElement("input");bL.value="t";bL.setAttribute("type","radio");bQ.radioValue=bL.value==="t";bL.setAttribute("checked","checked");bL.setAttribute("name","t");bD.appendChild(bL);bK=aC.createDocumentFragment();bK.appendChild(bD.lastChild);bQ.checkClone=bK.cloneNode(true).cloneNode(true).lastChild.checked;bQ.appendChecked=bL.checked;bK.removeChild(bL);bK.appendChild(bD);if(bD.attachEvent){for(bG in {submit:1,change:1,focusin:1}){bI="on"+bG;bE=(bI in bD);if(!bE){bD.setAttribute(bI,"return;");bE=(typeof bD[bI]==="function")}bQ[bG+"Bubbles"]=bE}}bK.removeChild(bD);bK=bN=bF=bD=bL=null;b(function(){var bU,b3,b4,b2,bW,bX,bZ,bT,bS,bY,bV,e,b1,b0=aC.getElementsByTagName("body")[0];if(!b0){return}bT=1;b1="padding:0;margin:0;border:";bV="position:absolute;top:0;left:0;width:1px;height:1px;";e=b1+"0;visibility:hidden;";bS="style='"+bV+b1+"5px solid #000;";bY="<div "+bS+"display:block;'><div style='"+b1+"0;display:block;overflow:hidden;'></div></div><table "+bS+"' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";bU=aC.createElement("div");bU.style.cssText=e+"width:0;height:0;position:static;top:0;margin-top:"+bT+"px";b0.insertBefore(bU,b0.firstChild);bD=aC.createElement("div");bU.appendChild(bD);bD.innerHTML="<table><tr><td style='"+b1+"0;display:none'></td><td>t</td></tr></table>";bH=bD.getElementsByTagName("td");bE=(bH[0].offsetHeight===0);bH[0].style.display="";bH[1].style.display="none";bQ.reliableHiddenOffsets=bE&&(bH[0].offsetHeight===0);if(bl.getComputedStyle){bD.innerHTML="";bZ=aC.createElement("div");bZ.style.width="0";bZ.style.marginRight="0";bD.style.width="2px";bD.appendChild(bZ);bQ.reliableMarginRight=(parseInt((bl.getComputedStyle(bZ,null)||{marginRight:0}).marginRight,10)||0)===0}if(typeof bD.style.zoom!=="undefined"){bD.innerHTML="";bD.style.width=bD.style.padding="1px";bD.style.border=0;bD.style.overflow="hidden";bD.style.display="inline";bD.style.zoom=1;bQ.inlineBlockNeedsLayout=(bD.offsetWidth===3);bD.style.display="block";bD.style.overflow="visible";bD.innerHTML="<div style='width:5px;'></div>";bQ.shrinkWrapBlocks=(bD.offsetWidth!==3)}bD.style.cssText=bV+e;bD.innerHTML=bY;b3=bD.firstChild;b4=b3.firstChild;bW=b3.nextSibling.firstChild.firstChild;bX={doesNotAddBorder:(b4.offsetTop!==5),doesAddBorderForTableAndCells:(bW.offsetTop===5)};b4.style.position="fixed";b4.style.top="20px";bX.fixedPosition=(b4.offsetTop===20||b4.offsetTop===15);b4.style.position=b4.style.top="";b3.style.overflow="hidden";b3.style.position="relative";bX.subtractsBorderForOverflowNotVisible=(b4.offsetTop===-5);bX.doesNotIncludeMarginInBodyOffset=(b0.offsetTop!==bT);if(bl.getComputedStyle){bD.style.marginTop="1%";bQ.pixelMargin=(bl.getComputedStyle(bD,null)||{marginTop:0}).marginTop!=="1%"}if(typeof bU.style.zoom!=="undefined"){bU.style.zoom=1}b0.removeChild(bU);bZ=bD=bU=null;b.extend(bQ,bX)});return bQ})();var a0=/^(?:\{.*\}|\[.*\])$/,aH=/([A-Z])/g;b.extend({cache:{},uuid:0,expando:"jQuery"+(b.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},hasData:function(e){e=e.nodeType?b.cache[e[b.expando]]:e[b.expando];return !!e&&!Z(e)},data:function(bF,bD,bH,bG){if(!b.acceptData(bF)){return}var bO,bI,bL,bM=b.expando,bK=typeof bD==="string",bN=bF.nodeType,e=bN?b.cache:bF,bE=bN?bF[bM]:bF[bM]&&bM,bJ=bD==="events";if((!bE||!e[bE]||(!bJ&&!bG&&!e[bE].data))&&bK&&bH===S){return}if(!bE){if(bN){bF[bM]=bE=++b.uuid}else{bE=bM}}if(!e[bE]){e[bE]={};if(!bN){e[bE].toJSON=b.noop}}if(typeof bD==="object"||typeof bD==="function"){if(bG){e[bE]=b.extend(e[bE],bD)}else{e[bE].data=b.extend(e[bE].data,bD)}}bO=bI=e[bE];if(!bG){if(!bI.data){bI.data={}}bI=bI.data}if(bH!==S){bI[b.camelCase(bD)]=bH}if(bJ&&!bI[bD]){return bO.events}if(bK){bL=bI[bD];if(bL==null){bL=bI[b.camelCase(bD)]}}else{bL=bI}return bL},removeData:function(bF,bD,bG){if(!b.acceptData(bF)){return}var bJ,bI,bH,bK=b.expando,bL=bF.nodeType,e=bL?b.cache:bF,bE=bL?bF[bK]:bK;if(!e[bE]){return}if(bD){bJ=bG?e[bE]:e[bE].data;if(bJ){if(!b.isArray(bD)){if(bD in bJ){bD=[bD]}else{bD=b.camelCase(bD);if(bD in bJ){bD=[bD]}else{bD=bD.split(" ")}}}for(bI=0,bH=bD.length;bI<bH;bI++){delete bJ[bD[bI]]}if(!(bG?Z:b.isEmptyObject)(bJ)){return}}}if(!bG){delete e[bE].data;if(!Z(e[bE])){return}}if(b.support.deleteExpando||!e.setInterval){delete e[bE]}else{e[bE]=null}if(bL){if(b.support.deleteExpando){delete bF[bK]}else{if(bF.removeAttribute){bF.removeAttribute(bK)}else{bF[bK]=null}}}},_data:function(bD,e,bE){return b.data(bD,e,bE,true)},acceptData:function(bD){if(bD.nodeName){var e=b.noData[bD.nodeName.toLowerCase()];if(e){return !(e===true||bD.getAttribute("classid")!==e)}}return true}});b.fn.extend({data:function(bL,bK){var bG,bD,bJ,e,bF,bE=this[0],bI=0,bH=null;if(bL===S){if(this.length){bH=b.data(bE);if(bE.nodeType===1&&!b._data(bE,"parsedAttrs")){bJ=bE.attributes;for(bF=bJ.length;bI<bF;bI++){e=bJ[bI].name;if(e.indexOf("data-")===0){e=b.camelCase(e.substring(5));bd(bE,e,bH[e])}}b._data(bE,"parsedAttrs",true)}}return bH}if(typeof bL==="object"){return this.each(function(){b.data(this,bL)})}bG=bL.split(".",2);bG[1]=bG[1]?"."+bG[1]:"";bD=bG[1]+"!";return b.access(this,function(bM){if(bM===S){bH=this.triggerHandler("getData"+bD,[bG[0]]);if(bH===S&&bE){bH=b.data(bE,bL);bH=bd(bE,bL,bH)}return bH===S&&bG[1]?this.data(bG[0]):bH}bG[1]=bM;this.each(function(){var bN=b(this);bN.triggerHandler("setData"+bD,bG);b.data(this,bL,bM);bN.triggerHandler("changeData"+bD,bG)})},null,bK,arguments.length>1,null,false)},removeData:function(e){return this.each(function(){b.removeData(this,e)})}});function bd(bF,bE,bG){if(bG===S&&bF.nodeType===1){var bD="data-"+bE.replace(aH,"-$1").toLowerCase();bG=bF.getAttribute(bD);if(typeof bG==="string"){try{bG=bG==="true"?true:bG==="false"?false:bG==="null"?null:b.isNumeric(bG)?+bG:a0.test(bG)?b.parseJSON(bG):bG}catch(bH){}b.data(bF,bE,bG)}else{bG=S}}return bG}function Z(bD){for(var e in bD){if(e==="data"&&b.isEmptyObject(bD[e])){continue}if(e!=="toJSON"){return false}}return true}function br(bG,bF,bI){var bE=bF+"defer",bD=bF+"queue",e=bF+"mark",bH=b._data(bG,bE);if(bH&&(bI==="queue"||!b._data(bG,bD))&&(bI==="mark"||!b._data(bG,e))){setTimeout(function(){if(!b._data(bG,bD)&&!b._data(bG,e)){b.removeData(bG,bE,true);bH.fire()}},0)}}b.extend({_mark:function(bD,e){if(bD){e=(e||"fx")+"mark";b._data(bD,e,(b._data(bD,e)||0)+1)}},_unmark:function(bG,bF,bD){if(bG!==true){bD=bF;bF=bG;bG=false}if(bF){bD=bD||"fx";var e=bD+"mark",bE=bG?0:((b._data(bF,e)||1)-1);if(bE){b._data(bF,e,bE)}else{b.removeData(bF,e,true);br(bF,bD,"mark")}}},queue:function(bD,e,bF){var bE;if(bD){e=(e||"fx")+"queue";bE=b._data(bD,e);if(bF){if(!bE||b.isArray(bF)){bE=b._data(bD,e,b.makeArray(bF))}else{bE.push(bF)}}return bE||[]}},dequeue:function(bG,bF){bF=bF||"fx";var bD=b.queue(bG,bF),bE=bD.shift(),e={};if(bE==="inprogress"){bE=bD.shift()}if(bE){if(bF==="fx"){bD.unshift("inprogress")}b._data(bG,bF+".run",e);bE.call(bG,function(){b.dequeue(bG,bF)},e)}if(!bD.length){b.removeData(bG,bF+"queue "+bF+".run",true);br(bG,bF,"queue")}}});b.fn.extend({queue:function(e,bD){var bE=2;if(typeof e!=="string"){bD=e;e="fx";bE--}if(arguments.length<bE){return b.queue(this[0],e)}return bD===S?this:this.each(function(){var bF=b.queue(this,e,bD);if(e==="fx"&&bF[0]!=="inprogress"){b.dequeue(this,e)}})},dequeue:function(e){return this.each(function(){b.dequeue(this,e)})},delay:function(bD,e){bD=b.fx?b.fx.speeds[bD]||bD:bD;e=e||"fx";return this.queue(e,function(bF,bE){var bG=setTimeout(bF,bD);bE.stop=function(){clearTimeout(bG)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(bL,bE){if(typeof bL!=="string"){bE=bL;bL=S}bL=bL||"fx";var e=b.Deferred(),bD=this,bG=bD.length,bJ=1,bH=bL+"defer",bI=bL+"queue",bK=bL+"mark",bF;function bM(){if(!(--bJ)){e.resolveWith(bD,[bD])}}while(bG--){if((bF=b.data(bD[bG],bH,S,true)||(b.data(bD[bG],bI,S,true)||b.data(bD[bG],bK,S,true))&&b.data(bD[bG],bH,b.Callbacks("once memory"),true))){bJ++;bF.add(bM)}}bM();return e.promise(bE)}});var aX=/[\n\t\r]/g,an=/\s+/,a2=/\r/g,j=/^(?:button|input)$/i,J=/^(?:button|input|object|select|textarea)$/i,p=/^a(?:rea)?$/i,aw=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,L=b.support.getSetAttribute,bn,a6,aN;b.fn.extend({attr:function(e,bD){return b.access(this,b.attr,e,bD,arguments.length>1)},removeAttr:function(e){return this.each(function(){b.removeAttr(this,e)})},prop:function(e,bD){return b.access(this,b.prop,e,bD,arguments.length>1)},removeProp:function(e){e=b.propFix[e]||e;return this.each(function(){try{this[e]=S;delete this[e]}catch(bD){}})},addClass:function(bG){var bI,bE,bD,bF,bH,bJ,e;if(b.isFunction(bG)){return this.each(function(bK){b(this).addClass(bG.call(this,bK,this.className))})}if(bG&&typeof bG==="string"){bI=bG.split(an);for(bE=0,bD=this.length;bE<bD;bE++){bF=this[bE];if(bF.nodeType===1){if(!bF.className&&bI.length===1){bF.className=bG}else{bH=" "+bF.className+" ";for(bJ=0,e=bI.length;bJ<e;bJ++){if(!~bH.indexOf(" "+bI[bJ]+" ")){bH+=bI[bJ]+" "}}bF.className=b.trim(bH)}}}}return this},removeClass:function(bH){var bI,bE,bD,bG,bF,bJ,e;if(b.isFunction(bH)){return this.each(function(bK){b(this).removeClass(bH.call(this,bK,this.className))})}if((bH&&typeof bH==="string")||bH===S){bI=(bH||"").split(an);for(bE=0,bD=this.length;bE<bD;bE++){bG=this[bE];if(bG.nodeType===1&&bG.className){if(bH){bF=(" "+bG.className+" ").replace(aX," ");for(bJ=0,e=bI.length;bJ<e;bJ++){bF=bF.replace(" "+bI[bJ]+" "," ")}bG.className=b.trim(bF)}else{bG.className=""}}}}return this},toggleClass:function(bF,bD){var bE=typeof bF,e=typeof bD==="boolean";if(b.isFunction(bF)){return this.each(function(bG){b(this).toggleClass(bF.call(this,bG,this.className,bD),bD)})}return this.each(function(){if(bE==="string"){var bI,bH=0,bG=b(this),bJ=bD,bK=bF.split(an);while((bI=bK[bH++])){bJ=e?bJ:!bG.hasClass(bI);bG[bJ?"addClass":"removeClass"](bI)}}else{if(bE==="undefined"||bE==="boolean"){if(this.className){b._data(this,"__className__",this.className)}this.className=this.className||bF===false?"":b._data(this,"__className__")||""}}})},hasClass:function(e){var bF=" "+e+" ",bE=0,bD=this.length;for(;bE<bD;bE++){if(this[bE].nodeType===1&&(" "+this[bE].className+" ").replace(aX," ").indexOf(bF)>-1){return true}}return false},val:function(bF){var e,bD,bG,bE=this[0];if(!arguments.length){if(bE){e=b.valHooks[bE.type]||b.valHooks[bE.nodeName.toLowerCase()];if(e&&"get" in e&&(bD=e.get(bE,"value"))!==S){return bD}bD=bE.value;return typeof bD==="string"?bD.replace(a2,""):bD==null?"":bD}return}bG=b.isFunction(bF);return this.each(function(bI){var bH=b(this),bJ;if(this.nodeType!==1){return}if(bG){bJ=bF.call(this,bI,bH.val())}else{bJ=bF}if(bJ==null){bJ=""}else{if(typeof bJ==="number"){bJ+=""}else{if(b.isArray(bJ)){bJ=b.map(bJ,function(bK){return bK==null?"":bK+""})}}}e=b.valHooks[this.type]||b.valHooks[this.nodeName.toLowerCase()];if(!e||!("set" in e)||e.set(this,bJ,"value")===S){this.value=bJ}})}});b.extend({valHooks:{option:{get:function(e){var bD=e.attributes.value;return !bD||bD.specified?e.value:e.text}},select:{get:function(e){var bI,bD,bH,bF,bG=e.selectedIndex,bJ=[],bK=e.options,bE=e.type==="select-one";if(bG<0){return null}bD=bE?bG:0;bH=bE?bG+1:bK.length;for(;bD<bH;bD++){bF=bK[bD];if(bF.selected&&(b.support.optDisabled?!bF.disabled:bF.getAttribute("disabled")===null)&&(!bF.parentNode.disabled||!b.nodeName(bF.parentNode,"optgroup"))){bI=b(bF).val();if(bE){return bI}bJ.push(bI)}}if(bE&&!bJ.length&&bK.length){return b(bK[bG]).val()}return bJ},set:function(bD,bE){var e=b.makeArray(bE);b(bD).find("option").each(function(){this.selected=b.inArray(b(this).val(),e)>=0});if(!e.length){bD.selectedIndex=-1}return e}}},attrFn:{val:true,css:true,html:true,text:true,data:true,width:true,height:true,offset:true},attr:function(bI,bF,bJ,bH){var bE,e,bG,bD=bI.nodeType;if(!bI||bD===3||bD===8||bD===2){return}if(bH&&bF in b.attrFn){return b(bI)[bF](bJ)}if(typeof bI.getAttribute==="undefined"){return b.prop(bI,bF,bJ)}bG=bD!==1||!b.isXMLDoc(bI);if(bG){bF=bF.toLowerCase();e=b.attrHooks[bF]||(aw.test(bF)?a6:bn)}if(bJ!==S){if(bJ===null){b.removeAttr(bI,bF);return}else{if(e&&"set" in e&&bG&&(bE=e.set(bI,bJ,bF))!==S){return bE}else{bI.setAttribute(bF,""+bJ);return bJ}}}else{if(e&&"get" in e&&bG&&(bE=e.get(bI,bF))!==null){return bE}else{bE=bI.getAttribute(bF);return bE===null?S:bE}}},removeAttr:function(bG,bI){var bH,bJ,bE,e,bD,bF=0;if(bI&&bG.nodeType===1){bJ=bI.toLowerCase().split(an);e=bJ.length;for(;bF<e;bF++){bE=bJ[bF];if(bE){bH=b.propFix[bE]||bE;bD=aw.test(bE);if(!bD){b.attr(bG,bE,"")}bG.removeAttribute(L?bE:bH);if(bD&&bH in bG){bG[bH]=false}}}}},attrHooks:{type:{set:function(e,bD){if(j.test(e.nodeName)&&e.parentNode){b.error("type property can't be changed")}else{if(!b.support.radioValue&&bD==="radio"&&b.nodeName(e,"input")){var bE=e.value;e.setAttribute("type",bD);if(bE){e.value=bE}return bD}}}},value:{get:function(bD,e){if(bn&&b.nodeName(bD,"button")){return bn.get(bD,e)}return e in bD?bD.value:null},set:function(bD,bE,e){if(bn&&b.nodeName(bD,"button")){return bn.set(bD,bE,e)}bD.value=bE}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(bH,bF,bI){var bE,e,bG,bD=bH.nodeType;if(!bH||bD===3||bD===8||bD===2){return}bG=bD!==1||!b.isXMLDoc(bH);if(bG){bF=b.propFix[bF]||bF;e=b.propHooks[bF]}if(bI!==S){if(e&&"set" in e&&(bE=e.set(bH,bI,bF))!==S){return bE}else{return(bH[bF]=bI)}}else{if(e&&"get" in e&&(bE=e.get(bH,bF))!==null){return bE}else{return bH[bF]}}},propHooks:{tabIndex:{get:function(bD){var e=bD.getAttributeNode("tabindex");return e&&e.specified?parseInt(e.value,10):J.test(bD.nodeName)||p.test(bD.nodeName)&&bD.href?0:S}}}});b.attrHooks.tabindex=b.propHooks.tabIndex;a6={get:function(bD,e){var bF,bE=b.prop(bD,e);return bE===true||typeof bE!=="boolean"&&(bF=bD.getAttributeNode(e))&&bF.nodeValue!==false?e.toLowerCase():S},set:function(bD,bF,e){var bE;if(bF===false){b.removeAttr(bD,e)}else{bE=b.propFix[e]||e;if(bE in bD){bD[bE]=true}bD.setAttribute(e,e.toLowerCase())}return e}};if(!L){aN={name:true,id:true,coords:true};bn=b.valHooks.button={get:function(bE,bD){var e;e=bE.getAttributeNode(bD);return e&&(aN[bD]?e.nodeValue!=="":e.specified)?e.nodeValue:S},set:function(bE,bF,bD){var e=bE.getAttributeNode(bD);if(!e){e=aC.createAttribute(bD);bE.setAttributeNode(e)}return(e.nodeValue=bF+"")}};b.attrHooks.tabindex.set=bn.set;b.each(["width","height"],function(bD,e){b.attrHooks[e]=b.extend(b.attrHooks[e],{set:function(bE,bF){if(bF===""){bE.setAttribute(e,"auto");return bF}}})});b.attrHooks.contenteditable={get:bn.get,set:function(bD,bE,e){if(bE===""){bE="false"}bn.set(bD,bE,e)}}}if(!b.support.hrefNormalized){b.each(["href","src","width","height"],function(bD,e){b.attrHooks[e]=b.extend(b.attrHooks[e],{get:function(bF){var bE=bF.getAttribute(e,2);return bE===null?S:bE}})})}if(!b.support.style){b.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||S},set:function(e,bD){return(e.style.cssText=""+bD)}}}if(!b.support.optSelected){b.propHooks.selected=b.extend(b.propHooks.selected,{get:function(bD){var e=bD.parentNode;if(e){e.selectedIndex;if(e.parentNode){e.parentNode.selectedIndex}}return null}})}if(!b.support.enctype){b.propFix.enctype="encoding"}if(!b.support.checkOn){b.each(["radio","checkbox"],function(){b.valHooks[this]={get:function(e){return e.getAttribute("value")===null?"on":e.value}}})}b.each(["radio","checkbox"],function(){b.valHooks[this]=b.extend(b.valHooks[this],{set:function(e,bD){if(b.isArray(bD)){return(e.checked=b.inArray(b(e).val(),bD)>=0)}}})});var bm=/^(?:textarea|input|select)$/i,r=/^([^\.]*)?(?:\.(.+))?$/,Q=/(?:^|\s)hover(\.\S+)?\b/,aW=/^key/,bo=/^(?:mouse|contextmenu)|click/,aa=/^(?:focusinfocus|focusoutblur)$/,ab=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,af=function(e){var bD=ab.exec(e);if(bD){bD[1]=(bD[1]||"").toLowerCase();bD[3]=bD[3]&&new RegExp("(?:^|\\s)"+bD[3]+"(?:\\s|$)")}return bD},n=function(bE,e){var bD=bE.attributes||{};return((!e[1]||bE.nodeName.toLowerCase()===e[1])&&(!e[2]||(bD.id||{}).value===e[2])&&(!e[3]||e[3].test((bD["class"]||{}).value)))},bB=function(e){return b.event.special.hover?e:e.replace(Q,"mouseenter$1 mouseleave$1")};b.event={add:function(bF,bK,bR,bI,bG){var bL,bJ,bS,bQ,bP,bN,e,bO,bD,bH,bE,bM;if(bF.nodeType===3||bF.nodeType===8||!bK||!bR||!(bL=b._data(bF))){return}if(bR.handler){bD=bR;bR=bD.handler;bG=bD.selector}if(!bR.guid){bR.guid=b.guid++}bS=bL.events;if(!bS){bL.events=bS={}}bJ=bL.handle;if(!bJ){bL.handle=bJ=function(bT){return typeof b!=="undefined"&&(!bT||b.event.triggered!==bT.type)?b.event.dispatch.apply(bJ.elem,arguments):S};bJ.elem=bF}bK=b.trim(bB(bK)).split(" ");for(bQ=0;bQ<bK.length;bQ++){bP=r.exec(bK[bQ])||[];bN=bP[1];e=(bP[2]||"").split(".").sort();bM=b.event.special[bN]||{};bN=(bG?bM.delegateType:bM.bindType)||bN;bM=b.event.special[bN]||{};bO=b.extend({type:bN,origType:bP[1],data:bI,handler:bR,guid:bR.guid,selector:bG,quick:bG&&af(bG),namespace:e.join(".")},bD);bE=bS[bN];if(!bE){bE=bS[bN]=[];bE.delegateCount=0;if(!bM.setup||bM.setup.call(bF,bI,e,bJ)===false){if(bF.addEventListener){bF.addEventListener(bN,bJ,false)}else{if(bF.attachEvent){bF.attachEvent("on"+bN,bJ)}}}}if(bM.add){bM.add.call(bF,bO);if(!bO.handler.guid){bO.handler.guid=bR.guid}}if(bG){bE.splice(bE.delegateCount++,0,bO)}else{bE.push(bO)}b.event.global[bN]=true}bF=null},global:{},remove:function(bR,bM,bD,bP,bJ){var bQ=b.hasData(bR)&&b._data(bR),bN,bF,bH,bT,bK,bI,bO,bE,bG,bS,bL,e;if(!bQ||!(bE=bQ.events)){return}bM=b.trim(bB(bM||"")).split(" ");for(bN=0;bN<bM.length;bN++){bF=r.exec(bM[bN])||[];bH=bT=bF[1];bK=bF[2];if(!bH){for(bH in bE){b.event.remove(bR,bH+bM[bN],bD,bP,true)}continue}bG=b.event.special[bH]||{};bH=(bP?bG.delegateType:bG.bindType)||bH;bL=bE[bH]||[];bI=bL.length;bK=bK?new RegExp("(^|\\.)"+bK.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null;for(bO=0;bO<bL.length;bO++){e=bL[bO];if((bJ||bT===e.origType)&&(!bD||bD.guid===e.guid)&&(!bK||bK.test(e.namespace))&&(!bP||bP===e.selector||bP==="**"&&e.selector)){bL.splice(bO--,1);if(e.selector){bL.delegateCount--}if(bG.remove){bG.remove.call(bR,e)}}}if(bL.length===0&&bI!==bL.length){if(!bG.teardown||bG.teardown.call(bR,bK)===false){b.removeEvent(bR,bH,bQ.handle)}delete bE[bH]}}if(b.isEmptyObject(bE)){bS=bQ.handle;if(bS){bS.elem=null}b.removeData(bR,["events","handle"],true)}},customEvent:{getData:true,setData:true,changeData:true},trigger:function(bD,bL,bI,bR){if(bI&&(bI.nodeType===3||bI.nodeType===8)){return}var bO=bD.type||bD,bF=[],e,bE,bK,bP,bH,bG,bN,bM,bJ,bQ;if(aa.test(bO+b.event.triggered)){return}if(bO.indexOf("!")>=0){bO=bO.slice(0,-1);bE=true}if(bO.indexOf(".")>=0){bF=bO.split(".");bO=bF.shift();bF.sort()}if((!bI||b.event.customEvent[bO])&&!b.event.global[bO]){return}bD=typeof bD==="object"?bD[b.expando]?bD:new b.Event(bO,bD):new b.Event(bO);bD.type=bO;bD.isTrigger=true;bD.exclusive=bE;bD.namespace=bF.join(".");bD.namespace_re=bD.namespace?new RegExp("(^|\\.)"+bF.join("\\.(?:.*\\.)?")+"(\\.|$)"):null;bG=bO.indexOf(":")<0?"on"+bO:"";if(!bI){e=b.cache;for(bK in e){if(e[bK].events&&e[bK].events[bO]){b.event.trigger(bD,bL,e[bK].handle.elem,true)}}return}bD.result=S;if(!bD.target){bD.target=bI}bL=bL!=null?b.makeArray(bL):[];bL.unshift(bD);bN=b.event.special[bO]||{};if(bN.trigger&&bN.trigger.apply(bI,bL)===false){return}bJ=[[bI,bN.bindType||bO]];if(!bR&&!bN.noBubble&&!b.isWindow(bI)){bQ=bN.delegateType||bO;bP=aa.test(bQ+bO)?bI:bI.parentNode;bH=null;for(;bP;bP=bP.parentNode){bJ.push([bP,bQ]);bH=bP}if(bH&&bH===bI.ownerDocument){bJ.push([bH.defaultView||bH.parentWindow||bl,bQ])}}for(bK=0;bK<bJ.length&&!bD.isPropagationStopped();bK++){bP=bJ[bK][0];bD.type=bJ[bK][1];bM=(b._data(bP,"events")||{})[bD.type]&&b._data(bP,"handle");if(bM){bM.apply(bP,bL)}bM=bG&&bP[bG];if(bM&&b.acceptData(bP)&&bM.apply(bP,bL)===false){bD.preventDefault()}}bD.type=bO;if(!bR&&!bD.isDefaultPrevented()){if((!bN._default||bN._default.apply(bI.ownerDocument,bL)===false)&&!(bO==="click"&&b.nodeName(bI,"a"))&&b.acceptData(bI)){if(bG&&bI[bO]&&((bO!=="focus"&&bO!=="blur")||bD.target.offsetWidth!==0)&&!b.isWindow(bI)){bH=bI[bG];if(bH){bI[bG]=null}b.event.triggered=bO;bI[bO]();b.event.triggered=S;if(bH){bI[bG]=bH}}}}return bD.result},dispatch:function(bP){bP=b.event.fix(bP||bl.event);var bL=((b._data(this,"events")||{})[bP.type]||[]),bK=bL.delegateCount,bF=[].slice.call(arguments,0),bM=!bP.exclusive&&!bP.namespace,bH=b.event.special[bP.type]||{},bD=[],bR,bO,bG,bI,bS,bQ,bJ,bE,e,bN,bT;bF[0]=bP;bP.delegateTarget=this;if(bH.preDispatch&&bH.preDispatch.call(this,bP)===false){return}if(bK&&!(bP.button&&bP.type==="click")){bI=b(this);bI.context=this.ownerDocument||this;for(bG=bP.target;bG!=this;bG=bG.parentNode||this){if(bG.disabled!==true){bQ={};bE=[];bI[0]=bG;for(bR=0;bR<bK;bR++){e=bL[bR];bN=e.selector;if(bQ[bN]===S){bQ[bN]=(e.quick?n(bG,e.quick):bI.is(bN))}if(bQ[bN]){bE.push(e)}}if(bE.length){bD.push({elem:bG,matches:bE})}}}}if(bL.length>bK){bD.push({elem:this,matches:bL.slice(bK)})}for(bR=0;bR<bD.length&&!bP.isPropagationStopped();bR++){bJ=bD[bR];bP.currentTarget=bJ.elem;for(bO=0;bO<bJ.matches.length&&!bP.isImmediatePropagationStopped();bO++){e=bJ.matches[bO];if(bM||(!bP.namespace&&!e.namespace)||bP.namespace_re&&bP.namespace_re.test(e.namespace)){bP.data=e.data;bP.handleObj=e;bS=((b.event.special[e.origType]||{}).handle||e.handler).apply(bJ.elem,bF);if(bS!==S){bP.result=bS;if(bS===false){bP.preventDefault();bP.stopPropagation()}}}}}if(bH.postDispatch){bH.postDispatch.call(this,bP)}return bP.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(bD,e){if(bD.which==null){bD.which=e.charCode!=null?e.charCode:e.keyCode}return bD}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(bF,bE){var bG,bH,e,bD=bE.button,bI=bE.fromElement;if(bF.pageX==null&&bE.clientX!=null){bG=bF.target.ownerDocument||aC;bH=bG.documentElement;e=bG.body;bF.pageX=bE.clientX+(bH&&bH.scrollLeft||e&&e.scrollLeft||0)-(bH&&bH.clientLeft||e&&e.clientLeft||0);bF.pageY=bE.clientY+(bH&&bH.scrollTop||e&&e.scrollTop||0)-(bH&&bH.clientTop||e&&e.clientTop||0)}if(!bF.relatedTarget&&bI){bF.relatedTarget=bI===bF.target?bE.toElement:bI}if(!bF.which&&bD!==S){bF.which=(bD&1?1:(bD&2?3:(bD&4?2:0)))}return bF}},fix:function(bE){if(bE[b.expando]){return bE}var bD,bH,e=bE,bF=b.event.fixHooks[bE.type]||{},bG=bF.props?this.props.concat(bF.props):this.props;bE=b.Event(e);for(bD=bG.length;bD;){bH=bG[--bD];bE[bH]=e[bH]}if(!bE.target){bE.target=e.srcElement||aC}if(bE.target.nodeType===3){bE.target=bE.target.parentNode}if(bE.metaKey===S){bE.metaKey=bE.ctrlKey}return bF.filter?bF.filter(bE,e):bE},special:{ready:{setup:b.bindReady},load:{noBubble:true},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(bE,bD,e){if(b.isWindow(this)){this.onbeforeunload=e}},teardown:function(bD,e){if(this.onbeforeunload===e){this.onbeforeunload=null}}}},simulate:function(bE,bG,bF,bD){var bH=b.extend(new b.Event(),bF,{type:bE,isSimulated:true,originalEvent:{}});if(bD){b.event.trigger(bH,null,bG)}else{b.event.dispatch.call(bG,bH)}if(bH.isDefaultPrevented()){bF.preventDefault()}}};b.event.handle=b.event.dispatch;b.removeEvent=aC.removeEventListener?function(bD,e,bE){if(bD.removeEventListener){bD.removeEventListener(e,bE,false)}}:function(bD,e,bE){if(bD.detachEvent){bD.detachEvent("on"+e,bE)}};b.Event=function(bD,e){if(!(this instanceof b.Event)){return new b.Event(bD,e)}if(bD&&bD.type){this.originalEvent=bD;this.type=bD.type;this.isDefaultPrevented=(bD.defaultPrevented||bD.returnValue===false||bD.getPreventDefault&&bD.getPreventDefault())?l:bt}else{this.type=bD}if(e){b.extend(this,e)}this.timeStamp=bD&&bD.timeStamp||b.now();this[b.expando]=true};function bt(){return false}function l(){return true}b.Event.prototype={preventDefault:function(){this.isDefaultPrevented=l;var bD=this.originalEvent;if(!bD){return}if(bD.preventDefault){bD.preventDefault()}else{bD.returnValue=false}},stopPropagation:function(){this.isPropagationStopped=l;var bD=this.originalEvent;if(!bD){return}if(bD.stopPropagation){bD.stopPropagation()}bD.cancelBubble=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l;this.stopPropagation()},isDefaultPrevented:bt,isPropagationStopped:bt,isImmediatePropagationStopped:bt};b.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(bD,e){b.event.special[bD]={delegateType:e,bindType:e,handle:function(bH){var bJ=this,bI=bH.relatedTarget,bG=bH.handleObj,bE=bG.selector,bF;if(!bI||(bI!==bJ&&!b.contains(bJ,bI))){bH.type=bG.origType;bF=bG.handler.apply(this,arguments);bH.type=e}return bF}}});if(!b.support.submitBubbles){b.event.special.submit={setup:function(){if(b.nodeName(this,"form")){return false}b.event.add(this,"click._submit keypress._submit",function(bF){var bE=bF.target,bD=b.nodeName(bE,"input")||b.nodeName(bE,"button")?bE.form:S;if(bD&&!bD._submit_attached){b.event.add(bD,"submit._submit",function(e){e._submit_bubble=true});bD._submit_attached=true}})},postDispatch:function(e){if(e._submit_bubble){delete e._submit_bubble;if(this.parentNode&&!e.isTrigger){b.event.simulate("submit",this.parentNode,e,true)}}},teardown:function(){if(b.nodeName(this,"form")){return false}b.event.remove(this,"._submit")}}}if(!b.support.changeBubbles){b.event.special.change={setup:function(){if(bm.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio"){b.event.add(this,"propertychange._change",function(e){if(e.originalEvent.propertyName==="checked"){this._just_changed=true}});b.event.add(this,"click._change",function(e){if(this._just_changed&&!e.isTrigger){this._just_changed=false;b.event.simulate("change",this,e,true)}})}return false}b.event.add(this,"beforeactivate._change",function(bE){var bD=bE.target;if(bm.test(bD.nodeName)&&!bD._change_attached){b.event.add(bD,"change._change",function(e){if(this.parentNode&&!e.isSimulated&&!e.isTrigger){b.event.simulate("change",this.parentNode,e,true)}});bD._change_attached=true}})},handle:function(bD){var e=bD.target;if(this!==e||bD.isSimulated||bD.isTrigger||(e.type!=="radio"&&e.type!=="checkbox")){return bD.handleObj.handler.apply(this,arguments)}},teardown:function(){b.event.remove(this,"._change");return bm.test(this.nodeName)}}}if(!b.support.focusinBubbles){b.each({focus:"focusin",blur:"focusout"},function(bF,e){var bD=0,bE=function(bG){b.event.simulate(e,bG.target,b.event.fix(bG),true)};b.event.special[e]={setup:function(){if(bD++===0){aC.addEventListener(bF,bE,true)}},teardown:function(){if(--bD===0){aC.removeEventListener(bF,bE,true)}}}})}b.fn.extend({on:function(bE,e,bH,bG,bD){var bI,bF;if(typeof bE==="object"){if(typeof e!=="string"){bH=bH||e;e=S}for(bF in bE){this.on(bF,e,bH,bE[bF],bD)}return this}if(bH==null&&bG==null){bG=e;bH=e=S}else{if(bG==null){if(typeof e==="string"){bG=bH;bH=S}else{bG=bH;bH=e;e=S}}}if(bG===false){bG=bt}else{if(!bG){return this}}if(bD===1){bI=bG;bG=function(bJ){b().off(bJ);return bI.apply(this,arguments)};bG.guid=bI.guid||(bI.guid=b.guid++)}return this.each(function(){b.event.add(this,bE,bG,bH,e)})},one:function(bD,e,bF,bE){return this.on(bD,e,bF,bE,1)},off:function(bE,e,bG){if(bE&&bE.preventDefault&&bE.handleObj){var bD=bE.handleObj;b(bE.delegateTarget).off(bD.namespace?bD.origType+"."+bD.namespace:bD.origType,bD.selector,bD.handler);return this}if(typeof bE==="object"){for(var bF in bE){this.off(bF,e,bE[bF])}return this}if(e===false||typeof e==="function"){bG=e;e=S}if(bG===false){bG=bt}return this.each(function(){b.event.remove(this,bE,bG,e)})},bind:function(e,bE,bD){return this.on(e,null,bE,bD)},unbind:function(e,bD){return this.off(e,null,bD)},live:function(e,bE,bD){b(this.context).on(e,this.selector,bE,bD);return this},die:function(e,bD){b(this.context).off(e,this.selector||"**",bD);return this},delegate:function(e,bD,bF,bE){return this.on(bD,e,bF,bE)},undelegate:function(e,bD,bE){return arguments.length==1?this.off(e,"**"):this.off(bD,e,bE)},trigger:function(e,bD){return this.each(function(){b.event.trigger(e,bD,this)})},triggerHandler:function(e,bD){if(this[0]){return b.event.trigger(e,bD,this[0],true)}},toggle:function(bF){var bD=arguments,e=bF.guid||b.guid++,bE=0,bG=function(bH){var bI=(b._data(this,"lastToggle"+bF.guid)||0)%bE;b._data(this,"lastToggle"+bF.guid,bI+1);bH.preventDefault();return bD[bI].apply(this,arguments)||false};bG.guid=e;while(bE<bD.length){bD[bE++].guid=e}return this.click(bG)},hover:function(e,bD){return this.mouseenter(e).mouseleave(bD||e)}});b.each(("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu").split(" "),function(bD,e){b.fn[e]=function(bF,bE){if(bE==null){bE=bF;bF=null}return arguments.length>0?this.on(e,null,bF,bE):this.trigger(e)};if(b.attrFn){b.attrFn[e]=true}if(aW.test(e)){b.event.fixHooks[e]=b.event.keyHooks}if(bo.test(e)){b.event.fixHooks[e]=b.event.mouseHooks}});
/*!
 * Sizzle CSS Selector Engine
 *  Copyright 2011, The Dojo Foundation
 *  Released under the MIT, BSD, and GPL Licenses.
 *  More information: http://sizzlejs.com/
 */
(function(){var bP=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,bK="sizcache"+(Math.random()+"").replace(".",""),bQ=0,bT=Object.prototype.toString,bJ=false,bI=true,bS=/\\/g,bW=/\r\n/g,bY=/\W/;[0,0].sort(function(){bI=false;return 0});var bG=function(b3,e,b6,b7){b6=b6||[];e=e||aC;var b9=e;if(e.nodeType!==1&&e.nodeType!==9){return[]}if(!b3||typeof b3!=="string"){return b6}var b0,cb,ce,bZ,ca,cd,cc,b5,b2=true,b1=bG.isXML(e),b4=[],b8=b3;do{bP.exec("");b0=bP.exec(b8);if(b0){b8=b0[3];b4.push(b0[1]);if(b0[2]){bZ=b0[3];break}}}while(b0);if(b4.length>1&&bL.exec(b3)){if(b4.length===2&&bM.relative[b4[0]]){cb=bU(b4[0]+b4[1],e,b7)}else{cb=bM.relative[b4[0]]?[e]:bG(b4.shift(),e);while(b4.length){b3=b4.shift();if(bM.relative[b3]){b3+=b4.shift()}cb=bU(b3,cb,b7)}}}else{if(!b7&&b4.length>1&&e.nodeType===9&&!b1&&bM.match.ID.test(b4[0])&&!bM.match.ID.test(b4[b4.length-1])){ca=bG.find(b4.shift(),e,b1);e=ca.expr?bG.filter(ca.expr,ca.set)[0]:ca.set[0]}if(e){ca=b7?{expr:b4.pop(),set:bN(b7)}:bG.find(b4.pop(),b4.length===1&&(b4[0]==="~"||b4[0]==="+")&&e.parentNode?e.parentNode:e,b1);cb=ca.expr?bG.filter(ca.expr,ca.set):ca.set;if(b4.length>0){ce=bN(cb)}else{b2=false}while(b4.length){cd=b4.pop();cc=cd;if(!bM.relative[cd]){cd=""}else{cc=b4.pop()}if(cc==null){cc=e}bM.relative[cd](ce,cc,b1)}}else{ce=b4=[]}}if(!ce){ce=cb}if(!ce){bG.error(cd||b3)}if(bT.call(ce)==="[object Array]"){if(!b2){b6.push.apply(b6,ce)}else{if(e&&e.nodeType===1){for(b5=0;ce[b5]!=null;b5++){if(ce[b5]&&(ce[b5]===true||ce[b5].nodeType===1&&bG.contains(e,ce[b5]))){b6.push(cb[b5])}}}else{for(b5=0;ce[b5]!=null;b5++){if(ce[b5]&&ce[b5].nodeType===1){b6.push(cb[b5])}}}}}else{bN(ce,b6)}if(bZ){bG(bZ,b9,b6,b7);bG.uniqueSort(b6)}return b6};bG.uniqueSort=function(bZ){if(bR){bJ=bI;bZ.sort(bR);if(bJ){for(var e=1;e<bZ.length;e++){if(bZ[e]===bZ[e-1]){bZ.splice(e--,1)}}}}return bZ};bG.matches=function(e,bZ){return bG(e,null,null,bZ)};bG.matchesSelector=function(e,bZ){return bG(bZ,null,null,[e]).length>0};bG.find=function(b5,e,b6){var b4,b0,b2,b1,b3,bZ;if(!b5){return[]}for(b0=0,b2=bM.order.length;b0<b2;b0++){b3=bM.order[b0];if((b1=bM.leftMatch[b3].exec(b5))){bZ=b1[1];b1.splice(1,1);if(bZ.substr(bZ.length-1)!=="\\"){b1[1]=(b1[1]||"").replace(bS,"");b4=bM.find[b3](b1,e,b6);if(b4!=null){b5=b5.replace(bM.match[b3],"");break}}}}if(!b4){b4=typeof e.getElementsByTagName!=="undefined"?e.getElementsByTagName("*"):[]}return{set:b4,expr:b5}};bG.filter=function(b9,b8,cc,b2){var b4,e,b7,ce,cb,bZ,b1,b3,ca,b0=b9,cd=[],b6=b8,b5=b8&&b8[0]&&bG.isXML(b8[0]);while(b9&&b8.length){for(b7 in bM.filter){if((b4=bM.leftMatch[b7].exec(b9))!=null&&b4[2]){bZ=bM.filter[b7];b1=b4[1];e=false;b4.splice(1,1);if(b1.substr(b1.length-1)==="\\"){continue}if(b6===cd){cd=[]}if(bM.preFilter[b7]){b4=bM.preFilter[b7](b4,b6,cc,cd,b2,b5);if(!b4){e=ce=true}else{if(b4===true){continue}}}if(b4){for(b3=0;(cb=b6[b3])!=null;b3++){if(cb){ce=bZ(cb,b4,b3,b6);ca=b2^ce;if(cc&&ce!=null){if(ca){e=true}else{b6[b3]=false}}else{if(ca){cd.push(cb);e=true}}}}}if(ce!==S){if(!cc){b6=cd}b9=b9.replace(bM.match[b7],"");if(!e){return[]}break}}}if(b9===b0){if(e==null){bG.error(b9)}else{break}}b0=b9}return b6};bG.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};var bE=bG.getText=function(b2){var b0,b1,e=b2.nodeType,bZ="";if(e){if(e===1||e===9||e===11){if(typeof b2.textContent==="string"){return b2.textContent}else{if(typeof b2.innerText==="string"){return b2.innerText.replace(bW,"")}else{for(b2=b2.firstChild;b2;b2=b2.nextSibling){bZ+=bE(b2)}}}}else{if(e===3||e===4){return b2.nodeValue}}}else{for(b0=0;(b1=b2[b0]);b0++){if(b1.nodeType!==8){bZ+=bE(b1)}}}return bZ};var bM=bG.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(e){return e.getAttribute("href")},type:function(e){return e.getAttribute("type")}},relative:{"+":function(b4,bZ){var b1=typeof bZ==="string",b3=b1&&!bY.test(bZ),b5=b1&&!b3;if(b3){bZ=bZ.toLowerCase()}for(var b0=0,e=b4.length,b2;b0<e;b0++){if((b2=b4[b0])){while((b2=b2.previousSibling)&&b2.nodeType!==1){}b4[b0]=b5||b2&&b2.nodeName.toLowerCase()===bZ?b2||false:b2===bZ}}if(b5){bG.filter(bZ,b4,true)}},">":function(b4,bZ){var b3,b2=typeof bZ==="string",b0=0,e=b4.length;if(b2&&!bY.test(bZ)){bZ=bZ.toLowerCase();for(;b0<e;b0++){b3=b4[b0];if(b3){var b1=b3.parentNode;b4[b0]=b1.nodeName.toLowerCase()===bZ?b1:false}}}else{for(;b0<e;b0++){b3=b4[b0];if(b3){b4[b0]=b2?b3.parentNode:b3.parentNode===bZ}}if(b2){bG.filter(bZ,b4,true)}}},"":function(b1,bZ,b3){var b2,b0=bQ++,e=bV;if(typeof bZ==="string"&&!bY.test(bZ)){bZ=bZ.toLowerCase();b2=bZ;e=bD}e("parentNode",bZ,b0,b1,b2,b3)},"~":function(b1,bZ,b3){var b2,b0=bQ++,e=bV;if(typeof bZ==="string"&&!bY.test(bZ)){bZ=bZ.toLowerCase();b2=bZ;e=bD}e("previousSibling",bZ,b0,b1,b2,b3)}},find:{ID:function(bZ,b0,b1){if(typeof b0.getElementById!=="undefined"&&!b1){var e=b0.getElementById(bZ[1]);return e&&e.parentNode?[e]:[]}},NAME:function(b0,b3){if(typeof b3.getElementsByName!=="undefined"){var bZ=[],b2=b3.getElementsByName(b0[1]);for(var b1=0,e=b2.length;b1<e;b1++){if(b2[b1].getAttribute("name")===b0[1]){bZ.push(b2[b1])}}return bZ.length===0?null:bZ}},TAG:function(e,bZ){if(typeof bZ.getElementsByTagName!=="undefined"){return bZ.getElementsByTagName(e[1])}}},preFilter:{CLASS:function(b1,bZ,b0,e,b4,b5){b1=" "+b1[1].replace(bS,"")+" ";if(b5){return b1}for(var b2=0,b3;(b3=bZ[b2])!=null;b2++){if(b3){if(b4^(b3.className&&(" "+b3.className+" ").replace(/[\t\n\r]/g," ").indexOf(b1)>=0)){if(!b0){e.push(b3)}}else{if(b0){bZ[b2]=false}}}}return false},ID:function(e){return e[1].replace(bS,"")},TAG:function(bZ,e){return bZ[1].replace(bS,"").toLowerCase()},CHILD:function(e){if(e[1]==="nth"){if(!e[2]){bG.error(e[0])}e[2]=e[2].replace(/^\+|\s*/g,"");var bZ=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(e[2]==="even"&&"2n"||e[2]==="odd"&&"2n+1"||!/\D/.test(e[2])&&"0n+"+e[2]||e[2]);e[2]=(bZ[1]+(bZ[2]||1))-0;e[3]=bZ[3]-0}else{if(e[2]){bG.error(e[0])}}e[0]=bQ++;return e},ATTR:function(b2,bZ,b0,e,b3,b4){var b1=b2[1]=b2[1].replace(bS,"");if(!b4&&bM.attrMap[b1]){b2[1]=bM.attrMap[b1]}b2[4]=(b2[4]||b2[5]||"").replace(bS,"");if(b2[2]==="~="){b2[4]=" "+b2[4]+" "}return b2},PSEUDO:function(b2,bZ,b0,e,b3){if(b2[1]==="not"){if((bP.exec(b2[3])||"").length>1||/^\w/.test(b2[3])){b2[3]=bG(b2[3],null,null,bZ)}else{var b1=bG.filter(b2[3],bZ,b0,true^b3);if(!b0){e.push.apply(e,b1)}return false}}else{if(bM.match.POS.test(b2[0])||bM.match.CHILD.test(b2[0])){return true}}return b2},POS:function(e){e.unshift(true);return e}},filters:{enabled:function(e){return e.disabled===false&&e.type!=="hidden"},disabled:function(e){return e.disabled===true},checked:function(e){return e.checked===true},selected:function(e){if(e.parentNode){e.parentNode.selectedIndex}return e.selected===true},parent:function(e){return !!e.firstChild},empty:function(e){return !e.firstChild},has:function(b0,bZ,e){return !!bG(e[3],b0).length},header:function(e){return(/h\d/i).test(e.nodeName)},text:function(b0){var e=b0.getAttribute("type"),bZ=b0.type;return b0.nodeName.toLowerCase()==="input"&&"text"===bZ&&(e===bZ||e===null)},radio:function(e){return e.nodeName.toLowerCase()==="input"&&"radio"===e.type},checkbox:function(e){return e.nodeName.toLowerCase()==="input"&&"checkbox"===e.type},file:function(e){return e.nodeName.toLowerCase()==="input"&&"file"===e.type},password:function(e){return e.nodeName.toLowerCase()==="input"&&"password"===e.type},submit:function(bZ){var e=bZ.nodeName.toLowerCase();return(e==="input"||e==="button")&&"submit"===bZ.type},image:function(e){return e.nodeName.toLowerCase()==="input"&&"image"===e.type},reset:function(bZ){var e=bZ.nodeName.toLowerCase();return(e==="input"||e==="button")&&"reset"===bZ.type},button:function(bZ){var e=bZ.nodeName.toLowerCase();return e==="input"&&"button"===bZ.type||e==="button"},input:function(e){return(/input|select|textarea|button/i).test(e.nodeName)},focus:function(e){return e===e.ownerDocument.activeElement}},setFilters:{first:function(bZ,e){return e===0},last:function(b0,bZ,e,b1){return bZ===b1.length-1},even:function(bZ,e){return e%2===0},odd:function(bZ,e){return e%2===1},lt:function(b0,bZ,e){return bZ<e[3]-0},gt:function(b0,bZ,e){return bZ>e[3]-0},nth:function(b0,bZ,e){return e[3]-0===bZ},eq:function(b0,bZ,e){return e[3]-0===bZ}},filter:{PSEUDO:function(b0,b5,b4,b6){var e=b5[1],bZ=bM.filters[e];if(bZ){return bZ(b0,b4,b5,b6)}else{if(e==="contains"){return(b0.textContent||b0.innerText||bE([b0])||"").indexOf(b5[3])>=0}else{if(e==="not"){var b1=b5[3];for(var b3=0,b2=b1.length;b3<b2;b3++){if(b1[b3]===b0){return false}}return true}else{bG.error(e)}}}},CHILD:function(b0,b2){var b1,b8,b4,b7,e,b3,b6,b5=b2[1],bZ=b0;switch(b5){case"only":case"first":while((bZ=bZ.previousSibling)){if(bZ.nodeType===1){return false}}if(b5==="first"){return true}bZ=b0;case"last":while((bZ=bZ.nextSibling)){if(bZ.nodeType===1){return false}}return true;case"nth":b1=b2[2];b8=b2[3];if(b1===1&&b8===0){return true}b4=b2[0];b7=b0.parentNode;if(b7&&(b7[bK]!==b4||!b0.nodeIndex)){b3=0;for(bZ=b7.firstChild;bZ;bZ=bZ.nextSibling){if(bZ.nodeType===1){bZ.nodeIndex=++b3}}b7[bK]=b4}b6=b0.nodeIndex-b8;if(b1===0){return b6===0}else{return(b6%b1===0&&b6/b1>=0)}}},ID:function(bZ,e){return bZ.nodeType===1&&bZ.getAttribute("id")===e},TAG:function(bZ,e){return(e==="*"&&bZ.nodeType===1)||!!bZ.nodeName&&bZ.nodeName.toLowerCase()===e},CLASS:function(bZ,e){return(" "+(bZ.className||bZ.getAttribute("class"))+" ").indexOf(e)>-1},ATTR:function(b3,b1){var b0=b1[1],e=bG.attr?bG.attr(b3,b0):bM.attrHandle[b0]?bM.attrHandle[b0](b3):b3[b0]!=null?b3[b0]:b3.getAttribute(b0),b4=e+"",b2=b1[2],bZ=b1[4];return e==null?b2==="!=":!b2&&bG.attr?e!=null:b2==="="?b4===bZ:b2==="*="?b4.indexOf(bZ)>=0:b2==="~="?(" "+b4+" ").indexOf(bZ)>=0:!bZ?b4&&e!==false:b2==="!="?b4!==bZ:b2==="^="?b4.indexOf(bZ)===0:b2==="$="?b4.substr(b4.length-bZ.length)===bZ:b2==="|="?b4===bZ||b4.substr(0,bZ.length+1)===bZ+"-":false},POS:function(b2,bZ,b0,b3){var e=bZ[2],b1=bM.setFilters[e];if(b1){return b1(b2,b0,bZ,b3)}}}};var bL=bM.match.POS,bF=function(bZ,e){return"\\"+(e-0+1)};for(var bH in bM.match){bM.match[bH]=new RegExp(bM.match[bH].source+(/(?![^\[]*\])(?![^\(]*\))/.source));bM.leftMatch[bH]=new RegExp(/(^(?:.|\r|\n)*?)/.source+bM.match[bH].source.replace(/\\(\d+)/g,bF))}bM.match.globalPOS=bL;var bN=function(bZ,e){bZ=Array.prototype.slice.call(bZ,0);if(e){e.push.apply(e,bZ);return e}return bZ};try{Array.prototype.slice.call(aC.documentElement.childNodes,0)[0].nodeType}catch(bX){bN=function(b2,b1){var b0=0,bZ=b1||[];if(bT.call(b2)==="[object Array]"){Array.prototype.push.apply(bZ,b2)}else{if(typeof b2.length==="number"){for(var e=b2.length;b0<e;b0++){bZ.push(b2[b0])}}else{for(;b2[b0];b0++){bZ.push(b2[b0])}}}return bZ}}var bR,bO;if(aC.documentElement.compareDocumentPosition){bR=function(bZ,e){if(bZ===e){bJ=true;return 0}if(!bZ.compareDocumentPosition||!e.compareDocumentPosition){return bZ.compareDocumentPosition?-1:1}return bZ.compareDocumentPosition(e)&4?-1:1}}else{bR=function(b6,b5){if(b6===b5){bJ=true;return 0}else{if(b6.sourceIndex&&b5.sourceIndex){return b6.sourceIndex-b5.sourceIndex}}var b3,bZ,b0=[],e=[],b2=b6.parentNode,b4=b5.parentNode,b7=b2;if(b2===b4){return bO(b6,b5)}else{if(!b2){return -1}else{if(!b4){return 1}}}while(b7){b0.unshift(b7);b7=b7.parentNode}b7=b4;while(b7){e.unshift(b7);b7=b7.parentNode}b3=b0.length;bZ=e.length;for(var b1=0;b1<b3&&b1<bZ;b1++){if(b0[b1]!==e[b1]){return bO(b0[b1],e[b1])}}return b1===b3?bO(b6,e[b1],-1):bO(b0[b1],b5,1)};bO=function(bZ,e,b0){if(bZ===e){return b0}var b1=bZ.nextSibling;while(b1){if(b1===e){return -1}b1=b1.nextSibling}return 1}}(function(){var bZ=aC.createElement("div"),b0="script"+(new Date()).getTime(),e=aC.documentElement;bZ.innerHTML="<a name='"+b0+"'/>";e.insertBefore(bZ,e.firstChild);if(aC.getElementById(b0)){bM.find.ID=function(b2,b3,b4){if(typeof b3.getElementById!=="undefined"&&!b4){var b1=b3.getElementById(b2[1]);return b1?b1.id===b2[1]||typeof b1.getAttributeNode!=="undefined"&&b1.getAttributeNode("id").nodeValue===b2[1]?[b1]:S:[]}};bM.filter.ID=function(b3,b1){var b2=typeof b3.getAttributeNode!=="undefined"&&b3.getAttributeNode("id");return b3.nodeType===1&&b2&&b2.nodeValue===b1}}e.removeChild(bZ);e=bZ=null})();(function(){var e=aC.createElement("div");e.appendChild(aC.createComment(""));if(e.getElementsByTagName("*").length>0){bM.find.TAG=function(bZ,b3){var b2=b3.getElementsByTagName(bZ[1]);if(bZ[1]==="*"){var b1=[];for(var b0=0;b2[b0];b0++){if(b2[b0].nodeType===1){b1.push(b2[b0])}}b2=b1}return b2}}e.innerHTML="<a href='#'></a>";if(e.firstChild&&typeof e.firstChild.getAttribute!=="undefined"&&e.firstChild.getAttribute("href")!=="#"){bM.attrHandle.href=function(bZ){return bZ.getAttribute("href",2)}}e=null})();if(aC.querySelectorAll){(function(){var e=bG,b1=aC.createElement("div"),b0="__sizzle__";b1.innerHTML="<p class='TEST'></p>";if(b1.querySelectorAll&&b1.querySelectorAll(".TEST").length===0){return}bG=function(cc,b3,b7,cb){b3=b3||aC;if(!cb&&!bG.isXML(b3)){var ca=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(cc);if(ca&&(b3.nodeType===1||b3.nodeType===9)){if(ca[1]){return bN(b3.getElementsByTagName(cc),b7)}else{if(ca[2]&&bM.find.CLASS&&b3.getElementsByClassName){return bN(b3.getElementsByClassName(ca[2]),b7)}}}if(b3.nodeType===9){if(cc==="body"&&b3.body){return bN([b3.body],b7)}else{if(ca&&ca[3]){var b6=b3.getElementById(ca[3]);if(b6&&b6.parentNode){if(b6.id===ca[3]){return bN([b6],b7)}}else{return bN([],b7)}}}try{return bN(b3.querySelectorAll(cc),b7)}catch(b8){}}else{if(b3.nodeType===1&&b3.nodeName.toLowerCase()!=="object"){var b4=b3,b5=b3.getAttribute("id"),b2=b5||b0,ce=b3.parentNode,cd=/^\s*[+~]/.test(cc);if(!b5){b3.setAttribute("id",b2)}else{b2=b2.replace(/'/g,"\\$&")}if(cd&&ce){b3=b3.parentNode}try{if(!cd||ce){return bN(b3.querySelectorAll("[id='"+b2+"'] "+cc),b7)}}catch(b9){}finally{if(!b5){b4.removeAttribute("id")}}}}}return e(cc,b3,b7,cb)};for(var bZ in e){bG[bZ]=e[bZ]}b1=null})()}(function(){var e=aC.documentElement,b0=e.matchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.msMatchesSelector;if(b0){var b2=!b0.call(aC.createElement("div"),"div"),bZ=false;try{b0.call(aC.documentElement,"[test!='']:sizzle")}catch(b1){bZ=true}bG.matchesSelector=function(b4,b6){b6=b6.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!bG.isXML(b4)){try{if(bZ||!bM.match.PSEUDO.test(b6)&&!/!=/.test(b6)){var b3=b0.call(b4,b6);if(b3||!b2||b4.document&&b4.document.nodeType!==11){return b3}}}catch(b5){}}return bG(b6,null,null,[b4]).length>0}}})();(function(){var e=aC.createElement("div");e.innerHTML="<div class='test e'></div><div class='test'></div>";if(!e.getElementsByClassName||e.getElementsByClassName("e").length===0){return}e.lastChild.className="e";if(e.getElementsByClassName("e").length===1){return}bM.order.splice(1,0,"CLASS");bM.find.CLASS=function(bZ,b0,b1){if(typeof b0.getElementsByClassName!=="undefined"&&!b1){return b0.getElementsByClassName(bZ[1])}};e=null})();function bD(bZ,b4,b3,b7,b5,b6){for(var b1=0,b0=b7.length;b1<b0;b1++){var e=b7[b1];if(e){var b2=false;e=e[bZ];while(e){if(e[bK]===b3){b2=b7[e.sizset];break}if(e.nodeType===1&&!b6){e[bK]=b3;e.sizset=b1}if(e.nodeName.toLowerCase()===b4){b2=e;break}e=e[bZ]}b7[b1]=b2}}}function bV(bZ,b4,b3,b7,b5,b6){for(var b1=0,b0=b7.length;b1<b0;b1++){var e=b7[b1];if(e){var b2=false;e=e[bZ];while(e){if(e[bK]===b3){b2=b7[e.sizset];break}if(e.nodeType===1){if(!b6){e[bK]=b3;e.sizset=b1}if(typeof b4!=="string"){if(e===b4){b2=true;break}}else{if(bG.filter(b4,[e]).length>0){b2=e;break}}}e=e[bZ]}b7[b1]=b2}}}if(aC.documentElement.contains){bG.contains=function(bZ,e){return bZ!==e&&(bZ.contains?bZ.contains(e):true)}}else{if(aC.documentElement.compareDocumentPosition){bG.contains=function(bZ,e){return !!(bZ.compareDocumentPosition(e)&16)}}else{bG.contains=function(){return false}}}bG.isXML=function(e){var bZ=(e?e.ownerDocument||e:0).documentElement;return bZ?bZ.nodeName!=="HTML":false};var bU=function(b0,e,b4){var b3,b5=[],b2="",b6=e.nodeType?[e]:e;while((b3=bM.match.PSEUDO.exec(b0))){b2+=b3[0];b0=b0.replace(bM.match.PSEUDO,"")}b0=bM.relative[b0]?b0+"*":b0;for(var b1=0,bZ=b6.length;b1<bZ;b1++){bG(b0,b6[b1],b5,b4)}return bG.filter(b2,b5)};bG.attr=b.attr;bG.selectors.attrMap={};b.find=bG;b.expr=bG.selectors;b.expr[":"]=b.expr.filters;b.unique=bG.uniqueSort;b.text=bG.getText;b.isXMLDoc=bG.isXML;b.contains=bG.contains})();var ai=/Until$/,ay=/^(?:parents|prevUntil|prevAll)/,bj=/,/,bx=/^.[^:#\[\.,]*$/,W=Array.prototype.slice,O=b.expr.match.globalPOS,aF={children:true,contents:true,next:true,prev:true};b.fn.extend({find:function(e){var bE=this,bG,bD;if(typeof e!=="string"){return b(e).filter(function(){for(bG=0,bD=bE.length;bG<bD;bG++){if(b.contains(bE[bG],this)){return true}}})}var bF=this.pushStack("","find",e),bI,bJ,bH;for(bG=0,bD=this.length;bG<bD;bG++){bI=bF.length;b.find(e,this[bG],bF);if(bG>0){for(bJ=bI;bJ<bF.length;bJ++){for(bH=0;bH<bI;bH++){if(bF[bH]===bF[bJ]){bF.splice(bJ--,1);break}}}}}return bF},has:function(bD){var e=b(bD);return this.filter(function(){for(var bF=0,bE=e.length;bF<bE;bF++){if(b.contains(this,e[bF])){return true}}})},not:function(e){return this.pushStack(aO(this,e,false),"not",e)},filter:function(e){return this.pushStack(aO(this,e,true),"filter",e)},is:function(e){return !!e&&(typeof e==="string"?O.test(e)?b(e,this.context).index(this[0])>=0:b.filter(e,this).length>0:this.filter(e).length>0)},closest:function(bG,bF){var bD=[],bE,e,bH=this[0];if(b.isArray(bG)){var bJ=1;while(bH&&bH.ownerDocument&&bH!==bF){for(bE=0;bE<bG.length;bE++){if(b(bH).is(bG[bE])){bD.push({selector:bG[bE],elem:bH,level:bJ})}}bH=bH.parentNode;bJ++}return bD}var bI=O.test(bG)||typeof bG!=="string"?b(bG,bF||this.context):0;for(bE=0,e=this.length;bE<e;bE++){bH=this[bE];while(bH){if(bI?bI.index(bH)>-1:b.find.matchesSelector(bH,bG)){bD.push(bH);break}else{bH=bH.parentNode;if(!bH||!bH.ownerDocument||bH===bF||bH.nodeType===11){break}}}}bD=bD.length>1?b.unique(bD):bD;return this.pushStack(bD,"closest",bG)},index:function(e){if(!e){return(this[0]&&this[0].parentNode)?this.prevAll().length:-1}if(typeof e==="string"){return b.inArray(this[0],b(e))}return b.inArray(e.jquery?e[0]:e,this)},add:function(e,bD){var bF=typeof e==="string"?b(e,bD):b.makeArray(e&&e.nodeType?[e]:e),bE=b.merge(this.get(),bF);return this.pushStack(I(bF[0])||I(bE[0])?bE:b.unique(bE))},andSelf:function(){return this.add(this.prevObject)}});function I(e){return !e||!e.parentNode||e.parentNode.nodeType===11}b.each({parent:function(bD){var e=bD.parentNode;return e&&e.nodeType!==11?e:null},parents:function(e){return b.dir(e,"parentNode")},parentsUntil:function(bD,e,bE){return b.dir(bD,"parentNode",bE)},next:function(e){return b.nth(e,2,"nextSibling")},prev:function(e){return b.nth(e,2,"previousSibling")},nextAll:function(e){return b.dir(e,"nextSibling")},prevAll:function(e){return b.dir(e,"previousSibling")},nextUntil:function(bD,e,bE){return b.dir(bD,"nextSibling",bE)},prevUntil:function(bD,e,bE){return b.dir(bD,"previousSibling",bE)},siblings:function(e){return b.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return b.sibling(e.firstChild)},contents:function(e){return b.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:b.makeArray(e.childNodes)}},function(e,bD){b.fn[e]=function(bG,bE){var bF=b.map(this,bD,bG);if(!ai.test(e)){bE=bG}if(bE&&typeof bE==="string"){bF=b.filter(bE,bF)}bF=this.length>1&&!aF[e]?b.unique(bF):bF;if((this.length>1||bj.test(bE))&&ay.test(e)){bF=bF.reverse()}return this.pushStack(bF,e,W.call(arguments).join(","))}});b.extend({filter:function(bE,e,bD){if(bD){bE=":not("+bE+")"}return e.length===1?b.find.matchesSelector(e[0],bE)?[e[0]]:[]:b.find.matches(bE,e)},dir:function(bE,bD,bG){var e=[],bF=bE[bD];while(bF&&bF.nodeType!==9&&(bG===S||bF.nodeType!==1||!b(bF).is(bG))){if(bF.nodeType===1){e.push(bF)}bF=bF[bD]}return e},nth:function(bG,e,bE,bF){e=e||1;var bD=0;for(;bG;bG=bG[bE]){if(bG.nodeType===1&&++bD===e){break}}return bG},sibling:function(bE,bD){var e=[];for(;bE;bE=bE.nextSibling){if(bE.nodeType===1&&bE!==bD){e.push(bE)}}return e}});function aO(bF,bE,e){bE=bE||0;if(b.isFunction(bE)){return b.grep(bF,function(bH,bG){var bI=!!bE.call(bH,bG,bH);return bI===e})}else{if(bE.nodeType){return b.grep(bF,function(bH,bG){return(bH===bE)===e})}else{if(typeof bE==="string"){var bD=b.grep(bF,function(bG){return bG.nodeType===1});if(bx.test(bE)){return b.filter(bE,bD,!e)}else{bE=b.filter(bE,bD)}}}}return b.grep(bF,function(bH,bG){return(b.inArray(bH,bE)>=0)===e})}function a(e){var bE=aZ.split("|"),bD=e.createDocumentFragment();if(bD.createElement){while(bE.length){bD.createElement(bE.pop())}}return bD}var aZ="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",ao=/ jQuery\d+="(?:\d+|null)"/g,az=/^\s+/,Y=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,f=/<([\w:]+)/,C=/<tbody/i,ad=/<|&#?\w+;/,al=/<(?:script|style)/i,V=/<(?:script|object|embed|option|style)/i,ap=new RegExp("<(?:"+aZ+")[\\s/>]","i"),s=/checked\s*(?:[^=]|=\s*.checked.)/i,bv=/\/(java|ecma)script/i,aV=/^\s*<!(?:\[CDATA\[|\-\-)/,aE={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},aj=a(aC);aE.optgroup=aE.option;aE.tbody=aE.tfoot=aE.colgroup=aE.caption=aE.thead;aE.th=aE.td;if(!b.support.htmlSerialize){aE._default=[1,"div<div>","</div>"]}b.fn.extend({text:function(e){return b.access(this,function(bD){return bD===S?b.text(this):this.empty().append((this[0]&&this[0].ownerDocument||aC).createTextNode(bD))},null,e,arguments.length)},wrapAll:function(e){if(b.isFunction(e)){return this.each(function(bE){b(this).wrapAll(e.call(this,bE))})}if(this[0]){var bD=b(e,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){bD.insertBefore(this[0])}bD.map(function(){var bE=this;while(bE.firstChild&&bE.firstChild.nodeType===1){bE=bE.firstChild}return bE}).append(this)}return this},wrapInner:function(e){if(b.isFunction(e)){return this.each(function(bD){b(this).wrapInner(e.call(this,bD))})}return this.each(function(){var bD=b(this),bE=bD.contents();if(bE.length){bE.wrapAll(e)}else{bD.append(e)}})},wrap:function(e){var bD=b.isFunction(e);return this.each(function(bE){b(this).wrapAll(bD?e.call(this,bE):e)})},unwrap:function(){return this.parent().each(function(){if(!b.nodeName(this,"body")){b(this).replaceWith(this.childNodes)}}).end()},append:function(){return this.domManip(arguments,true,function(e){if(this.nodeType===1){this.appendChild(e)}})},prepend:function(){return this.domManip(arguments,true,function(e){if(this.nodeType===1){this.insertBefore(e,this.firstChild)}})},before:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,false,function(bD){this.parentNode.insertBefore(bD,this)})}else{if(arguments.length){var e=b.clean(arguments);e.push.apply(e,this.toArray());return this.pushStack(e,"before",arguments)}}},after:function(){if(this[0]&&this[0].parentNode){return this.domManip(arguments,false,function(bD){this.parentNode.insertBefore(bD,this.nextSibling)})}else{if(arguments.length){var e=this.pushStack(this,"after",arguments);e.push.apply(e,b.clean(arguments));return e}}},remove:function(e,bF){for(var bD=0,bE;(bE=this[bD])!=null;bD++){if(!e||b.filter(e,[bE]).length){if(!bF&&bE.nodeType===1){b.cleanData(bE.getElementsByTagName("*"));b.cleanData([bE])}if(bE.parentNode){bE.parentNode.removeChild(bE)}}}return this},empty:function(){for(var e=0,bD;(bD=this[e])!=null;e++){if(bD.nodeType===1){b.cleanData(bD.getElementsByTagName("*"))}while(bD.firstChild){bD.removeChild(bD.firstChild)}}return this},clone:function(bD,e){bD=bD==null?false:bD;e=e==null?bD:e;return this.map(function(){return b.clone(this,bD,e)})},html:function(e){return b.access(this,function(bG){var bF=this[0]||{},bE=0,bD=this.length;if(bG===S){return bF.nodeType===1?bF.innerHTML.replace(ao,""):null}if(typeof bG==="string"&&!al.test(bG)&&(b.support.leadingWhitespace||!az.test(bG))&&!aE[(f.exec(bG)||["",""])[1].toLowerCase()]){bG=bG.replace(Y,"<$1></$2>");try{for(;bE<bD;bE++){bF=this[bE]||{};if(bF.nodeType===1){b.cleanData(bF.getElementsByTagName("*"));bF.innerHTML=bG}}bF=0}catch(bH){}}if(bF){this.empty().append(bG)}},null,e,arguments.length)},replaceWith:function(e){if(this[0]&&this[0].parentNode){if(b.isFunction(e)){return this.each(function(bF){var bE=b(this),bD=bE.html();bE.replaceWith(e.call(this,bF,bD))})}if(typeof e!=="string"){e=b(e).detach()}return this.each(function(){var bE=this.nextSibling,bD=this.parentNode;b(this).remove();if(bE){b(bE).before(e)}else{b(bD).append(e)}})}else{return this.length?this.pushStack(b(b.isFunction(e)?e():e),"replaceWith",e):this}},detach:function(e){return this.remove(e,true)},domManip:function(bJ,bN,bM){var bF,bG,bI,bL,bK=bJ[0],bD=[];if(!b.support.checkClone&&arguments.length===3&&typeof bK==="string"&&s.test(bK)){return this.each(function(){b(this).domManip(bJ,bN,bM,true)})}if(b.isFunction(bK)){return this.each(function(bP){var bO=b(this);bJ[0]=bK.call(this,bP,bN?bO.html():S);bO.domManip(bJ,bN,bM)})}if(this[0]){bL=bK&&bK.parentNode;if(b.support.parentNode&&bL&&bL.nodeType===11&&bL.childNodes.length===this.length){bF={fragment:bL}}else{bF=b.buildFragment(bJ,this,bD)}bI=bF.fragment;if(bI.childNodes.length===1){bG=bI=bI.firstChild}else{bG=bI.firstChild}if(bG){bN=bN&&b.nodeName(bG,"tr");for(var bE=0,e=this.length,bH=e-1;bE<e;bE++){bM.call(bN?bk(this[bE],bG):this[bE],bF.cacheable||(e>1&&bE<bH)?b.clone(bI,true,true):bI)}}if(bD.length){b.each(bD,function(bO,bP){if(bP.src){b.ajax({type:"GET",global:false,url:bP.src,async:false,dataType:"script"})}else{b.globalEval((bP.text||bP.textContent||bP.innerHTML||"").replace(aV,"/*$0*/"))}if(bP.parentNode){bP.parentNode.removeChild(bP)}})}}return this}});function bk(e,bD){return b.nodeName(e,"table")?(e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody"))):e}function z(bJ,bD){if(bD.nodeType!==1||!b.hasData(bJ)){return}var bG,bF,e,bI=b._data(bJ),bH=b._data(bD,bI),bE=bI.events;if(bE){delete bH.handle;bH.events={};for(bG in bE){for(bF=0,e=bE[bG].length;bF<e;bF++){b.event.add(bD,bG,bE[bG][bF])}}}if(bH.data){bH.data=b.extend({},bH.data)}}function aq(bD,e){var bE;if(e.nodeType!==1){return}if(e.clearAttributes){e.clearAttributes()}if(e.mergeAttributes){e.mergeAttributes(bD)}bE=e.nodeName.toLowerCase();if(bE==="object"){e.outerHTML=bD.outerHTML}else{if(bE==="input"&&(bD.type==="checkbox"||bD.type==="radio")){if(bD.checked){e.defaultChecked=e.checked=bD.checked}if(e.value!==bD.value){e.value=bD.value}}else{if(bE==="option"){e.selected=bD.defaultSelected}else{if(bE==="input"||bE==="textarea"){e.defaultValue=bD.defaultValue}else{if(bE==="script"&&e.text!==bD.text){e.text=bD.text}}}}}e.removeAttribute(b.expando);e.removeAttribute("_submit_attached");e.removeAttribute("_change_attached")}b.buildFragment=function(bH,bF,bD){var bG,e,bE,bI,bJ=bH[0];if(bF&&bF[0]){bI=bF[0].ownerDocument||bF[0]}if(!bI.createDocumentFragment){bI=aC}if(bH.length===1&&typeof bJ==="string"&&bJ.length<512&&bI===aC&&bJ.charAt(0)==="<"&&!V.test(bJ)&&(b.support.checkClone||!s.test(bJ))&&(b.support.html5Clone||!ap.test(bJ))){e=true;bE=b.fragments[bJ];if(bE&&bE!==1){bG=bE}}if(!bG){bG=bI.createDocumentFragment();b.clean(bH,bI,bG,bD)}if(e){b.fragments[bJ]=bE?bG:1}return{fragment:bG,cacheable:e}};b.fragments={};b.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,bD){b.fn[e]=function(bE){var bH=[],bK=b(bE),bJ=this.length===1&&this[0].parentNode;if(bJ&&bJ.nodeType===11&&bJ.childNodes.length===1&&bK.length===1){bK[bD](this[0]);return this}else{for(var bI=0,bF=bK.length;bI<bF;bI++){var bG=(bI>0?this.clone(true):this).get();b(bK[bI])[bD](bG);bH=bH.concat(bG)}return this.pushStack(bH,e,bK.selector)}}});function bp(e){if(typeof e.getElementsByTagName!=="undefined"){return e.getElementsByTagName("*")}else{if(typeof e.querySelectorAll!=="undefined"){return e.querySelectorAll("*")}else{return[]}}}function aG(e){if(e.type==="checkbox"||e.type==="radio"){e.defaultChecked=e.checked}}function K(e){var bD=(e.nodeName||"").toLowerCase();if(bD==="input"){aG(e)}else{if(bD!=="script"&&typeof e.getElementsByTagName!=="undefined"){b.grep(e.getElementsByTagName("input"),aG)}}}function au(e){var bD=aC.createElement("div");aj.appendChild(bD);bD.innerHTML=e.outerHTML;return bD.firstChild}b.extend({clone:function(bG,bI,bE){var e,bD,bF,bH=b.support.html5Clone||b.isXMLDoc(bG)||!ap.test("<"+bG.nodeName+">")?bG.cloneNode(true):au(bG);if((!b.support.noCloneEvent||!b.support.noCloneChecked)&&(bG.nodeType===1||bG.nodeType===11)&&!b.isXMLDoc(bG)){aq(bG,bH);e=bp(bG);bD=bp(bH);for(bF=0;e[bF];++bF){if(bD[bF]){aq(e[bF],bD[bF])}}}if(bI){z(bG,bH);if(bE){e=bp(bG);bD=bp(bH);for(bF=0;e[bF];++bF){z(e[bF],bD[bF])}}}e=bD=null;return bH},clean:function(bQ,bE,bD,bF){var bI,bP,bL,bR=[];bE=bE||aC;if(typeof bE.createElement==="undefined"){bE=bE.ownerDocument||bE[0]&&bE[0].ownerDocument||aC}for(var bM=0,bO;(bO=bQ[bM])!=null;bM++){if(typeof bO==="number"){bO+=""}if(!bO){continue}if(typeof bO==="string"){if(!ad.test(bO)){bO=bE.createTextNode(bO)}else{bO=bO.replace(Y,"<$1></$2>");var bV=(f.exec(bO)||["",""])[1].toLowerCase(),bH=aE[bV]||aE._default,bS=bH[0],bJ=bE.createElement("div"),bT=aj.childNodes,bU;if(bE===aC){aj.appendChild(bJ)}else{a(bE).appendChild(bJ)}bJ.innerHTML=bH[1]+bO+bH[2];while(bS--){bJ=bJ.lastChild}if(!b.support.tbody){var bG=C.test(bO),e=bV==="table"&&!bG?bJ.firstChild&&bJ.firstChild.childNodes:bH[1]==="<table>"&&!bG?bJ.childNodes:[];for(bL=e.length-1;bL>=0;--bL){if(b.nodeName(e[bL],"tbody")&&!e[bL].childNodes.length){e[bL].parentNode.removeChild(e[bL])}}}if(!b.support.leadingWhitespace&&az.test(bO)){bJ.insertBefore(bE.createTextNode(az.exec(bO)[0]),bJ.firstChild)}bO=bJ.childNodes;if(bJ){bJ.parentNode.removeChild(bJ);if(bT.length>0){bU=bT[bT.length-1];if(bU&&bU.parentNode){bU.parentNode.removeChild(bU)}}}}}var bN;if(!b.support.appendChecked){if(bO[0]&&typeof(bN=bO.length)==="number"){for(bL=0;bL<bN;bL++){K(bO[bL])}}else{K(bO)}}if(bO.nodeType){bR.push(bO)}else{bR=b.merge(bR,bO)}}if(bD){bI=function(bW){return !bW.type||bv.test(bW.type)};for(bM=0;bR[bM];bM++){bP=bR[bM];if(bF&&b.nodeName(bP,"script")&&(!bP.type||bv.test(bP.type))){bF.push(bP.parentNode?bP.parentNode.removeChild(bP):bP)}else{if(bP.nodeType===1){var bK=b.grep(bP.getElementsByTagName("script"),bI);bR.splice.apply(bR,[bM+1,0].concat(bK))}bD.appendChild(bP)}}}return bR},cleanData:function(bD){var bG,bE,e=b.cache,bJ=b.event.special,bI=b.support.deleteExpando;for(var bH=0,bF;(bF=bD[bH])!=null;bH++){if(bF.nodeName&&b.noData[bF.nodeName.toLowerCase()]){continue}bE=bF[b.expando];if(bE){bG=e[bE];if(bG&&bG.events){for(var bK in bG.events){if(bJ[bK]){b.event.remove(bF,bK)}else{b.removeEvent(bF,bK,bG.handle)}}if(bG.handle){bG.handle.elem=null}}if(bI){delete bF[b.expando]}else{if(bF.removeAttribute){bF.removeAttribute(b.expando)}}delete e[bE]}}}});var at=/alpha\([^)]*\)/i,aB=/opacity=([^)]*)/,F=/([A-Z]|^ms)/g,bw=/^[\-+]?(?:\d*\.)?\d+$/i,a8=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,P=/^([\-+])=([\-+.\de]+)/,aL=/^margin/,bh={position:"absolute",visibility:"hidden",display:"block"},N=["Top","Right","Bottom","Left"],ag,aQ,a5;b.fn.css=function(e,bD){return b.access(this,function(bF,bE,bG){return bG!==S?b.style(bF,bE,bG):b.css(bF,bE)},e,bD,arguments.length>1)};b.extend({cssHooks:{opacity:{get:function(bE,bD){if(bD){var e=ag(bE,"opacity");return e===""?"1":e}else{return bE.style.opacity}}}},cssNumber:{fillOpacity:true,fontWeight:true,lineHeight:true,opacity:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{"float":b.support.cssFloat?"cssFloat":"styleFloat"},style:function(bF,bE,bL,bG){if(!bF||bF.nodeType===3||bF.nodeType===8||!bF.style){return}var bJ,bK,bH=b.camelCase(bE),bD=bF.style,bM=b.cssHooks[bH];bE=b.cssProps[bH]||bH;if(bL!==S){bK=typeof bL;if(bK==="string"&&(bJ=P.exec(bL))){bL=(+(bJ[1]+1)*+bJ[2])+parseFloat(b.css(bF,bE));bK="number"}if(bL==null||bK==="number"&&isNaN(bL)){return}if(bK==="number"&&!b.cssNumber[bH]){bL+="px"}if(!bM||!("set" in bM)||(bL=bM.set(bF,bL))!==S){try{bD[bE]=bL}catch(bI){}}}else{if(bM&&"get" in bM&&(bJ=bM.get(bF,false,bG))!==S){return bJ}return bD[bE]}},css:function(bG,bF,bD){var bE,e;bF=b.camelCase(bF);e=b.cssHooks[bF];bF=b.cssProps[bF]||bF;if(bF==="cssFloat"){bF="float"}if(e&&"get" in e&&(bE=e.get(bG,true,bD))!==S){return bE}else{if(ag){return ag(bG,bF)}}},swap:function(bG,bF,bH){var e={},bE,bD;for(bD in bF){e[bD]=bG.style[bD];bG.style[bD]=bF[bD]}bE=bH.call(bG);for(bD in bF){bG.style[bD]=e[bD]}return bE}});b.curCSS=b.css;if(aC.defaultView&&aC.defaultView.getComputedStyle){aQ=function(bI,bE){var bD,bH,e,bG,bF=bI.style;bE=bE.replace(F,"-$1").toLowerCase();if((bH=bI.ownerDocument.defaultView)&&(e=bH.getComputedStyle(bI,null))){bD=e.getPropertyValue(bE);if(bD===""&&!b.contains(bI.ownerDocument.documentElement,bI)){bD=b.style(bI,bE)}}if(!b.support.pixelMargin&&e&&aL.test(bE)&&a8.test(bD)){bG=bF.width;bF.width=bD;bD=e.width;bF.width=bG}return bD}}if(aC.documentElement.currentStyle){a5=function(bH,bE){var bI,e,bG,bD=bH.currentStyle&&bH.currentStyle[bE],bF=bH.style;if(bD==null&&bF&&(bG=bF[bE])){bD=bG}if(a8.test(bD)){bI=bF.left;e=bH.runtimeStyle&&bH.runtimeStyle.left;if(e){bH.runtimeStyle.left=bH.currentStyle.left}bF.left=bE==="fontSize"?"1em":bD;bD=bF.pixelLeft+"px";bF.left=bI;if(e){bH.runtimeStyle.left=e}}return bD===""?"auto":bD}}ag=aQ||a5;function am(bG,bE,bD){var bH=bE==="width"?bG.offsetWidth:bG.offsetHeight,bF=bE==="width"?1:0,e=4;if(bH>0){if(bD!=="border"){for(;bF<e;bF+=2){if(!bD){bH-=parseFloat(b.css(bG,"padding"+N[bF]))||0}if(bD==="margin"){bH+=parseFloat(b.css(bG,bD+N[bF]))||0}else{bH-=parseFloat(b.css(bG,"border"+N[bF]+"Width"))||0}}}return bH+"px"}bH=ag(bG,bE);if(bH<0||bH==null){bH=bG.style[bE]}if(a8.test(bH)){return bH}bH=parseFloat(bH)||0;if(bD){for(;bF<e;bF+=2){bH+=parseFloat(b.css(bG,"padding"+N[bF]))||0;if(bD!=="padding"){bH+=parseFloat(b.css(bG,"border"+N[bF]+"Width"))||0}if(bD==="margin"){bH+=parseFloat(b.css(bG,bD+N[bF]))||0}}}return bH+"px"}b.each(["height","width"],function(bD,e){b.cssHooks[e]={get:function(bG,bF,bE){if(bF){if(bG.offsetWidth!==0){return am(bG,e,bE)}else{return b.swap(bG,bh,function(){return am(bG,e,bE)})}}},set:function(bE,bF){return bw.test(bF)?bF+"px":bF}}});if(!b.support.opacity){b.cssHooks.opacity={get:function(bD,e){return aB.test((e&&bD.currentStyle?bD.currentStyle.filter:bD.style.filter)||"")?(parseFloat(RegExp.$1)/100)+"":e?"1":""},set:function(bG,bH){var bF=bG.style,bD=bG.currentStyle,e=b.isNumeric(bH)?"alpha(opacity="+bH*100+")":"",bE=bD&&bD.filter||bF.filter||"";bF.zoom=1;if(bH>=1&&b.trim(bE.replace(at,""))===""){bF.removeAttribute("filter");if(bD&&!bD.filter){return}}bF.filter=at.test(bE)?bE.replace(at,e):bE+" "+e}}}b(function(){if(!b.support.reliableMarginRight){b.cssHooks.marginRight={get:function(bD,e){return b.swap(bD,{display:"inline-block"},function(){if(e){return ag(bD,"margin-right")}else{return bD.style.marginRight}})}}}});if(b.expr&&b.expr.filters){b.expr.filters.hidden=function(bE){var bD=bE.offsetWidth,e=bE.offsetHeight;return(bD===0&&e===0)||(!b.support.reliableHiddenOffsets&&((bE.style&&bE.style.display)||b.css(bE,"display"))==="none")};b.expr.filters.visible=function(e){return !b.expr.filters.hidden(e)}}b.each({margin:"",padding:"",border:"Width"},function(e,bD){b.cssHooks[e+bD]={expand:function(bG){var bF,bH=typeof bG==="string"?bG.split(" "):[bG],bE={};for(bF=0;bF<4;bF++){bE[e+N[bF]+bD]=bH[bF]||bH[bF-2]||bH[0]}return bE}}});var o=/%20/g,ax=/\[\]$/,bA=/\r?\n/g,by=/#.*$/,aK=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,a7=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,aU=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,aY=/^(?:GET|HEAD)$/,c=/^\/\//,T=/\?/,be=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,t=/^(?:select|textarea)/i,k=/\s+/,bz=/([?&])_=[^&]*/,R=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,G=b.fn.load,ah={},u={},aM,v,a3=["*/"]+["*"];try{aM=bu.href}catch(aD){aM=aC.createElement("a");aM.href="";aM=aM.href}v=R.exec(aM.toLowerCase())||[];function g(e){return function(bG,bI){if(typeof bG!=="string"){bI=bG;bG="*"}if(b.isFunction(bI)){var bF=bG.toLowerCase().split(k),bE=0,bH=bF.length,bD,bJ,bK;for(;bE<bH;bE++){bD=bF[bE];bK=/^\+/.test(bD);if(bK){bD=bD.substr(1)||"*"}bJ=e[bD]=e[bD]||[];bJ[bK?"unshift":"push"](bI)}}}}function a4(bD,bM,bH,bL,bJ,bF){bJ=bJ||bM.dataTypes[0];bF=bF||{};bF[bJ]=true;var bI=bD[bJ],bE=0,e=bI?bI.length:0,bG=(bD===ah),bK;for(;bE<e&&(bG||!bK);bE++){bK=bI[bE](bM,bH,bL);if(typeof bK==="string"){if(!bG||bF[bK]){bK=S}else{bM.dataTypes.unshift(bK);bK=a4(bD,bM,bH,bL,bK,bF)}}}if((bG||!bK)&&!bF["*"]){bK=a4(bD,bM,bH,bL,"*",bF)}return bK}function av(bE,bF){var bD,e,bG=b.ajaxSettings.flatOptions||{};for(bD in bF){if(bF[bD]!==S){(bG[bD]?bE:(e||(e={})))[bD]=bF[bD]}}if(e){b.extend(true,bE,e)}}b.fn.extend({load:function(bE,bH,bI){if(typeof bE!=="string"&&G){return G.apply(this,arguments)}else{if(!this.length){return this}}var bG=bE.indexOf(" ");if(bG>=0){var e=bE.slice(bG,bE.length);bE=bE.slice(0,bG)}var bF="GET";if(bH){if(b.isFunction(bH)){bI=bH;bH=S}else{if(typeof bH==="object"){bH=b.param(bH,b.ajaxSettings.traditional);bF="POST"}}}var bD=this;b.ajax({url:bE,type:bF,dataType:"html",data:bH,complete:function(bK,bJ,bL){bL=bK.responseText;if(bK.isResolved()){bK.done(function(bM){bL=bM});bD.html(e?b("<div>").append(bL.replace(be,"")).find(e):bL)}if(bI){bD.each(bI,[bL,bJ,bK])}}});return this},serialize:function(){return b.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?b.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||t.test(this.nodeName)||a7.test(this.type))}).map(function(e,bD){var bE=b(this).val();return bE==null?null:b.isArray(bE)?b.map(bE,function(bG,bF){return{name:bD.name,value:bG.replace(bA,"\r\n")}}):{name:bD.name,value:bE.replace(bA,"\r\n")}}).get()}});b.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,bD){b.fn[bD]=function(bE){return this.on(bD,bE)}});b.each(["get","post"],function(e,bD){b[bD]=function(bE,bG,bH,bF){if(b.isFunction(bG)){bF=bF||bH;bH=bG;bG=S}return b.ajax({type:bD,url:bE,data:bG,success:bH,dataType:bF})}});b.extend({getScript:function(e,bD){return b.get(e,S,bD,"script")},getJSON:function(e,bD,bE){return b.get(e,bD,bE,"json")},ajaxSetup:function(bD,e){if(e){av(bD,b.ajaxSettings)}else{e=bD;bD=b.ajaxSettings}av(bD,e);return bD},ajaxSettings:{url:aM,isLocal:aU.test(v[1]),global:true,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:true,async:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":a3},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":bl.String,"text html":true,"text json":b.parseJSON,"text xml":b.parseXML},flatOptions:{context:true,url:true}},ajaxPrefilter:g(ah),ajaxTransport:g(u),ajax:function(bH,bF){if(typeof bH==="object"){bF=bH;bH=S}bF=bF||{};var bL=b.ajaxSetup({},bF),b0=bL.context||bL,bO=b0!==bL&&(b0.nodeType||b0 instanceof b)?b(b0):b.event,bZ=b.Deferred(),bV=b.Callbacks("once memory"),bJ=bL.statusCode||{},bK,bP={},bW={},bY,bG,bT,bM,bQ,bI=0,bE,bS,bR={readyState:0,setRequestHeader:function(b1,b2){if(!bI){var e=b1.toLowerCase();b1=bW[e]=bW[e]||b1;bP[b1]=b2}return this},getAllResponseHeaders:function(){return bI===2?bY:null},getResponseHeader:function(b1){var e;if(bI===2){if(!bG){bG={};while((e=aK.exec(bY))){bG[e[1].toLowerCase()]=e[2]}}e=bG[b1.toLowerCase()]}return e===S?null:e},overrideMimeType:function(e){if(!bI){bL.mimeType=e}return this},abort:function(e){e=e||"abort";if(bT){bT.abort(e)}bN(0,e);return this}};function bN(b7,b2,b8,b4){if(bI===2){return}bI=2;if(bM){clearTimeout(bM)}bT=S;bY=b4||"";bR.readyState=b7>0?4:0;var b1,cc,cb,b5=b2,b6=b8?bs(bL,bR,b8):S,b3,ca;if(b7>=200&&b7<300||b7===304){if(bL.ifModified){if((b3=bR.getResponseHeader("Last-Modified"))){b.lastModified[bK]=b3}if((ca=bR.getResponseHeader("Etag"))){b.etag[bK]=ca}}if(b7===304){b5="notmodified";b1=true}else{try{cc=M(bL,b6);b5="success";b1=true}catch(b9){b5="parsererror";cb=b9}}}else{cb=b5;if(!b5||b7){b5="error";if(b7<0){b7=0}}}bR.status=b7;bR.statusText=""+(b2||b5);if(b1){bZ.resolveWith(b0,[cc,b5,bR])}else{bZ.rejectWith(b0,[bR,b5,cb])}bR.statusCode(bJ);bJ=S;if(bE){bO.trigger("ajax"+(b1?"Success":"Error"),[bR,bL,b1?cc:cb])}bV.fireWith(b0,[bR,b5]);if(bE){bO.trigger("ajaxComplete",[bR,bL]);if(!(--b.active)){b.event.trigger("ajaxStop")}}}bZ.promise(bR);bR.success=bR.done;bR.error=bR.fail;bR.complete=bV.add;bR.statusCode=function(b1){if(b1){var e;if(bI<2){for(e in b1){bJ[e]=[bJ[e],b1[e]]}}else{e=b1[bR.status];bR.then(e,e)}}return this};bL.url=((bH||bL.url)+"").replace(by,"").replace(c,v[1]+"//");bL.dataTypes=b.trim(bL.dataType||"*").toLowerCase().split(k);if(bL.crossDomain==null){bQ=R.exec(bL.url.toLowerCase());bL.crossDomain=!!(bQ&&(bQ[1]!=v[1]||bQ[2]!=v[2]||(bQ[3]||(bQ[1]==="http:"?80:443))!=(v[3]||(v[1]==="http:"?80:443))))}if(bL.data&&bL.processData&&typeof bL.data!=="string"){bL.data=b.param(bL.data,bL.traditional)}a4(ah,bL,bF,bR);if(bI===2){return false}bE=bL.global;bL.type=bL.type.toUpperCase();bL.hasContent=!aY.test(bL.type);if(bE&&b.active++===0){b.event.trigger("ajaxStart")}if(!bL.hasContent){if(bL.data){bL.url+=(T.test(bL.url)?"&":"?")+bL.data;delete bL.data}bK=bL.url;if(bL.cache===false){var bD=b.now(),bX=bL.url.replace(bz,"$1_="+bD);bL.url=bX+((bX===bL.url)?(T.test(bL.url)?"&":"?")+"_="+bD:"")}}if(bL.data&&bL.hasContent&&bL.contentType!==false||bF.contentType){bR.setRequestHeader("Content-Type",bL.contentType)}if(bL.ifModified){bK=bK||bL.url;if(b.lastModified[bK]){bR.setRequestHeader("If-Modified-Since",b.lastModified[bK])}if(b.etag[bK]){bR.setRequestHeader("If-None-Match",b.etag[bK])}}bR.setRequestHeader("Accept",bL.dataTypes[0]&&bL.accepts[bL.dataTypes[0]]?bL.accepts[bL.dataTypes[0]]+(bL.dataTypes[0]!=="*"?", "+a3+"; q=0.01":""):bL.accepts["*"]);for(bS in bL.headers){bR.setRequestHeader(bS,bL.headers[bS])}if(bL.beforeSend&&(bL.beforeSend.call(b0,bR,bL)===false||bI===2)){bR.abort();return false}for(bS in {success:1,error:1,complete:1}){bR[bS](bL[bS])}bT=a4(u,bL,bF,bR);if(!bT){bN(-1,"No Transport")}else{bR.readyState=1;if(bE){bO.trigger("ajaxSend",[bR,bL])}if(bL.async&&bL.timeout>0){bM=setTimeout(function(){bR.abort("timeout")},bL.timeout)}try{bI=1;bT.send(bP,bN)}catch(bU){if(bI<2){bN(-1,bU)}else{throw bU}}}return bR},param:function(e,bE){var bD=[],bG=function(bH,bI){bI=b.isFunction(bI)?bI():bI;bD[bD.length]=encodeURIComponent(bH)+"="+encodeURIComponent(bI)};if(bE===S){bE=b.ajaxSettings.traditional}if(b.isArray(e)||(e.jquery&&!b.isPlainObject(e))){b.each(e,function(){bG(this.name,this.value)})}else{for(var bF in e){B(bF,e[bF],bE,bG)}}return bD.join("&").replace(o,"+")}});function B(bE,bG,bD,bF){if(b.isArray(bG)){b.each(bG,function(bI,bH){if(bD||ax.test(bE)){bF(bE,bH)}else{B(bE+"["+(typeof bH==="object"?bI:"")+"]",bH,bD,bF)}})}else{if(!bD&&b.type(bG)==="object"){for(var e in bG){B(bE+"["+e+"]",bG[e],bD,bF)}}else{bF(bE,bG)}}}b.extend({active:0,lastModified:{},etag:{}});function bs(bL,bK,bH){var bD=bL.contents,bJ=bL.dataTypes,bE=bL.responseFields,bG,bI,bF,e;for(bI in bE){if(bI in bH){bK[bE[bI]]=bH[bI]}}while(bJ[0]==="*"){bJ.shift();if(bG===S){bG=bL.mimeType||bK.getResponseHeader("content-type")}}if(bG){for(bI in bD){if(bD[bI]&&bD[bI].test(bG)){bJ.unshift(bI);break}}}if(bJ[0] in bH){bF=bJ[0]}else{for(bI in bH){if(!bJ[0]||bL.converters[bI+" "+bJ[0]]){bF=bI;break}if(!e){e=bI}}bF=bF||e}if(bF){if(bF!==bJ[0]){bJ.unshift(bF)}return bH[bF]}}function M(bP,bH){if(bP.dataFilter){bH=bP.dataFilter(bH,bP.dataType)}var bL=bP.dataTypes,bO={},bI,bM,bE=bL.length,bJ,bK=bL[0],bF,bG,bN,bD,e;for(bI=1;bI<bE;bI++){if(bI===1){for(bM in bP.converters){if(typeof bM==="string"){bO[bM.toLowerCase()]=bP.converters[bM]}}}bF=bK;bK=bL[bI];if(bK==="*"){bK=bF}else{if(bF!=="*"&&bF!==bK){bG=bF+" "+bK;bN=bO[bG]||bO["* "+bK];if(!bN){e=S;for(bD in bO){bJ=bD.split(" ");if(bJ[0]===bF||bJ[0]==="*"){e=bO[bJ[1]+" "+bK];if(e){bD=bO[bD];if(bD===true){bN=e}else{if(e===true){bN=bD}}break}}}}if(!(bN||e)){b.error("No conversion from "+bG.replace(" "," to "))}if(bN!==true){bH=bN?bN(bH):e(bD(bH))}}}}return bH}var aJ=b.now(),A=/(\=)\?(&|$)|\?\?/i;b.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return b.expando+"_"+(aJ++)}});b.ajaxPrefilter("json jsonp",function(bL,bI,bK){var bF=(typeof bL.data==="string")&&/^application\/x\-www\-form\-urlencoded/.test(bL.contentType);if(bL.dataTypes[0]==="jsonp"||bL.jsonp!==false&&(A.test(bL.url)||bF&&A.test(bL.data))){var bJ,bE=bL.jsonpCallback=b.isFunction(bL.jsonpCallback)?bL.jsonpCallback():bL.jsonpCallback,bH=bl[bE],e=bL.url,bG=bL.data,bD="$1"+bE+"$2";if(bL.jsonp!==false){e=e.replace(A,bD);if(bL.url===e){if(bF){bG=bG.replace(A,bD)}if(bL.data===bG){e+=(/\?/.test(e)?"&":"?")+bL.jsonp+"="+bE}}}bL.url=e;bL.data=bG;bl[bE]=function(bM){bJ=[bM]};bK.always(function(){bl[bE]=bH;if(bJ&&b.isFunction(bH)){bl[bE](bJ[0])}});bL.converters["script json"]=function(){if(!bJ){b.error(bE+" was not called")}return bJ[0]};bL.dataTypes[0]="json";return"script"}});b.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){b.globalEval(e);return e}}});b.ajaxPrefilter("script",function(e){if(e.cache===S){e.cache=false}if(e.crossDomain){e.type="GET";e.global=false}});b.ajaxTransport("script",function(bE){if(bE.crossDomain){var e,bD=aC.head||aC.getElementsByTagName("head")[0]||aC.documentElement;return{send:function(bF,bG){e=aC.createElement("script");e.async="async";if(bE.scriptCharset){e.charset=bE.scriptCharset}e.src=bE.url;e.onload=e.onreadystatechange=function(bI,bH){if(bH||!e.readyState||/loaded|complete/.test(e.readyState)){e.onload=e.onreadystatechange=null;if(bD&&e.parentNode){bD.removeChild(e)}e=S;if(!bH){bG(200,"success")}}};bD.insertBefore(e,bD.firstChild)},abort:function(){if(e){e.onload(0,1)}}}}});var H=bl.ActiveXObject?function(){for(var e in U){U[e](0,1)}}:false,E=0,U;function aT(){try{return new bl.XMLHttpRequest()}catch(bD){}}function ar(){try{return new bl.ActiveXObject("Microsoft.XMLHTTP")}catch(bD){}}b.ajaxSettings.xhr=bl.ActiveXObject?function(){return !this.isLocal&&aT()||ar()}:aT;(function(e){b.extend(b.support,{ajax:!!e,cors:!!e&&("withCredentials" in e)})})(b.ajaxSettings.xhr());if(b.support.ajax){b.ajaxTransport(function(e){if(!e.crossDomain||b.support.cors){var bD;return{send:function(bJ,bE){var bI=e.xhr(),bH,bG;if(e.username){bI.open(e.type,e.url,e.async,e.username,e.password)}else{bI.open(e.type,e.url,e.async)}if(e.xhrFields){for(bG in e.xhrFields){bI[bG]=e.xhrFields[bG]}}if(e.mimeType&&bI.overrideMimeType){bI.overrideMimeType(e.mimeType)}if(!e.crossDomain&&!bJ["X-Requested-With"]){bJ["X-Requested-With"]="XMLHttpRequest"}try{for(bG in bJ){bI.setRequestHeader(bG,bJ[bG])}}catch(bF){}bI.send((e.hasContent&&e.data)||null);bD=function(bS,bM){var bN,bL,bK,bQ,bP;try{if(bD&&(bM||bI.readyState===4)){bD=S;if(bH){bI.onreadystatechange=b.noop;if(H){delete U[bH]}}if(bM){if(bI.readyState!==4){bI.abort()}}else{bN=bI.status;bK=bI.getAllResponseHeaders();bQ={};bP=bI.responseXML;if(bP&&bP.documentElement){bQ.xml=bP}try{bQ.text=bI.responseText}catch(bS){}try{bL=bI.statusText}catch(bR){bL=""}if(!bN&&e.isLocal&&!e.crossDomain){bN=bQ.text?200:404}else{if(bN===1223){bN=204}}}}}catch(bO){if(!bM){bE(-1,bO)}}if(bQ){bE(bN,bL,bQ,bK)}};if(!e.async||bI.readyState===4){bD()}else{bH=++E;if(H){if(!U){U={};b(bl).unload(H)}U[bH]=bD}bI.onreadystatechange=bD}},abort:function(){if(bD){bD(0,1)}}}}})}var X={},bi,q,aI=/^(?:toggle|show|hide)$/,a1=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,bb,aP=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],bc;b.fn.extend({show:function(bF,bI,bH){var bE,bG;if(bF||bF===0){return this.animate(a9("show",3),bF,bI,bH)}else{for(var bD=0,e=this.length;bD<e;bD++){bE=this[bD];if(bE.style){bG=bE.style.display;if(!b._data(bE,"olddisplay")&&bG==="none"){bG=bE.style.display=""}if((bG===""&&b.css(bE,"display")==="none")||!b.contains(bE.ownerDocument.documentElement,bE)){b._data(bE,"olddisplay",D(bE.nodeName))}}}for(bD=0;bD<e;bD++){bE=this[bD];if(bE.style){bG=bE.style.display;if(bG===""||bG==="none"){bE.style.display=b._data(bE,"olddisplay")||""}}}return this}},hide:function(bF,bI,bH){if(bF||bF===0){return this.animate(a9("hide",3),bF,bI,bH)}else{var bE,bG,bD=0,e=this.length;for(;bD<e;bD++){bE=this[bD];if(bE.style){bG=b.css(bE,"display");if(bG!=="none"&&!b._data(bE,"olddisplay")){b._data(bE,"olddisplay",bG)}}}for(bD=0;bD<e;bD++){if(this[bD].style){this[bD].style.display="none"}}return this}},_toggle:b.fn.toggle,toggle:function(bE,bD,bF){var e=typeof bE==="boolean";if(b.isFunction(bE)&&b.isFunction(bD)){this._toggle.apply(this,arguments)}else{if(bE==null||e){this.each(function(){var bG=e?bE:b(this).is(":hidden");b(this)[bG?"show":"hide"]()})}else{this.animate(a9("toggle",3),bE,bD,bF)}}return this},fadeTo:function(e,bF,bE,bD){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:bF},e,bE,bD)},animate:function(bH,bE,bG,bF){var e=b.speed(bE,bG,bF);if(b.isEmptyObject(bH)){return this.each(e.complete,[false])}bH=b.extend({},bH);function bD(){if(e.queue===false){b._mark(this)}var bM=b.extend({},e),bT=this.nodeType===1,bR=bT&&b(this).is(":hidden"),bJ,bO,bL,bS,bV,bN,bQ,bK,bP,bU,bI;bM.animatedProperties={};for(bL in bH){bJ=b.camelCase(bL);if(bL!==bJ){bH[bJ]=bH[bL];delete bH[bL]}if((bV=b.cssHooks[bJ])&&"expand" in bV){bN=bV.expand(bH[bJ]);delete bH[bJ];for(bL in bN){if(!(bL in bH)){bH[bL]=bN[bL]}}}}for(bJ in bH){bO=bH[bJ];if(b.isArray(bO)){bM.animatedProperties[bJ]=bO[1];bO=bH[bJ]=bO[0]}else{bM.animatedProperties[bJ]=bM.specialEasing&&bM.specialEasing[bJ]||bM.easing||"swing"}if(bO==="hide"&&bR||bO==="show"&&!bR){return bM.complete.call(this)}if(bT&&(bJ==="height"||bJ==="width")){bM.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY];if(b.css(this,"display")==="inline"&&b.css(this,"float")==="none"){if(!b.support.inlineBlockNeedsLayout||D(this.nodeName)==="inline"){this.style.display="inline-block"}else{this.style.zoom=1}}}}if(bM.overflow!=null){this.style.overflow="hidden"}for(bL in bH){bS=new b.fx(this,bM,bL);bO=bH[bL];if(aI.test(bO)){bI=b._data(this,"toggle"+bL)||(bO==="toggle"?bR?"show":"hide":0);if(bI){b._data(this,"toggle"+bL,bI==="show"?"hide":"show");bS[bI]()}else{bS[bO]()}}else{bQ=a1.exec(bO);bK=bS.cur();if(bQ){bP=parseFloat(bQ[2]);bU=bQ[3]||(b.cssNumber[bL]?"":"px");if(bU!=="px"){b.style(this,bL,(bP||1)+bU);bK=((bP||1)/bS.cur())*bK;b.style(this,bL,bK+bU)}if(bQ[1]){bP=((bQ[1]==="-="?-1:1)*bP)+bK}bS.custom(bK,bP,bU)}else{bS.custom(bK,bO,"")}}}return true}return e.queue===false?this.each(bD):this.queue(e.queue,bD)},stop:function(bE,bD,e){if(typeof bE!=="string"){e=bD;bD=bE;bE=S}if(bD&&bE!==false){this.queue(bE||"fx",[])}return this.each(function(){var bF,bG=false,bI=b.timers,bH=b._data(this);if(!e){b._unmark(true,this)}function bJ(bM,bN,bL){var bK=bN[bL];b.removeData(bM,bL,true);bK.stop(e)}if(bE==null){for(bF in bH){if(bH[bF]&&bH[bF].stop&&bF.indexOf(".run")===bF.length-4){bJ(this,bH,bF)}}}else{if(bH[bF=bE+".run"]&&bH[bF].stop){bJ(this,bH,bF)}}for(bF=bI.length;bF--;){if(bI[bF].elem===this&&(bE==null||bI[bF].queue===bE)){if(e){bI[bF](true)}else{bI[bF].saveState()}bG=true;bI.splice(bF,1)}}if(!(e&&bG)){b.dequeue(this,bE)}})}});function bq(){setTimeout(aA,0);return(bc=b.now())}function aA(){bc=S}function a9(bD,e){var bE={};b.each(aP.concat.apply([],aP.slice(0,e)),function(){bE[this]=bD});return bE}b.each({slideDown:a9("show",1),slideUp:a9("hide",1),slideToggle:a9("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,bD){b.fn[e]=function(bE,bG,bF){return this.animate(bD,bE,bG,bF)}});b.extend({speed:function(bE,bF,bD){var e=bE&&typeof bE==="object"?b.extend({},bE):{complete:bD||!bD&&bF||b.isFunction(bE)&&bE,duration:bE,easing:bD&&bF||bF&&!b.isFunction(bF)&&bF};e.duration=b.fx.off?0:typeof e.duration==="number"?e.duration:e.duration in b.fx.speeds?b.fx.speeds[e.duration]:b.fx.speeds._default;if(e.queue==null||e.queue===true){e.queue="fx"}e.old=e.complete;e.complete=function(bG){if(b.isFunction(e.old)){e.old.call(this)}if(e.queue){b.dequeue(this,e.queue)}else{if(bG!==false){b._unmark(this)}}};return e},easing:{linear:function(e){return e},swing:function(e){return(-Math.cos(e*Math.PI)/2)+0.5}},timers:[],fx:function(bD,e,bE){this.options=e;this.elem=bD;this.prop=bE;e.orig=e.orig||{}}});b.fx.prototype={update:function(){if(this.options.step){this.options.step.call(this.elem,this.now,this)}(b.fx.step[this.prop]||b.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null)){return this.elem[this.prop]}var e,bD=b.css(this.elem,this.prop);return isNaN(e=parseFloat(bD))?!bD||bD==="auto"?0:bD:e},custom:function(bH,bG,bF){var e=this,bE=b.fx;this.startTime=bc||bq();this.end=bG;this.now=this.start=bH;this.pos=this.state=0;this.unit=bF||this.unit||(b.cssNumber[this.prop]?"":"px");function bD(bI){return e.step(bI)}bD.queue=this.options.queue;bD.elem=this.elem;bD.saveState=function(){if(b._data(e.elem,"fxshow"+e.prop)===S){if(e.options.hide){b._data(e.elem,"fxshow"+e.prop,e.start)}else{if(e.options.show){b._data(e.elem,"fxshow"+e.prop,e.end)}}}};if(bD()&&b.timers.push(bD)&&!bb){bb=setInterval(bE.tick,bE.interval)}},show:function(){var e=b._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=e||b.style(this.elem,this.prop);this.options.show=true;if(e!==S){this.custom(this.cur(),e)}else{this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur())}b(this.elem).show()},hide:function(){this.options.orig[this.prop]=b._data(this.elem,"fxshow"+this.prop)||b.style(this.elem,this.prop);this.options.hide=true;this.custom(this.cur(),0)},step:function(bG){var bI,bJ,bD,bF=bc||bq(),e=true,bH=this.elem,bE=this.options;if(bG||bF>=bE.duration+this.startTime){this.now=this.end;this.pos=this.state=1;this.update();bE.animatedProperties[this.prop]=true;for(bI in bE.animatedProperties){if(bE.animatedProperties[bI]!==true){e=false}}if(e){if(bE.overflow!=null&&!b.support.shrinkWrapBlocks){b.each(["","X","Y"],function(bK,bL){bH.style["overflow"+bL]=bE.overflow[bK]})}if(bE.hide){b(bH).hide()}if(bE.hide||bE.show){for(bI in bE.animatedProperties){b.style(bH,bI,bE.orig[bI]);b.removeData(bH,"fxshow"+bI,true);b.removeData(bH,"toggle"+bI,true)}}bD=bE.complete;if(bD){bE.complete=false;bD.call(bH)}}return false}else{if(bE.duration==Infinity){this.now=bF}else{bJ=bF-this.startTime;this.state=bJ/bE.duration;this.pos=b.easing[bE.animatedProperties[this.prop]](this.state,bJ,0,1,bE.duration);this.now=this.start+((this.end-this.start)*this.pos)}this.update()}return true}};b.extend(b.fx,{tick:function(){var bE,bD=b.timers,e=0;for(;e<bD.length;e++){bE=bD[e];if(!bE()&&bD[e]===bE){bD.splice(e--,1)}}if(!bD.length){b.fx.stop()}},interval:13,stop:function(){clearInterval(bb);bb=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(e){b.style(e.elem,"opacity",e.now)},_default:function(e){if(e.elem.style&&e.elem.style[e.prop]!=null){e.elem.style[e.prop]=e.now+e.unit}else{e.elem[e.prop]=e.now}}}});b.each(aP.concat.apply([],aP),function(e,bD){if(bD.indexOf("margin")){b.fx.step[bD]=function(bE){b.style(bE.elem,bD,Math.max(0,bE.now)+bE.unit)}}});if(b.expr&&b.expr.filters){b.expr.filters.animated=function(e){return b.grep(b.timers,function(bD){return e===bD.elem}).length}}function D(bF){if(!X[bF]){var e=aC.body,bD=b("<"+bF+">").appendTo(e),bE=bD.css("display");bD.remove();if(bE==="none"||bE===""){if(!bi){bi=aC.createElement("iframe");bi.frameBorder=bi.width=bi.height=0}e.appendChild(bi);if(!q||!bi.createElement){q=(bi.contentWindow||bi.contentDocument).document;q.write((b.support.boxModel?"<!doctype html>":"")+"<html><body>");q.close()}bD=q.createElement(bF);q.body.appendChild(bD);bE=b.css(bD,"display");e.removeChild(bi)}X[bF]=bE}return X[bF]}var bf,ac=/^t(?:able|d|h)$/i,ak=/^(?:body|html)$/i;if("getBoundingClientRect" in aC.documentElement){bf=function(bG,bP,bE,bJ){try{bJ=bG.getBoundingClientRect()}catch(bN){}if(!bJ||!b.contains(bE,bG)){return bJ?{top:bJ.top,left:bJ.left}:{top:0,left:0}}var bK=bP.body,bL=aS(bP),bI=bE.clientTop||bK.clientTop||0,bM=bE.clientLeft||bK.clientLeft||0,bD=bL.pageYOffset||b.support.boxModel&&bE.scrollTop||bK.scrollTop,bH=bL.pageXOffset||b.support.boxModel&&bE.scrollLeft||bK.scrollLeft,bO=bJ.top+bD-bI,bF=bJ.left+bH-bM;return{top:bO,left:bF}}}else{bf=function(bH,bM,bF){var bK,bE=bH.offsetParent,bD=bH,bI=bM.body,bJ=bM.defaultView,e=bJ?bJ.getComputedStyle(bH,null):bH.currentStyle,bL=bH.offsetTop,bG=bH.offsetLeft;while((bH=bH.parentNode)&&bH!==bI&&bH!==bF){if(b.support.fixedPosition&&e.position==="fixed"){break}bK=bJ?bJ.getComputedStyle(bH,null):bH.currentStyle;bL-=bH.scrollTop;bG-=bH.scrollLeft;if(bH===bE){bL+=bH.offsetTop;bG+=bH.offsetLeft;if(b.support.doesNotAddBorder&&!(b.support.doesAddBorderForTableAndCells&&ac.test(bH.nodeName))){bL+=parseFloat(bK.borderTopWidth)||0;bG+=parseFloat(bK.borderLeftWidth)||0}bD=bE;bE=bH.offsetParent}if(b.support.subtractsBorderForOverflowNotVisible&&bK.overflow!=="visible"){bL+=parseFloat(bK.borderTopWidth)||0;bG+=parseFloat(bK.borderLeftWidth)||0}e=bK}if(e.position==="relative"||e.position==="static"){bL+=bI.offsetTop;bG+=bI.offsetLeft}if(b.support.fixedPosition&&e.position==="fixed"){bL+=Math.max(bF.scrollTop,bI.scrollTop);bG+=Math.max(bF.scrollLeft,bI.scrollLeft)}return{top:bL,left:bG}}}b.fn.offset=function(e){if(arguments.length){return e===S?this:this.each(function(bF){b.offset.setOffset(this,e,bF)})}var bD=this[0],bE=bD&&bD.ownerDocument;if(!bE){return null}if(bD===bE.body){return b.offset.bodyOffset(bD)}return bf(bD,bE,bE.documentElement)};b.offset={bodyOffset:function(e){var bE=e.offsetTop,bD=e.offsetLeft;if(b.support.doesNotIncludeMarginInBodyOffset){bE+=parseFloat(b.css(e,"marginTop"))||0;bD+=parseFloat(b.css(e,"marginLeft"))||0}return{top:bE,left:bD}},setOffset:function(bF,bO,bI){var bJ=b.css(bF,"position");if(bJ==="static"){bF.style.position="relative"}var bH=b(bF),bD=bH.offset(),e=b.css(bF,"top"),bM=b.css(bF,"left"),bN=(bJ==="absolute"||bJ==="fixed")&&b.inArray("auto",[e,bM])>-1,bL={},bK={},bE,bG;if(bN){bK=bH.position();bE=bK.top;bG=bK.left}else{bE=parseFloat(e)||0;bG=parseFloat(bM)||0}if(b.isFunction(bO)){bO=bO.call(bF,bI,bD)}if(bO.top!=null){bL.top=(bO.top-bD.top)+bE}if(bO.left!=null){bL.left=(bO.left-bD.left)+bG}if("using" in bO){bO.using.call(bF,bL)}else{bH.css(bL)}}};b.fn.extend({position:function(){if(!this[0]){return null}var bE=this[0],bD=this.offsetParent(),bF=this.offset(),e=ak.test(bD[0].nodeName)?{top:0,left:0}:bD.offset();bF.top-=parseFloat(b.css(bE,"marginTop"))||0;bF.left-=parseFloat(b.css(bE,"marginLeft"))||0;e.top+=parseFloat(b.css(bD[0],"borderTopWidth"))||0;e.left+=parseFloat(b.css(bD[0],"borderLeftWidth"))||0;return{top:bF.top-e.top,left:bF.left-e.left}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||aC.body;while(e&&(!ak.test(e.nodeName)&&b.css(e,"position")==="static")){e=e.offsetParent}return e})}});b.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(bE,bD){var e=/Y/.test(bD);b.fn[bE]=function(bF){return b.access(this,function(bG,bJ,bI){var bH=aS(bG);if(bI===S){return bH?(bD in bH)?bH[bD]:b.support.boxModel&&bH.document.documentElement[bJ]||bH.document.body[bJ]:bG[bJ]}if(bH){bH.scrollTo(!e?bI:b(bH).scrollLeft(),e?bI:b(bH).scrollTop())}else{bG[bJ]=bI}},bE,bF,arguments.length,null)}});function aS(e){return b.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:false}b.each({Height:"height",Width:"width"},function(bE,bF){var bD="client"+bE,e="scroll"+bE,bG="offset"+bE;b.fn["inner"+bE]=function(){var bH=this[0];return bH?bH.style?parseFloat(b.css(bH,bF,"padding")):this[bF]():null};b.fn["outer"+bE]=function(bI){var bH=this[0];return bH?bH.style?parseFloat(b.css(bH,bF,bI?"margin":"border")):this[bF]():null};b.fn[bF]=function(bH){return b.access(this,function(bK,bJ,bL){var bN,bM,bO,bI;if(b.isWindow(bK)){bN=bK.document;bM=bN.documentElement[bD];return b.support.boxModel&&bM||bN.body&&bN.body[bD]||bM}if(bK.nodeType===9){bN=bK.documentElement;if(bN[bD]>=bN[e]){return bN[bD]}return Math.max(bK.body[e],bN[e],bK.body[bG],bN[bG])}if(bL===S){bO=b.css(bK,bJ);bI=parseFloat(bO);return b.isNumeric(bI)?bI:bO}b(bK).css(bJ,bL)},bF,bH,arguments.length,null)}});bl.jQuery=bl.$=b;if(typeof define==="function"&&define.amd&&define.amd.jQuery){define("jquery",[],function(){return b})}})(window);
/*! Copyright (c) 2011 Brandon Aaron (http://brandonaaron.net)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Thanks to: http://adomas.org/javascript-mouse-wheel/ for some pointers.
 * Thanks to: Mathias Bank(http://www.mathias-bank.de) for a scope bug fix.
 * Thanks to: Seamus Leahy for adding deltaX and deltaY
 *
 * Version: 3.0.6
 * 
 * Requires: 1.2.2+
 */
(function(e){var b=["DOMMouseScroll","mousewheel"];if(e.event.fixHooks){for(var a=b.length;a;){e.event.fixHooks[b[--a]]=e.event.mouseHooks}}e.event.special.mousewheel={setup:function(){if(this.addEventListener){for(var f=b.length;f;){this.addEventListener(b[--f],c,false)}}else{this.onmousewheel=c}},teardown:function(){if(this.removeEventListener){for(var f=b.length;f;){this.removeEventListener(b[--f],c,false)}}else{this.onmousewheel=null}}};e.fn.extend({mousewheel:function(f){return f?this.bind("mousewheel",f):this.trigger("mousewheel")},unmousewheel:function(f){return this.unbind("mousewheel",f)}});function c(n){var k=n||window.event,j=[].slice.call(arguments,1),o=0,l=true,g=0,f=0;n=e.event.fix(k);n.type="mousewheel";if(k.wheelDelta){o=k.wheelDelta/120}if(k.detail){o=-k.detail/3}f=o;if(k.axis!==undefined&&k.axis===k.HORIZONTAL_AXIS){f=0;g=-1*o}if(k.wheelDeltaY!==undefined){f=k.wheelDeltaY/120}if(k.wheelDeltaX!==undefined){g=-1*k.wheelDeltaX/120}j.unshift(n,o,g,f);return(e.event.dispatch||e.event.handle).apply(this,j)}})(jQuery);(function(f){var q=function(t,s){return(t<<s)|(t>>>(32-s))};var a=function(z,t){var B,s,v,A,u;v=(z&2147483648);A=(t&2147483648);B=(z&1073741824);s=(t&1073741824);u=(z&1073741823)+(t&1073741823);if(B&s){return(u^2147483648^v^A)}if(B|s){if(u&1073741824){return(u^3221225472^v^A)}else{return(u^1073741824^v^A)}}else{return(u^v^A)}};var r=function(s,u,t){return(s&u)|((~s)&t)};var p=function(s,u,t){return(s&t)|(u&(~t))};var n=function(s,u,t){return(s^u^t)};var l=function(s,u,t){return(u^(s|(~t)))};var j=function(v,u,C,B,t,z,A){v=a(v,a(a(r(u,C,B),t),A));return a(q(v,z),u)};var c=function(v,u,C,B,t,z,A){v=a(v,a(a(p(u,C,B),t),A));return a(q(v,z),u)};var k=function(v,u,C,B,t,z,A){v=a(v,a(a(n(u,C,B),t),A));return a(q(v,z),u)};var e=function(v,u,C,B,t,z,A){v=a(v,a(a(l(u,C,B),t),A));return a(q(v,z),u)};var g=function(v){var C;var u=v.length;var t=u+8;var B=(t-(t%64))/64;var A=(B+1)*16;var D=Array(A-1);var s=0;var z=0;while(z<u){C=(z-(z%4))/4;s=(z%4)*8;D[C]=(D[C]|(v.charCodeAt(z)<<s));z++}C=(z-(z%4))/4;s=(z%4)*8;D[C]=D[C]|(128<<s);D[A-2]=u<<3;D[A-1]=u>>>29;return D};var b=function(v){var u="",s="",z,t;for(t=0;t<=3;t++){z=(v>>>(t*8))&255;s="0"+z.toString(16);u=u+s.substr(s.length-2,2)}return u};var o=function(t){t=t.replace(/\x0d\x0a/g,"\x0a");var s="";for(var v=0;v<t.length;v++){var u=t.charCodeAt(v);if(u<128){s+=String.fromCharCode(u)}else{if((u>127)&&(u<2048)){s+=String.fromCharCode((u>>6)|192);s+=String.fromCharCode((u&63)|128)}else{s+=String.fromCharCode((u>>12)|224);s+=String.fromCharCode(((u>>6)&63)|128);s+=String.fromCharCode((u&63)|128)}}}return s};f.extend({md5:function(s){var C=Array();var M,N,t,B,L,W,V,T,Q;var J=7,H=12,F=17,D=22;var U=5,R=9,P=14,O=20;var A=4,z=11,v=16,u=23;var K=6,I=10,G=15,E=21;s=o(s);C=g(s);W=1732584193;V=4023233417;T=2562383102;Q=271733878;for(M=0;M<C.length;M+=16){N=W;t=V;B=T;L=Q;W=j(W,V,T,Q,C[M+0],J,3614090360);Q=j(Q,W,V,T,C[M+1],H,3905402710);T=j(T,Q,W,V,C[M+2],F,606105819);V=j(V,T,Q,W,C[M+3],D,3250441966);W=j(W,V,T,Q,C[M+4],J,4118548399);Q=j(Q,W,V,T,C[M+5],H,1200080426);T=j(T,Q,W,V,C[M+6],F,2821735955);V=j(V,T,Q,W,C[M+7],D,4249261313);W=j(W,V,T,Q,C[M+8],J,1770035416);Q=j(Q,W,V,T,C[M+9],H,2336552879);T=j(T,Q,W,V,C[M+10],F,4294925233);V=j(V,T,Q,W,C[M+11],D,2304563134);W=j(W,V,T,Q,C[M+12],J,1804603682);Q=j(Q,W,V,T,C[M+13],H,4254626195);T=j(T,Q,W,V,C[M+14],F,2792965006);V=j(V,T,Q,W,C[M+15],D,1236535329);W=c(W,V,T,Q,C[M+1],U,4129170786);Q=c(Q,W,V,T,C[M+6],R,3225465664);T=c(T,Q,W,V,C[M+11],P,643717713);V=c(V,T,Q,W,C[M+0],O,3921069994);W=c(W,V,T,Q,C[M+5],U,3593408605);Q=c(Q,W,V,T,C[M+10],R,38016083);T=c(T,Q,W,V,C[M+15],P,3634488961);V=c(V,T,Q,W,C[M+4],O,3889429448);W=c(W,V,T,Q,C[M+9],U,568446438);Q=c(Q,W,V,T,C[M+14],R,3275163606);T=c(T,Q,W,V,C[M+3],P,4107603335);V=c(V,T,Q,W,C[M+8],O,1163531501);W=c(W,V,T,Q,C[M+13],U,2850285829);Q=c(Q,W,V,T,C[M+2],R,4243563512);T=c(T,Q,W,V,C[M+7],P,1735328473);V=c(V,T,Q,W,C[M+12],O,2368359562);W=k(W,V,T,Q,C[M+5],A,4294588738);Q=k(Q,W,V,T,C[M+8],z,2272392833);T=k(T,Q,W,V,C[M+11],v,1839030562);V=k(V,T,Q,W,C[M+14],u,4259657740);W=k(W,V,T,Q,C[M+1],A,2763975236);Q=k(Q,W,V,T,C[M+4],z,1272893353);T=k(T,Q,W,V,C[M+7],v,4139469664);V=k(V,T,Q,W,C[M+10],u,3200236656);W=k(W,V,T,Q,C[M+13],A,681279174);Q=k(Q,W,V,T,C[M+0],z,3936430074);T=k(T,Q,W,V,C[M+3],v,3572445317);V=k(V,T,Q,W,C[M+6],u,76029189);W=k(W,V,T,Q,C[M+9],A,3654602809);Q=k(Q,W,V,T,C[M+12],z,3873151461);T=k(T,Q,W,V,C[M+15],v,530742520);V=k(V,T,Q,W,C[M+2],u,3299628645);W=e(W,V,T,Q,C[M+0],K,4096336452);Q=e(Q,W,V,T,C[M+7],I,1126891415);T=e(T,Q,W,V,C[M+14],G,2878612391);V=e(V,T,Q,W,C[M+5],E,4237533241);W=e(W,V,T,Q,C[M+12],K,1700485571);Q=e(Q,W,V,T,C[M+3],I,2399980690);T=e(T,Q,W,V,C[M+10],G,4293915773);V=e(V,T,Q,W,C[M+1],E,2240044497);W=e(W,V,T,Q,C[M+8],K,1873313359);Q=e(Q,W,V,T,C[M+15],I,4264355552);T=e(T,Q,W,V,C[M+6],G,2734768916);V=e(V,T,Q,W,C[M+13],E,1309151649);W=e(W,V,T,Q,C[M+4],K,4149444226);Q=e(Q,W,V,T,C[M+11],I,3174756917);T=e(T,Q,W,V,C[M+2],G,718787259);V=e(V,T,Q,W,C[M+9],E,3951481745);W=a(W,N);V=a(V,t);T=a(T,B);Q=a(Q,L)}var S=b(W)+b(V)+b(T)+b(Q);return S.toLowerCase()}})})(jQuery);var tip,hoverout;var myr=null,mynode,hover_tm,i_am_scroll=1;var timeout,mt,mt2,timenow=0,mytree,tttt,sel_tm;var calend;var bg;var i_am_busy=true;var note_saved=true,show_checked=false;var savecookies,myscroll=-1;var mycookie=new Number;var save_cookie=true;mycookie.current_tab=1;function PrintIt(b){var a=navigator.userAgent;var c=/MSIE/.test(a);wnd=window.open("","tinyWindow","statusbar=no,toolbar=no,scrollbars=yes,resizable=yes,width=630,height=900");wnd.document.write('<html><title>4tree — мои дела</title><head><link href="css/print.css"rel="stylesheet"type="text/css" media="all"/><link rel="stylesheet" href="css/styles.css" type="text/css"></style><link rel="stylesheet" href="./redactor/redactor/redactor.css" /><link rel=\'stylesheet\' type=\'text/css\' href=\'./fullcalendar-1.5.3/fullcalendar/fullcalendar.css\' /></head><body onclick="window.close()"><div id="watermark-top"></div>');wnd.document.write(b);if(!c){wnd.document.write('<div id="watermark-bottom">4tree.ru</div><body></html>');wnd.print()}else{wnd.document.write("<script>window.onload=self.print();<\/script></body></html>");wnd.location.reload()}}function jscookie(c,b,a){if(!b){return mycookie[c]}else{if(save_cookie){mycookie[c]=b;clearTimeout(savecookies);savecookies=setTimeout(function(){console.info("Сохранил кукис");var e=$.ajax({type:"POST",url:"do.php",data:mycookie,success:function(f){}})},5000)}}}jQuery.fn.swapWith=function(a){return this.each(function(){var b=$(a).clone(true);var c=$(this).clone(true);$(a).replaceWith(c);$(this).replaceWith(b)})};function jsFocus(a){$("#demo").jstree("deselect_all");save_cookie=false;parent=$(".second_ul").children("li").attr("id");$("#"+parent).swapWith("#li_temp");if(a!=1){$(".main_ul").hide();$(".second_ul").show();$.ajaxSetup({async:false});if(!$("#demo li[id=node_"+a+"]").length){path=$("#tabs li a[myid="+a+"]").attr("path");path=path.split(",");for(i=0;i<path.length;i=i+1){toopen=path[i];$("#demo").jstree("open_node",$("#node_"+toopen),false)}}setTimeout(function(){$(".second_ul ul").height("auto")},300);$("#node_"+a).swapWith("#li_temp");$("#demo").jstree("close_all",$("#node_"+a),false);$("#demo").jstree("show_cookie")}else{$(".main_ul").show();$(".second_ul").hide();$("#demo").jstree("close_all",[],false);setTimeout(function(){console.info(new_cookie_name);$("#demo").jstree("show_cookie")},200)}$.ajaxSetup({async:false});myscroll=jscookie(a+"_scroll");setTimeout(function(){$("#demo").stop().scrollTop(myscroll);myscroll=-1},155);setTimeout(function(){save_cookie=true},100)}function jsFocus3(a){save_cookie=false;new_cookie_name=a;myscroll=jscookie(a+"_scroll");setTimeout(function(){$("#demo").stop().scrollTop(myscroll);myscroll=-1},155);parent=$(".second_ul").children("li").attr("id");if(parent){$("#"+parent).swapWith("#li_temp")}if(a=="1"){$(".main_ul").show()}else{$.ajaxSetup({async:false});if(!$("#demo li[id=node_"+a+"]").length){path=$("#tabs li a[myid="+a+"]").attr("path");path=path.split(",");for(i=0;i<path.length;i=i+1){toopen=path[i];$("#demo").jstree("open_node",$("#node_"+toopen),false)}}console.info($("#li_temp").swapWith("#node_"+a));$(".second_ul").show()}$.ajaxSetup({async:false});$.ajaxSetup({async:true});$("#demo").jstree("show_cookie");setTimeout(function(){save_cookie=true},1000);$.ajaxSetup({async:true})}function jsFocus1(b){var a=true;new_cookie_name=b;myscroll=jscookie(b+"_scroll");setTimeout(function(){$("#demo").stop().scrollTop(myscroll);myscroll=-1},55);$.ajaxSetup({async:false});if(b=="1"){console.info("открыл 1ю вкладку");$("#demo li").hide();$("#demo .temp-last-class").removeClass("jstree-last");$("#demo li[class!=closed]").show();$("#demo .tip").hide()}else{if(!$("#demo li[id=node_"+b+"]").length){path=$("#tabs li a[myid="+b+"]").attr("path");path=path.split(",");for(i=0;i<path.length;i=i+1){toopen=path[i];$("#demo").jstree("open_node",$("#node_"+toopen),false)}}$("#demo li").hide();$("#demo .temp-last-class").removeClass("jstree-last");myli=$("#demo li[id=node_"+b+"]").show();$("#demo .tip").hide();if(!myli.hasClass("jstree-last")){myli.addClass("jstree-last").addClass("temp-last-class")}myli.parents("li").show().each(function(){if(!$(this).hasClass("jstree-last")){$(this).addClass("jstree-last").addClass("temp-last-class")}});$("#demo").jstree("open_all",$("#node_"+b));$("#demo li[id=node_"+b+"] li[class!=closed]").show();$("#demo .tip").hide()}$("#demo").jstree("close_all");$("#demo").jstree("show_cookie");$.ajaxSetup({async:true});setTimeout(function(){var c=false},1000)}function jsLoadNote(c){savetext(1);var b="";$.ajaxSetup({async:false});var a=0;if($(".jstree-clicked").length>1){a=1}$(".jstree-clicked").each(function(){c=$(this).parent("li").attr("id");$("#bubu").load("do.php?notes="+c,function(){var e="";nodes=$("#demo").jstree("get_path",$("#"+c),true);for(i=0;i<nodes.length;i=i+1){e=e+$("#demo").jstree("get_text",$("#"+nodes[i]));if(i<nodes.length-1){e=e+" → "}if(i==nodes.length-2){e=e+"<br><h2>"}}if(a==1){mytext='<div class="divider" contenteditable="false" id="'+c+'">'+e+'</h2></div><div class="edit_text"><p>'}else{mytext=""}if($("#bubu").html()==""){$("#bubu").html("&nbsp;")}b=b+mytext+$("#bubu").html()+"</p></div>"})});$("#redactor_content").attr("notes",c);$("#redactor_content").setCode(b);$.ajaxSetup({async:true});lnk="do.php?load="+c;$.getJSON(lnk,function(e){if((e.info.date1=="0000-00-00 00:00:00")||!e.info.date1){$("#altdo_date1").val("");$("#do_date1").datetimeEntry("setDatetime",null)}else{$("#do_date1").datetimeEntry("setDatetime",sqlDate(e.info.date1))}if((e.info.date1=="0000-00-00 00:00:00")||!e.info.date2){$("#altdo_date2").val("");$("#do_date2").datetimeEntry("setDatetime",null)}else{$("#do_date2").datetimeEntry("setDatetime",sqlDate(e.info.date2))}})}function jsMakeTabWidth(){w=parseInt($("#cont").width());count=parseInt($("#cont2 a").length);w2=parseInt($("#cont2 li").width());w_tab=parseInt(w/(count)-38);if(w_tab<30){if(w_tab<20){w_tab=parseInt(w/(count)-12);var b=parseInt(w_tab/4);$("#tabs a .ff").each(function(){$(this).html($(this).parents("a").attr("title").substr(0,b))});$("#tabs").css("font-size","7px");$("#tabs a").css("padding","4px 4px")}else{var b=parseInt(w_tab/3);$("#tabs a .ff").each(function(){$(this).html($(this).parents("a").attr("title").substr(0,b))});$("#tabs a").css("padding","4px 15px");$("#tabs").css("font-size","8px")}$("#cont2 img").hide()}else{w_tab=parseInt(w/(count)-47);var b=parseInt(w_tab/7);$("#tabs a .ff").each(function(){$(this).html($(this).parents("a").attr("title").substr(0,b))});$("#cont2 img").show();$("#tabs").css("font-size","10px");$("#tabs a").css("padding","4px 15px")}if(w_tab>90){w_tab=90}$("#cont2 a").css("width",w_tab);$("#cont2").show();return true;$("#tabs").hide();var a=10;$("#tabs").css("font-size",a+"px");while($("#tabs").height()>20){if(a<=7){$("#tabs a img").hide()}else{$("#tabs a img").show()}$("#tabs").css("font-size",a+"px");a=a-1}}function onResize(){clearTimeout(mt2);mt2=setTimeout(function(){jsMakeTabWidth();$("#top").css("bottom",$("#bottom").height());if($.cookie("swap_calendar")!=1){var a=$("#left_bottom2").height()-$(".redactor_toolbar").height()-32;var b=$("#left_bottom2").height()}else{var a=$("#top").height()-$(".redactor_toolbar").height()-32;var b=$("#top").height()}if(!$(".redactor_box").hasClass("redactor_box_fullscreen")){$(".redactor_editor").height(a);$(".redactor_box").height(b)}tree_height=parseFloat($("#left_top").height());toolbar_height=parseFloat($(".tree_toolbar").height());$("#demo").height(tree_height-toolbar_height);if($.cookie("swap_calendar")!=1){calheight=parseFloat($("#top").height())}else{calheight=parseFloat($("#left_bottom2").height())}newheight=calheight-35;$("#calendar").fullCalendar("option","contentHeight",newheight);$("#calendar").fullCalendar("rerenderEvents");jsSetTimeNow()},500)}function jsRefreshDate(a){if(a){a="[id=node_"+a+"]"}else{a=""}$("#demo li"+a).each(function(){$(this).children(".r").remove();$(this).children(".bell,.bell-no").remove();id=$(this).attr("id");date_tmp=$(this).attr("date1");if(date_tmp){date1=jsMakeDate(date_tmp,$(this).attr("remind"));$(date1).prependTo($(this))}})}function jsSetTimeNow(){cur_view=calend.fullCalendar("getView").name;if((cur_view=="agendaWeek")||(cur_view=="agendaDay")){$("* #time_now_to").each(function(){if($(this).children(".fc-mynow").html()==null){$('<div class="fc-mynow"></div>').prependTo(this)}if(cur_view=="agendaWeek"){if($(".fc-today").height()){myl=$(".fc-today").offset().left}else{myl=0;$(".fc-mynow").remove()}if($.cookie("swap_calendar")==1){swap=-1}else{swap=$("#left_top").width()+2}myleft=myl-$(".fc-agenda-axis").width()-3-swap-23;if($("#top").hasClass("fullscreen")){myleft=myl-2}if($("#left_bottom2").hasClass("fullscreen")){myleft=myl-swap-3}mywidth=$(".fc-today").width()}if(cur_view=="agendaDay"){myleft=$(".fc-agenda-axis").width()+10;mywidth="100%"}$(this).children(".fc-mynow").css("top",0).css("width",mywidth).css("left",myleft);currentTime=new Date;tim=currentTime.getHours()+currentTime.getMinutes()/60;timenow=$(this).height()/24*(tim);$(this).children(".fc-mynow").css({top:timenow})})}}function jsRefreshTabs(){current_tab=$("#cont2 li[id=current] a").attr("myid");if(!current_tab){current_tab=jscookie("current_tab")}$("#cont2").hide();$("#cont2").load("do.php?mytabs="+current_tab,function(){onResize();$("* #tabs").sortable({axis:"x"});$(".side_panel").sortable({axis:"y"});$("#side_folder .ff").draggable()})}function jsDoFirst(){jsTitle("Добро пожаловать");$("*").delegate("#to_home","click",function(g){document.location="./4tree.php";return false});$("*").delegate("#print_tree","click",function(g){PrintIt($("#demo").html());return false});$("*").delegate("#print_redactor","click",function(g){PrintIt(myr.getCode());return false});$("*").delegate("#print_calendar","click",function(g){$("#slot_scroll").height(1200);$("#fc-view").height(1200);PrintIt(calend.parent("div").html());return false});$("*").delegate("#full_screen_right","click",function(g){if(!$("#top").hasClass("fullscreen")){$(".icon-resize-full-1").attr("class","icon-resize-small");$("#top").addClass("fullscreen");onResize()}else{$(".icon-resize-small").attr("class","icon-resize-full-1");$("#top").removeClass("fullscreen");onResize()}return false});$("*").delegate("#full_screen_left","click",function(g){if(!$("#left").hasClass("fullscreen")){$(".icon-resize-full-1").attr("class","icon-resize-small");$("#left").addClass("fullscreen");onResize()}else{$(".icon-resize-small").attr("class","icon-resize-full-1");$("#left").removeClass("fullscreen");onResize()}return false});$("*").delegate("#full_screen_left2","click",function(g){if(!$("#left_bottom2").hasClass("fullscreen")){$(".icon-resize-full-1").attr("class","icon-resize-small");$("#left_bottom2").addClass("fullscreen");onResize()}else{$(".icon-resize-small").attr("class","icon-resize-full-1");$("#left_bottom2").removeClass("fullscreen");onResize()}return false});$(".side_panel_hover").hoverIntent(b,c);$("*").delegate(".side_panel","click",function(g){if($("#side_folder").css("display")=="none"){$("#side_arrow").hide();$("#side_folder").fadeIn(300)}else{$("#side_arrow").hide();$("#side_folder").fadeOut(500)}return false});$("*").delegate(".side_panel img","click",function(g){mytop=$(this).offset().top-11;oldmytop=$("#side_arrow").css("top");$("#side_arrow").css("top",mytop);if(($("#side_folder").css("display")=="none")||(mytop!=oldmytop)){$("#side_arrow").show();$("#side_folder").fadeIn(300)}else{$("#side_arrow").hide();$("#side_folder").fadeOut(500)}return false});$(".side_panel img").hoverIntent(function(){if($("#side_folder").css("display")=="none"){$(this).next(".name").fadeIn(100)}},function(){$(this).next(".name").fadeOut(500)},1);function b(){if((!$("#top").hasClass("fullscreen"))&&(!$("#left").hasClass("fullscreen"))&&(!$("#left_bottom2").hasClass("fullscreen"))){$("#left_panel").stop().animate({left:"0"},500);$("#right_panel").stop().animate({right:"0"},500)}}$("*").delegate(".side_panel","mouseleave",function(g){a();return false});function a(){if($("#side_folder").css("display")=="none"){$("#left_panel").stop().animate({left:"-74"},700);$("#right_panel").stop().animate({right:"-74"},700)}}function c(){}$("*").delegate("#demo .jstree-leaf a","hover",function(g){if($("#left_bottom").height()!=1){tip=$(this).find(".tip:last");tip.show()}return false});$("*").delegate("#demo .jstree-leaf a","mouseout",function(g){tip=$("* .tip");tip.hide();return false});$("*").delegate("#demo .jstree-leaf a","mousemove",function(p){if($("#left_bottom").height()!=1){tip=$(this).find(".tip:last");var k=p.pageX+20;var j=p.pageY+20;var g=tip.width();var o=tip.height();var n=$(window).width()-(k+g);var l=$(window).height()-(j+o);if(n<20){k=p.pageX-g-20}if(l<20){j=p.pageY-o-20}tip.css({top:j,left:k})}});if($.cookie("swap_calendar")==1){my_calendar=$("#calendar");my_redactor=$("#redactor_content");my_redactor.appendTo("#top");my_calendar.appendTo("#left_bottom2");$("#left_bottom_label").html("календарь")}$("*").undelegate("#demo","click").delegate("#demo","click",function(g){$("#demo").focus();return false});$("*").undelegate("#swap_calendar","click").delegate("#swap_calendar","click",function(g){if($.cookie("swap_calendar")==1){$.cookie("swap_calendar",0)}else{$.cookie("swap_calendar",1)}document.location.href="";return false});$("*").undelegate(".bell-no","click").delegate(".bell-no","click",function(g){id=$(this).parent("li").attr("id").replace("node_","");$("#bubu").load("do.php?set_reminder="+id,function(){$("#demo").jstree("refresh",-1)});return false});$("*").undelegate(".bell","click").delegate(".bell","click",function(g){id=$(this).parent("li").attr("id").replace("node_","");$("#bubu").load("do.php?delete_reminder="+id,function(){$("#demo").jstree("refresh",-1)});return false});setInterval(function(){jsRefreshDate()},5*60*1000);$("#search").hide();if($.cookie("hide_do")==1){$(".hide_checked").hide();show_checked="false"}else{$(".show_checked").hide();show_checked="true"}$(".search-ico").click(function(){$("#search").slideToggle("fast");$(".search-ico").toggleClass("active");if($(".search-ico").hasClass("active")){$("#textfilter").focus()}else{$("* #demo li a").removeClass("jstree-search")}});$("*").undelegate(".hide_checked","click").delegate(".hide_checked","click",function(g){$.cookie("hide_do",1);$(".hide_checked").hide();$(".show_checked").show();show_checked="false";$("#demo .jstree-checked").fadeOut(300).remove();return false});$("*").undelegate(".show_checked","click").delegate(".show_checked","click",function(g){$.cookie("hide_do",0);$(".show_checked").hide();$(".hide_checked").show();show_checked="true";$("#demo").jstree("refresh",-1);return false});$("*").undelegate("#textfilter","keyup").delegate("#textfilter","keyup",function(g){clearTimeout(tttt);$("* #demo li a").removeClass("jstree-search");tttt=setTimeout(function(){$("#demo").jstree("search",$("#textfilter").val())},500);if(g.keyCode=="13"){clearTimeout(tttt);$("* #demo li a").removeClass("jstree-search");tttt=setTimeout(function(){$("#demo").jstree("search",$("#textfilter").val())},10)}if(g.keyCode=="27"){$("#textfilter").val("");$("#search").slideUp("fast");$(".search-ico").removeClass("active");clearTimeout(tttt)}return false});$("*").delegate("#cont2 a","mouseout",function(g){$("* #cont2 a").css("color","");clearTimeout(hover_tm);return false});$("*").delegate("#cont2 a","mouseover",function(j){var g=$(this).attr("myid");old_id=$("* #cont2 li[id=current] a").attr("myid");$("* #cont2 a").css("color","");clearTimeout(hover_tm);if(false){if($("#node_"+g).attr("id")){if((g!=old_id)){hover_tm=setTimeout(function(){$("#demo").jstree("deselect_node");$("#demo").jstree("select_node",$("#node_"+g));$("* #cont2 a").css("color","")},1000)}}}$(this).css("color","red");return false});$("*").undelegate("#cont2 a","click").delegate("#cont2 a","click",function(j){j.preventDefault();old_name=$("#cont2 li[id=current] a").attr("title");old_cookie_name=$("#cont2 li[id=current] a").attr("myid");n_id=$(this).attr("myid");var g=$(this).attr("title");if((n_id!=old_cookie_name)||(true)){jscookie(old_cookie_name+"_scroll",$("#demo").scrollTop());new_cookie_name=n_id;jscookie("current_tab",n_id);$("#tabs li").attr("id","");$(this).parent().attr("id","current");jsFocus(n_id)}return false});lnk="do.php?getcookie";$.getJSON(lnk,function(g){if(g){mycookie=g}jsRefreshTabs();showTree(1,"tab1")});$(".tree_toolbar a").click(function(g){g.preventDefault();switch($(this).attr("class")){case"collapse":$("#demo").jstree("close_all");old_name=$("#cont2 li[id=current] a").attr("title");$.cookie(old_name+"select","");$.cookie(old_name+"tab1open","");$.cookie(old_name+"tab1scroll","");break;case"expand":$("#demo").jstree("open_all");break;case"add_default":$("#demo").jstree("create");break;case"remove":if(confirm("Вы действительно хотите удалить дело?")){$("#demo").jstree("remove")}break;case"rename":$("#demo").jstree("rename");break;case"refresh":jsRefreshTabs();$("#calendar").fullCalendar("refetchEvents");$("#demo").jstree("refresh",-1);break}});$(function(){$("#mmenu input").click(function(){switch(this.id){case"add_default":case"add_folder":$("#demo").jstree("create",null,"last",{attr:{rel:this.id.toString().replace("add_","")}});break;case"search":$("#demo").jstree("search",document.getElementById("text").value);break;case"text":break;case"Expand":$("#demo").jstree("open_all");break;case"Collapse":$("#demo").jstree("close_all");break;default:$("#demo").jstree(this.id);break}})});$.datetimeEntry.setDefaults({spinnerImage:"./img/spinnerDefault.png"});function e(g){if(0<=g&&g<10){return"0"+g.toString()}if(-10<g&&g<0){return"-0"+(-1*g).toString()}return g.toString()}Date.prototype.toMysqlFormat=function(){return this.getFullYear()+"-"+e(1+this.getMonth())+"-"+e(this.getDate())+" "+e(this.getHours())+":"+e(this.getMinutes())+":"+e(this.getSeconds())};function f(g){return{minDatetime:(g.id=="do_date2"?$("#date1").datetimeEntry("getDatetime"):null),maxDatetime:(g.id=="do_date1"?$("#do_date2").datetimeEntry("getDatetime"):null)}}$(".datetime").each(function(){x="#"+$(this).attr("id");$(x).datetimeEntry({beforeShow:f,datetimeFormat:"W N Y / H:M",altField:"#alt"+$(this).attr("id"),altFormat:"Y-O-D H:M:S"})});setInterval(function(){if($("#left_bottom").height()!=2){jsSetTimeNow()}},30000);currentTime=new Date;firstHour=currentTime.getHours()-2;calend=$("#calendar").fullCalendar({editable:"true",firstHour:firstHour,timeFormat:"H:mm",axisFormat:"H:mm",contentHeight:361,weekends:true,defaultView:"agendaWeek",droppable:true,drop:function(l,g,j,k){$.ajaxSetup({async:false});k.data.obj.each(function(){mynode=this.id;mydate=encodeURIComponent(l.toMysqlFormat());lnk="do.php?date_to_do="+$(this).attr("id")+"&date1="+mydate+"&allday="+g;$("#bubu").load(lnk,function(){new_date=$("#bubu").html();$("#"+mynode).attr("date1",new_date);jsRefreshDate(mynode.replace("node_",""));$("#calendar").fullCalendar("refetchEvents")})});$.ajaxSetup({async:true})},header:{left:"prev,next today",center:"title",right:"month,agendaWeek,agendaDay,basicWeek,basicDay"},firstDay:1,eventSources:[{editable:"true"},{url:"do.php?calendar",className:"my_event"}],eventMouseover:function(g){if(false){hover_tm=setTimeout(function(){$("#demo").jstree("search","#node_"+g.id)},10000)}},eventMouseout:function(g){clearTimeout(hover_tm);if(!$(".search-ico").hasClass("active")){$("* #demo li a").removeClass("jstree-search")}},eventClick:function(g){i_am_scroll=0;my_id=$("#tabs li[id=current] a").attr("id");if(my_id!=1){ul=".second_ul"}else{ul=".main_ul"}if(!$(ul+" #node_"+g.id).length){if(my_id!=1){$("#tabs a[myid=1]").click()}path=g.path;path=path.split(",");$.ajaxSetup({async:false});for(i=0;i<path.length;i=i+1){toopen=path[i];$("#demo").jstree("open_node",$("#node_"+toopen),false)}$.ajaxSetup({async:true})}setTimeout(function(){$("#demo").jstree("deselect_all");$("#demo").jstree("select_node",$("#node_"+g.id))},1000)},eventDrop:function(k,l,j,g){if(g){lnk="do.php?movedo="+k.id+"&days="+l+"&minutes="+j+"&allday=1"}else{lnk="do.php?movedo="+k.id+"&days="+l+"&minutes="+j+"&allday=0"}$("#bubu").load(lnk,function(){var n=k.id;new_date=$("#bubu").html();$("#node_"+n).attr("date1",new_date);jsRefreshDate(n);$("* #demo").jstree("deselect_all");$("* #demo").jstree("select_node",$("#node_"+n))})},loading:function(g){if(g){$("#loading").show()}else{$("#loading").hide();jsSetTimeNow();$("#time_now_to").scrollTop(400)}},selectable:true,selectHelper:true,select:function(l,g,j){if(g-l==900000){calend.fullCalendar("unselect");return true}var k=prompt("Название события:");if(k){manager=encodeURIComponent($("#selectmanager").html());if(j==false){st=l.toString();en=g.toString()}else{st=l.toDateString();en=g.toDateString()}lnk="do.php?createdo="+encodeURIComponent(k)+"&start="+encodeURIComponent(st)+"&end="+encodeURIComponent(en)+"&allday="+j+"&manager="+manager;console.log(lnk);$("#bubu").load(lnk,function(){$("#calendar").fullCalendar("refetchEvents");$("#demo").jstree("refresh",-1);jsRefreshTabs()})}calend.fullCalendar("unselect")}});if(false){setTimeout(function(){$("#left_bottom_label").click();$("#fc-button-agendaWeek").click();$("#tabsminitop").click()},2000)}myr=$("#redactor_content").redactor({imageUpload:"./redactor/demo/scripts/image_upload.php",lang:"ru",focus:false,fileUpload:"./redactor/demo/scripts/file_upload.php",autoresize:false});$("#tabsminitop").click(function(){if($("#tabsminibottom").css("display")=="none"){$("#tabsminibottom").show();onResize()}else{$("#tabsminibottom").hide();onResize()}});if($("#left_bottom").height()==2){newh=$.cookie("height");if(newh!=""){note_height=parseFloat(newh)}if((note_height<3)||(!note_height)){note_height=300}$("#left_top").animate({bottom:note_height},300);$("#left_bottom").animate({height:note_height},300);onResize()}else{$("#left_top").animate({bottom:"2"},100);$("#left_bottom").animate({height:"2"},100);onResize()}$("#left_bottom_label").click(function(){if($("#left_bottom").height()==2){newh=$.cookie("height");if(newh!=""){note_height=parseFloat(newh)}if((note_height<3)||(!note_height)){note_height=300}$("#left_top").animate({bottom:note_height},300);$("#left_bottom").animate({height:note_height},300);onResize()}else{$("#left_top").animate({bottom:"2"},100);$("#left_bottom").animate({height:"2"},100);onResize()}});neww=$.cookie("width");if(neww!=""){neww=parseFloat(neww);$("#right").css("width",neww);$("#page").css("width",neww-3);$("#left").css("margin-right",neww)}$("#resize").mousedown(function(g){g.preventDefault();$("#left").addClass("noselectable");$("#resize").width("100%");$("#resize").css("z-index",10000);$("#resize").css("opacity","0.3");$(window).mousemove(function(j){w=$(document).width();neww=w-j.pageX-50;$("#right").css("width",neww);$("#page").css("width",neww-5);$("#left").css("margin-right",neww);onResize();$(window).resize()})});$(window).mouseup(function(){$(window).unbind("mousemove");$("#resize").width("5px").css("z-index",1).css("opacity","1");$.cookie("width",$("#right").width(),{expires:300});$("#left").removeClass("noselectable")});newh=$.cookie("height");if(newh!=""){newh=parseFloat(newh);if(newh<3){newh=300}$("#left_bottom").css("height",newh);$("#left_top").css("bottom",newh)}$("#left_bottom_label").mousedown(function(g){g.preventDefault();$(window).mousemove(function(j){h=$(document).height();newh=h-j.pageY-50;$("#left_bottom").css("height",newh);$("#left_top").css("bottom",newh);onResize();$(window).resize()})});$(window).mouseup(function(){$(window).unbind("mousemove");if($("#left_bottom").height()>2){$.cookie("height",$("#left_bottom").height(),{expires:300})}})}Date.createFromMysql=function(a){if(typeof a==="string"){var b=a.split(/[- :]/);return new Date(b[0],b[1]-1,b[2],b[3]||0,b[4]||0,b[5]||0)}return null};Date.prototype.yyyymmdd=function(){var c=this.getFullYear().toString();var b=(this.getMonth()+1).toString();var a=this.getDate().toString();return c+"-"+(b[1]?b:"0"+b[0])+"-"+(a[1]?a:"0"+a[0])};function jsMakeDate(b,f){var a="";var e="shortdate";var a="",c;today=new Date;dd=Math.round((Date.createFromMysql(b).getTime()-today.getTime())/60/60/1000*10)/10;if(b=="0000-00-00 00:00:00"){return""}if(dd>0){e="shortdate"}else{e="shortdatepast"}c=dd;if((dd>24)||(dd<-24)||(b.search("00:00:00")!=-1)){dd=Math.round(dd/24);a="long";if(dd>=0){mydays="+ "+dd+" дн"}else{mydays=dd+" дн"}}else{if(dd>=0){mydays="+ "+dd+" ч"}else{mydays=dd+" ч"}}if(b.search("00:00:00")!=-1){if(b.search(today.yyyymmdd())!=-1){mydays="сегодня";e="shortdatepast";a=""}}if(false){$class="shortdatedid";$long=""}if((f=="0000-00-00 00:00:00")||!f){bell_class="bell-no";title="Нажмите, чтобы включить SMS уведомление за 1 минуту"}else{bell_class="bell";title="Вы получите SMS уведомление за 1 минуту"}return"<i class='icon-bell-1 "+bell_class+"'></i><span class='r "+e+a+"' title='"+b+"'>"+mydays+"</span>"}function jsSetCheckBox(){i_am_busy=true;$('#demo li[did!="0000-00-00 00:00:00"]').each(function(){if($(this).attr("did")!=undefined){$("#demo").jstree("check_node",$(this))}});i_am_busy=false}function showTree(a,b){$("#demo").jstree("destroy");setTimeout(function(){if(b.replace("tab","node_")!="node_1"){$("#demo").children("ul").children("li[id!="+b.replace("tab","node_")+"]").remove()}},1000);mytree=$("#demo").bind("before.jstree",function(f,c){$("#alog").append(c.func+"<br />")}).jstree({plugins:["themes","json_data","ui","crrm","cookies","dnd","search","types","hotkeys","checkbox","contextmenu"],themes:{theme:"classic"},cookies:{save_opened:b+"open",save_selected:b+"select",auto_save:true},json_data:{ajax:{url:"./server.php",data:function(c){return{operation:"get_children",show_checked:show_checked,id:c.attr?c.attr("id").replace("node_",""):a}}}},search:{ajax:{url:"./server.php",data:function(c){return{operation:"search",search_str:c}}}},types:{max_depth:-2,max_children:-2,valid_children:["drive"],types:{"default":{valid_children:["default","folder"],icon:{image:"jstree/_demo/file.png"}},folder:{valid_children:["default","folder"],icon:{image:"./jstree/_demo/folder.png"}},drive:{valid_children:["default","folder"],icon:{image:"./jstree/_demo/root.png"},start_drag:false,move_node:false,delete_node:false,remove:false}}},core:{initially_open:false,animation:150,load_open:true,open_parents:false},checkbox:{two_state:true}}).bind("create.jstree",function(f,c){$.post("./server.php",{operation:"create_node",id:c.rslt.parent.attr("id").replace("node_",""),position:c.rslt.position,title:c.rslt.name,type:c.rslt.obj.attr("rel")},function(e){jsRefreshTabs();if(e.status){$(c.rslt.obj).attr("id","node_"+e.id)}else{$.jstree.rollback(c.rlbk)}})}).bind("remove.jstree",function(f,c){c.rslt.obj.each(function(){$.ajax({async:false,type:"POST",url:"./server.php",data:{operation:"remove_node",id:this.id.replace("node_","")},success:function(e){jsRefreshTabs();$("* #calendar").fullCalendar("refetchEvents");if(!e.status){c.inst.refresh()}}})})}).bind("rename.jstree",function(f,c){$.post("./server.php",{operation:"rename_node",id:c.rslt.obj.attr("id").replace("node_",""),title:c.rslt.new_name},function(e){jsRefreshTabs();$("* #calendar").fullCalendar("refetchEvents");if(!e.status){$.jstree.rollback(c.rlbk)}})}).bind("check_node.jstree",function(c,e){if(i_am_busy){return}id=e.rslt.obj.attr("id");lnk="do.php?check_it="+id;$.getJSON(lnk,function(f){jsTitle("Дело выполнено");$("* #calendar").fullCalendar("refetchEvents");jsRefreshTabs()})}).bind("uncheck_node.jstree",function(c,e){id=e.rslt.obj.attr("id");lnk="do.php?uncheck_it="+id;$.getJSON(lnk,function(f){jsTitle("Выполнение снято");$("* #calendar").fullCalendar("refetchEvents");jsRefreshTabs()})}).bind("select_node.jstree",function(c,e){clearTimeout(sel_tm);sel_tm=setTimeout(function(){id=e.rslt.obj.attr("id");current_tab=$("#cont2 li[id=current] a").attr("myid");jscookie(current_tab+"_scroll",$("#demo").scrollTop());gotodate=e.rslt.obj.attr("date1");$.ajaxSetup({async:false});var f=0;if((gotodate!="0000-00-00 00:00:00")&&(gotodate)){gotodate=sqlDate(gotodate);d=gotodate.getDate();m=gotodate.getMonth();y=gotodate.getFullYear();h=gotodate.getHours();f=parseInt((95/24)*h)-6;$("#calendar").fullCalendar("gotoDate",y,m,d)}$("* .fc-event-vert,.fc-event-hori").removeClass("event-selected");$(".fc-event-title[event="+id+"]").parents(".fc-event-vert,.fc-event-hori").addClass("event-selected");jsLoadNote(id);if((f!=0)&&(i_am_scroll==1)){$("* #slot_scroll").each(function(){f=$(this).find(".fc-slot"+f);if(f.offset()){sc2=f.offset().top;sc3=$(this).offset().top;sc4=$(this).scrollTop();var g=sc4-(sc3-sc2);$(this).stop().animate({scrollTop:g},800)}})}else{i_am_scroll=1}$.ajaxSetup({async:true})},300)}).bind("after_open.jstree",function(f,c){clearTimeout(timeout);timeout=setTimeout(function(){$(".r,.gray").remove();jsRefreshDate();jsSetCheckBox();if($.cookie("hide_do")==1){$("#demo .jstree-checked").remove()}if(b.replace("tab","node_")!="node_1"){$("#demo").children("ul").children("li[id!="+b.replace("tab","node_")+"]").remove()}},50)}).bind("loaded.jstree",function(f,c){setTimeout(function(){$("#tabs a[myid="+jscookie("current_tab")+"]").click()},500)}).bind("move_node.jstree",function(f,c){c.rslt.o.each(function(e){$.ajax({async:false,type:"POST",url:"./server.php",data:{operation:"move_node",id:$(this).attr("id").replace("node_",""),ref:c.rslt.cr===-1?1:c.rslt.np.attr("id").replace("node_",""),position:c.rslt.cp+e,title:c.rslt.name,copy:c.rslt.cy?1:0},success:function(g){if(!g.status){$.jstree.rollback(c.rlbk)}else{$(c.rslt.oc).attr("id","node_"+g.id);if(c.rslt.cy&&$(c.rslt.oc).children("UL").length){c.inst.refresh(c.inst._get_parent(c.rslt.oc))}}$("#analyze").click()}})})})}function sqlDate(b){if(!b){return null}var a=b.split(/[- :]/);var c=new Date(a[0],a[1]-1,a[2],a[3],a[4],a[5]);if(b=="0000-00-00 00:00:00"){c=null}return(c)}function savetext(c){if(note_saved==true){return false}clearTimeout(my_autosave);if($(".divider").attr("id")){$(".divider").each(function(){b=$(this).next(".edit_text").html();text=b;var e=$(this).attr("id");jsSendText(e,text,c)});return false}var b=myr.getCode();text=b;var a=$("#redactor_content").attr("notes");jsSendText(a,text,c)}function jsSendText(b,e,c){if($("#"+b).find(".tip").attr("class")){$("#"+b).find(".tip").html(e.substr(0,1000))}else{$('<div class="tip">'+e.substr(0,1000)+"</div>").appendTo($("#"+b).children("a"))}e=encodeURIComponent(e);dataString="savenote="+b+"&text="+e+"&date1="+$("#altdo_date1").val()+"&date2="+$("#altdo_date2").val();var a=$.ajax({type:"POST",url:"do.php",data:dataString,success:function(f){note_saved=true;if(f=="del"){mynode=$("* #demo li[id="+$("#redactor_content").attr("notes")+"] > a");if(mynode.parent("li").hasClass("jstree-leaf")){mynode.children(".jstree-icon").css("background","")}}else{if(f!=""){mynode=$("* #demo li[id="+$("#redactor_content").attr("notes")+"] > a");if(mynode.parent("li").hasClass("jstree-leaf")){mynode.children(".jstree-icon").css("background","url("+f+") 50% 50% no-repeat")}}}if(c!=1){$("#demo").jstree("refresh",-1);$("#calendar").fullCalendar("refetchEvents")}onResize();if(b){jsTitle("текст заметки №"+b.replace("node_","")+" сохранён")}}})}function jsTitle(a){setTimeout(function(){if($(".title").html()!=("<b>"+a+"</b>")){$(".title").css("opacity","0").html("<b>"+a+"</b>").animate({opacity:"0.7"},1000,function(){setTimeout(function(){$(".title").animate({opacity:"0"},300,function(){$(".title").html("")})},2000)})}},200)}(function(a){a.fn.hoverIntent=function(o,n){var p={sensitivity:7,interval:700,timeout:0};p=a.extend(p,n?{over:o,out:n}:o);var r,q,k,e;var j=function(f){r=f.pageX;q=f.pageY};var c=function(g,f){f.hoverIntent_t=clearTimeout(f.hoverIntent_t);if((Math.abs(k-r)+Math.abs(e-q))<p.sensitivity){a(f).unbind("mousemove",j);f.hoverIntent_s=1;return p.over.apply(f,[g])}else{k=r;e=q;f.hoverIntent_t=setTimeout(function(){c(g,f)},p.interval)}};var l=function(g,f){f.hoverIntent_t=clearTimeout(f.hoverIntent_t);f.hoverIntent_s=0;return p.out.apply(f,[g])};var b=function(s){var g=jQuery.extend({},s);var f=this;if(f.hoverIntent_t){f.hoverIntent_t=clearTimeout(f.hoverIntent_t)}if(s.type=="mouseenter"){k=g.pageX;e=g.pageY;a(f).bind("mousemove",j);if(f.hoverIntent_s!=1){f.hoverIntent_t=setTimeout(function(){c(g,f)},p.interval)}}else{a(f).unbind("mousemove",j);if(f.hoverIntent_s==1){f.hoverIntent_t=setTimeout(function(){l(g,f)},p.timeout)}}};return this.bind("mouseenter",b).bind("mouseleave",b)}})(jQuery);(function(c){function f(){this._disabledInputs=[];this.regional=[];this.regional[""]={datetimeFormat:"O/D/Y H:Ma",datetimeSeparators:".",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],ampmNames:["AM","PM"],spinnerTexts:["Today","Previous field","Next field","Increment","Decrement"],isRTL:false};this._defaults={appendText:"",initialField:0,useMouseWheel:true,shortYearCutoff:"+10",defaultDatetime:null,minDatetime:null,maxDatetime:null,minTime:null,maxTime:null,timeSteps:[1,1,1],spinnerImage:"spinnerDefault.png",spinnerSize:[20,20,8],spinnerBigImage:"",spinnerBigSize:[40,40,16],spinnerIncDecOnly:false,spinnerRepeat:[500,250],beforeShow:null,altField:null,altFormat:null};c.extend(this._defaults,this.regional[""])}var e="datetimeEntry";c.extend(f.prototype,{markerClassName:"hasDatetimeEntry",setDefaults:function(g){a(this._defaults,g||{});return this},_connectDatetimeEntry:function(l,r){var p=c(l);if(p.hasClass(this.markerClassName)){return}var k={};k.options=c.extend({},r);k._selectedYear=0;k._selectedMonth=0;k._selectedDay=0;k._selectedHour=0;k._selectedMinute=0;k._selectedSecond=0;k._field=0;this._decodeDatetimeFormat(k);k.input=c(l);c.data(l,e,k);var g=this._get(k,"spinnerImage");var n=this._get(k,"spinnerText");var o=this._get(k,"spinnerSize");var j=this._get(k,"appendText");var q=(!g?null:c('<span class="datetimeEntry_control" style="display: inline-block; background: url(\''+g+"') 0 0 no-repeat; width: "+o[0]+"px; height: "+o[1]+"px;"+(c.browser.mozilla&&c.browser.version<"1.9"?" padding-left: "+o[0]+"px; padding-bottom: "+(o[1]-18)+"px;":"")+'"></span>'));p.wrap('<span class="datetimeEntry_wrap"></span>').after(j?'<span class="datetimeEntry_append">'+j+"</span>":"").after(q||"");p.addClass(this.markerClassName).bind("focus.datetimeEntry",this._doFocus).bind("blur.datetimeEntry",this._doBlur).bind("click.datetimeEntry",this._doClick).bind("keydown.datetimeEntry",this._doKeyDown).bind("keypress.datetimeEntry",this._doKeyPress);if(c.browser.mozilla){p.bind("input.datetimeEntry",function(s){c.datetimeEntry._extractDatetime(k)})}if(c.browser.msie){p.bind("paste.datetimeEntry",function(s){setTimeout(function(){c.datetimeEntry._extractDatetime(k)},1)})}if(this._get(k,"useMouseWheel")&&c.fn.mousewheel){p.mousewheel(this._doMouseWheel)}if(q){q.mousedown(this._handleSpinner).mouseup(this._endSpinner).mouseover(this._expandSpinner).mouseout(this._endSpinner).mousemove(this._describeSpinner)}},_enableDatetimeEntry:function(g){this._enableDisable(g,false)},_disableDatetimeEntry:function(g){this._enableDisable(g,true)},_enableDisable:function(g,j){var k=c.data(g,e);if(!k){return}g.disabled=j;if(g.nextSibling&&g.nextSibling.nodeName.toLowerCase()=="span"){c.datetimeEntry._changeSpinner(k,g.nextSibling,(j?5:-1))}c.datetimeEntry._disabledInputs=c.map(c.datetimeEntry._disabledInputs,function(l){return(l==g?null:l)});if(j){c.datetimeEntry._disabledInputs.push(g)}},_isDisabledDatetimeEntry:function(g){return c.inArray(g,this._disabledInputs)>-1},_changeDatetimeEntry:function(j,l,o){var n=c.data(j,e);if(n){if(typeof l=="string"){var k=l;l={};l[k]=o}var g=this._parseDatetime(n,c(j).val());a(n.options,l||{});this._decodeDatetimeFormat(n);if(g){this._setDatetime(n,g)}}c.data(j,e,n)},_decodeDatetimeFormat:function(j){var k=this._get(j,"datetimeFormat");j._fields=[];j._ampmField=-1;for(var g=0;g<k.length;g++){if(k.charAt(g).match(/[yYoOnNdDwWhHmMsSa]/)){j._fields.push(g)}if(k.charAt(g)=="a"){j._ampmField=j._fields.length-1}}},_destroyDatetimeEntry:function(g){$input=c(g);if(!$input.hasClass(this.markerClassName)){return}$input.removeClass(this.markerClassName).unbind(".datetimeEntry");if(c.fn.mousewheel){$input.unmousewheel()}this._disabledInputs=c.map(this._disabledInputs,function(j){return(j==g?null:j)});$input.parent().replaceWith($input);c.removeData(g,e)},_setDatetimeDatetimeEntry:function(g,k){var j=c.data(g,e);if(j){if(k===null||k===""){j.input.val("")}else{this._setDatetime(j,k?(typeof k=="object"?new Date(k.getTime()):k):null)}}},_getDatetimeDatetimeEntry:function(g){var j=c.data(g,e);return(j?this._parseDatetime(j,c(g).val()):null)},_getOffsetDatetimeEntry:function(g){var j=c.data(g,e);var k=(j?c.datetimeEntry._parseDatetime(j,j.input.val()):null);return(!k?0:(k.getHours()*3600+k.getMinutes()*60+k.getSeconds())*1000)},_doFocus:function(k){var g=(k.nodeName&&k.nodeName.toLowerCase()=="input"?k:this);if(c.datetimeEntry._lastInput==g||c.datetimeEntry._isDisabledDatetimeEntry(g)){c.datetimeEntry._focussed=false;return}var j=c.data(g,e);c.datetimeEntry._focussed=true;c.datetimeEntry._lastInput=g;c.datetimeEntry._blurredInput=null;var l=c.datetimeEntry._get(j,"beforeShow");a(j.options,(l?l.apply(g,[g]):{}));c.data(g,e,j);c.datetimeEntry._extractDatetime(j);setTimeout(function(){c.datetimeEntry._showField(j)},10)},_doBlur:function(g){c.datetimeEntry._blurredInput=c.datetimeEntry._lastInput;c.datetimeEntry._lastInput=null},_doClick:function(j){var s=j.target;var p=c.data(s,e);if(!c.datetimeEntry._focussed){var o=c.datetimeEntry._get(p,"datetimeFormat");p._field=0;if(s.selectionStart!=null){var k=0;for(var l=0;l<o.length;l++){k+=c.datetimeEntry._fieldLength(p,o.charAt(l));if(s.selectionStart<k){break}p._field+=(o.charAt(l).match(/[yondwhmsa]/i)?1:0)}}else{if(s.createTextRange){var g=c(j.srcElement);var q=s.createTextRange();var r=function(t){return{thin:2,medium:4,thick:6}[t]||t};var n=j.clientX+document.documentElement.scrollLeft-(g.offset().left+parseInt(r(g.css("border-left-width")),10))-q.offsetLeft;var k=0;for(var l=0;l<o.length;l++){k+=c.datetimeEntry._fieldLength(p,o.charAt(l));q.collapse();q.moveEnd("character",k);if(n<q.boundingWidth){break}p._field+=(o.charAt(l).match(/[yondwhmsa]/i)?1:0)}}}}c.data(s,e,p);c.datetimeEntry._showField(p);c.datetimeEntry._focussed=false},_doKeyDown:function(g){if(g.keyCode>=48){return true}var j=c.data(g.target,e);switch(g.keyCode){case 9:return(g.shiftKey?c.datetimeEntry._changeField(j,-1,true):c.datetimeEntry._changeField(j,+1,true));case 35:if(g.ctrlKey){c.datetimeEntry._setValue(j,"")}else{j._field=j._fields.length-1;c.datetimeEntry._adjustField(j,0)}break;case 36:if(g.ctrlKey){c.datetimeEntry._setDatetime(j)}else{j._field=0;c.datetimeEntry._adjustField(j,0)}break;case 37:c.datetimeEntry._changeField(j,-1,false);break;case 38:c.datetimeEntry._adjustField(j,+1);break;case 39:c.datetimeEntry._changeField(j,+1,false);break;case 40:c.datetimeEntry._adjustField(j,-1);break;case 46:c.datetimeEntry._setValue(j,"");break}return false},_doKeyPress:function(j){var g=String.fromCharCode(j.charCode==undefined?j.keyCode:j.charCode);if(g<" "){return true}var k=c.data(j.target,e);c.datetimeEntry._handleKeyPress(k,g);return false},_doMouseWheel:function(g,k){if(c.datetimeEntry._isDisabledDatetimeEntry(g.target)){return}k=(c.browser.opera?-k/Math.abs(k):(c.browser.safari?k/Math.abs(k):k));var j=c.data(g.target,e);j.input.focus();if(!j.input.val()){c.datetimeEntry._extractDatetime(j)}c.datetimeEntry._adjustField(j,k);g.preventDefault()},_expandSpinner:function(l){var q=c.datetimeEntry._getSpinnerTarget(l);var o=c.data(c.datetimeEntry._getInput(q),e);if(c.datetimeEntry._isDisabledDatetimeEntry(o.input[0])){return}var k=c.datetimeEntry._get(o,"spinnerBigImage");if(k){o._expanded=true;var p=c(q).offset();var n=null;c(q).parents().each(function(){var r=c(this);if(r.css("position")=="relative"||r.css("position")=="absolute"){n=r.offset()}return !n});var j=c.datetimeEntry._get(o,"spinnerSize");var g=c.datetimeEntry._get(o,"spinnerBigSize");c('<div class="datetimeEntry_expand" style="position: absolute; left: '+(p.left-(g[0]-j[0])/2-(n?n.left:0))+"px; top: "+(p.top-(g[1]-j[1])/2-(n?n.top:0))+"px; width: "+g[0]+"px; height: "+g[1]+"px; background: #fff url("+k+') no-repeat 0px 0px; z-index: 10;"></div>').mousedown(c.datetimeEntry._handleSpinner).mouseup(c.datetimeEntry._endSpinner).mouseout(c.datetimeEntry._endExpand).mousemove(c.datetimeEntry._describeSpinner).insertAfter(q)}},_getInput:function(g){return c(g).siblings("."+c.datetimeEntry.markerClassName)[0]},_describeSpinner:function(g){var k=c.datetimeEntry._getSpinnerTarget(g);var j=c.data(c.datetimeEntry._getInput(k),e);k.title=c.datetimeEntry._get(j,"spinnerTexts")[c.datetimeEntry._getSpinnerRegion(j,g)]},_handleSpinner:function(j){var o=c.datetimeEntry._getSpinnerTarget(j);var g=c.datetimeEntry._getInput(o);if(c.datetimeEntry._isDisabledDatetimeEntry(g)){return}if(g==c.datetimeEntry._blurredInput){c.datetimeEntry._lastInput=g;c.datetimeEntry._blurredInput=null}var l=c.data(g,e);c.datetimeEntry._doFocus(g);var n=c.datetimeEntry._getSpinnerRegion(l,j);c.datetimeEntry._changeSpinner(l,o,n);c.datetimeEntry._actionSpinner(l,n);c.datetimeEntry._timer=null;c.datetimeEntry._handlingSpinner=true;var k=c.datetimeEntry._get(l,"spinnerRepeat");if(n>=3&&k[0]){c.datetimeEntry._timer=setTimeout(function(){c.datetimeEntry._repeatSpinner(l,n)},k[0]);c(o).one("mouseout",c.datetimeEntry._releaseSpinner).one("mouseup",c.datetimeEntry._releaseSpinner)}},_actionSpinner:function(g,j){if(!g.input.val()){c.datetimeEntry._extractDatetime(g)}switch(j){case 0:this._setDatetime(g);break;case 1:this._changeField(g,-1,false);break;case 2:this._changeField(g,+1,false);break;case 3:this._adjustField(g,+1);break;case 4:this._adjustField(g,-1);break}},_repeatSpinner:function(g,j){if(!c.datetimeEntry._timer){return}c.datetimeEntry._lastInput=c.datetimeEntry._blurredInput;this._actionSpinner(g,j);this._timer=setTimeout(function(){c.datetimeEntry._repeatSpinner(g,j)},this._get(g,"spinnerRepeat")[1])},_releaseSpinner:function(g){clearTimeout(c.datetimeEntry._timer);c.datetimeEntry._timer=null},_endExpand:function(j){c.datetimeEntry._timer=null;var l=c.datetimeEntry._getSpinnerTarget(j);var g=c.datetimeEntry._getInput(l);var k=c.data(g,e);c(l).remove();k._expanded=false},_endSpinner:function(j){c.datetimeEntry._timer=null;var l=c.datetimeEntry._getSpinnerTarget(j);var g=c.datetimeEntry._getInput(l);var k=c.data(g,e);if(!c.datetimeEntry._isDisabledDatetimeEntry(g)){c.datetimeEntry._changeSpinner(k,l,-1)}if(c.datetimeEntry._handlingSpinner){c.datetimeEntry._lastInput=c.datetimeEntry._blurredInput}if(c.datetimeEntry._lastInput&&c.datetimeEntry._handlingSpinner){c.datetimeEntry._showField(k)}c.datetimeEntry._handlingSpinner=false},_getSpinnerTarget:function(g){return g.target||g.srcElement},_getSpinnerRegion:function(p,k){var u=this._getSpinnerTarget(k);var r=(c.browser.opera||c.browser.safari?c.datetimeEntry._findPos(u):c(u).offset());var l=(c.browser.safari?c.datetimeEntry._findScroll(u):[document.documentElement.scrollLeft||document.body.scrollLeft,document.documentElement.scrollTop||document.body.scrollTop]);var j=this._get(p,"spinnerIncDecOnly");var n=(j?99:k.clientX+l[0]-r.left-(c.browser.msie?2:0));var s=k.clientY+l[1]-r.top-(c.browser.msie?2:0);var q=this._get(p,(p._expanded?"spinnerBigSize":"spinnerSize"));var t=(j?99:q[0]-1-n);var g=q[1]-1-s;if(q[2]>0&&Math.abs(n-t)<=q[2]&&Math.abs(s-g)<=q[2]){return 0}var o=Math.min(n,s,t,g);return(o==n?1:(o==t?2:(o==s?3:4)))},_changeSpinner:function(g,k,j){c(k).css("background-position","-"+((j+1)*this._get(g,(g._expanded?"spinnerBigSize":"spinnerSize"))[0])+"px 0px")},_findPos:function(k){var j=curTop=0;if(k.offsetParent){j=k.offsetLeft;curTop=k.offsetTop;while(k=k.offsetParent){var g=j;j+=k.offsetLeft;if(j<0){j=g}curTop+=k.offsetTop}}return{left:j,top:curTop}},_findScroll:function(k){var j=false;c(k).parents().each(function(){j|=c(this).css("position")=="fixed"});if(j){return[0,0]}var l=k.scrollLeft;var g=k.scrollTop;while(k=k.parentNode){l+=k.scrollLeft||0;g+=k.scrollTop||0}return[l,g]},_get:function(j,g){return(j.options[g]!=null?j.options[g]:c.datetimeEntry._defaults[g])},_extractDatetime:function(k){var j=this._parseDatetime(k,c(k.input).val())||this._normaliseDatetime(this._determineDatetime(k,this._get(k,"defaultDatetime"))||new Date());var g=this._constrainTime(k,[j.getHours(),j.getMinutes(),j.getSeconds()]);k._selectedYear=j.getFullYear();k._selectedMonth=j.getMonth();k._selectedDay=j.getDate();k._selectedHour=g[0];k._selectedMinute=g[1];k._selectedSecond=g[2];k._lastChr="";k._field=Math.max(0,this._get(k,"initialField"));if(k.input.val()!=""){this._showDatetime(k)}},_parseDatetime:function(k,z){if(!z){return null}var s=0;var G=0;var B=0;var n=0;var u=0;var H=0;var o=0;var p=this._get(k,"datetimeFormat");var l=function(){while(o<z.length&&z.charAt(o).match(/^[0-9]/)){o++}};var C;for(C=0;C<p.length&&o<z.length;C++){var g=p.charAt(C);var q=parseInt(z.substring(o),10);if(g.match(/y|o|d|h|m|s/i)&&isNaN(q)){throw"Invalid date"}q=(isNaN(q)?0:q);switch(g){case"y":case"Y":s=q;l();break;case"o":case"O":G=q;l();break;case"n":case"N":var r=this._get(k,g=="N"?"monthNames":"monthNamesShort");for(var A=0;A<r.length;A++){if(z.substring(o).substr(0,r[A].length).toLowerCase()==r[A].toLowerCase()){G=A+1;o+=r[A].length;break}}break;case"w":case"W":var F=this._get(k,g=="W"?"dayNames":"dayNamesShort");for(var A=0;A<F.length;A++){if(z.substring(o).substr(0,F[A].length).toLowerCase()==F[A].toLowerCase()){o+=F[A].length+1;break}}q=parseInt(z.substring(o),10);q=(isNaN(q)?0:q);case"d":case"D":B=q;l();break;case"h":case"H":n=q;l();break;case"m":case"M":u=q;l();break;case"s":case"S":H=q;l();break;case"a":var t=this._get(k,"ampmNames");var D=(z.substr(o,t[1].length).toLowerCase()==t[1].toLowerCase());n=(n==12?0:n)+(D?12:0);o+=t[0].length;break;default:o++}}if(C<p.length){throw"Invalid date"}s+=(s>=100||p.indexOf("y")==-1?0:(s>this._shortYearCutoff(k)?1900:2000));var v=this._constrainTime(k,[n,u,H]);var E=new Date(s,Math.max(0,G-1),B,v[0],v[1],v[2]);if(p.match(/y|o|n|d|w/i)&&(E.getFullYear()!=s||E.getMonth()+1!=G||E.getDate()!=B)){throw"Invalid date"}return E},_showDatetime:function(g){this._setValue(g,this._formatDatetime(g,this._get(g,"datetimeFormat")));this._showField(g)},_formatDatetime:function(l,o){var k="";var g=o.indexOf("a")>-1;for(var j=0;j<o.length;j++){var n=o.charAt(j);switch(n){case"y":k+=this._formatNumber(l._selectedYear%100);break;case"Y":k+=this._formatNumber(l._selectedYear,4);break;case"o":case"O":k+=this._formatNumber(l._selectedMonth+1,n=="o"?1:2);break;case"n":case"N":k+=this._get(l,(n=="N"?"monthNames":"monthNamesShort"))[l._selectedMonth];break;case"d":case"D":k+=this._formatNumber(l._selectedDay,n=="d"?1:2);break;case"w":case"W":k+=this._get(l,(n=="W"?"dayNames":"dayNamesShort"))[new Date(l._selectedYear,l._selectedMonth,l._selectedDay).getDay()]+" "+this._formatNumber(l._selectedDay);break;case"h":case"H":k+=this._formatNumber(!g?l._selectedHour:l._selectedHour%12||12,n=="h"?1:2);break;case"m":case"M":k+=this._formatNumber(l._selectedMinute,n=="m"?1:2);break;case"s":case"S":k+=this._formatNumber(l._selectedSecond,n=="s"?1:2);break;case"a":k+=this._get(l,"ampmNames")[l._selectedHour<12?0:1];break;default:k+=n;break}}return k},_showField:function(n){var k=n.input[0];if(n.input.is(":hidden")||c.datetimeEntry._lastInput!=k){return}var o=this._get(n,"datetimeFormat");var p=0;for(var l=0;l<n._fields[n._field];l++){p+=this._fieldLength(n,o.charAt(l))}var g=p+this._fieldLength(n,o.charAt(l));if(k.setSelectionRange){k.setSelectionRange(p,g)}else{if(k.createTextRange){var j=k.createTextRange();j.moveStart("character",p);j.moveEnd("character",g-n.input.val().length);j.select()}}if(!k.disabled){k.focus()}},_fieldLength:function(g,j){switch(j){case"Y":return 4;case"n":case"N":return this._get(g,(j=="N"?"monthNames":"monthNamesShort"))[g._selectedMonth].length;case"w":case"W":return this._get(g,(j=="W"?"dayNames":"dayNamesShort"))[new Date(g._selectedYear,g._selectedMonth,g._selectedDay).getDay()].length+3;case"y":case"O":case"D":case"H":case"M":case"S":return 2;case"o":return(""+(g._selectedMonth+1)).length;case"d":return(""+g._selectedDay).length;case"h":return(""+(g._ampmField==-1?g._selectedHour:g._selectedHour%12||12)).length;case"m":return(""+g._selectedMinute).length;case"s":return(""+g._selectedSecond).length;case"a":return this._get(g,"ampmNames")[0].length;default:return 1}},_formatNumber:function(j,g){j=""+j;g=g||2;while(j.length<g){j="0"+j}return j},_setValue:function(k,j){if(j!=k.input.val()){var g=this._get(k,"altField");if(g){c(g).val(!j?"":this._formatDatetime(k,this._get(k,"altFormat")||this._get(k,"datetimeFormat")))}k.input.val(j).trigger("change")}},_changeField:function(j,l,k){var g=(j.input.val()==""||j._field==(l==-1?0:j._fields.length-1));if(!g){j._field+=l}this._showField(j);j._lastChr="";c.data(j.input[0],e,j);return(g&&k)},_adjustField:function(o,n){if(o.input.val()==""){n=0}var s=this._get(o,"datetimeFormat").charAt(o._fields[o._field]);var q=o._selectedYear+(s.match(/y/i)?n:0);var p=o._selectedMonth+(s.match(/o|n/i)?n:0);var r=(s.match(/d|w/i)?o._selectedDay+n:Math.min(o._selectedDay,this._getDaysInMonth(q,p)));var g=this._get(o,"timeSteps");var l=o._selectedHour+(s.match(/h/i)?n*g[0]:0)+(s=="a"&&n!=0?(o._selectedHour<12?+12:-12):0);var k=o._selectedMinute+(s.match(/m/i)?n*g[1]:0);var j=o._selectedSecond+(s.match(/s/i)?n*g[2]:0);this._setDatetime(o,new Date(q,p,r,l,k,j))},_getDaysInMonth:function(g,j){return new Date(g,j+1,0).getDate()},_setDatetime:function(n,p){p=this._normaliseDatetime(this._determineDatetime(n,p||this._get(n,"defaultDatetime"))||new Date());var j=this._constrainTime(n,[p.getHours(),p.getMinutes(),p.getSeconds()]);p.setHours(j[0],j[1],j[2]);var g=this._normaliseDatetime(this._determineDatetime(n,this._get(n,"minDatetime")));var o=this._normaliseDatetime(this._determineDatetime(n,this._get(n,"maxDatetime")));var k=this._normaliseDatetime(this._determineDatetime(n,this._get(n,"minTime")),"d");var l=this._normaliseDatetime(this._determineDatetime(n,this._get(n,"maxTime")),"d");p=(g&&p<g?g:(o&&p>o?o:p));if(k&&this._normaliseDatetime(new Date(p.getTime()),"d")<k){this._copyTime(k,p)}if(l&&this._normaliseDatetime(new Date(p.getTime()),"d")>l){this._copyTime(l,p)}n._selectedYear=p.getFullYear();n._selectedMonth=p.getMonth();n._selectedDay=p.getDate();n._selectedHour=p.getHours();n._selectedMinute=p.getMinutes();n._selectedSecond=p.getSeconds();this._showDatetime(n);c.data(n.input[0],e,n)},_copyDate:function(j,g){g.setFullYear(j.getFullYear());g.setMonth(j.getMonth());g.setDate(j.getDate())},_copyTime:function(g,j){j.setHours(g.getHours());j.setMinutes(g.getMinutes());j.setSeconds(g.getSeconds())},_determineDatetime:function(l,k){var j=function(n){var o=new Date();o.setSeconds(o.getSeconds()+n);return o};var g=function(q){var v;try{v=c.datetimeEntry._parseDatetime(l,q);if(v){return v}}catch(s){}q=q.toLowerCase();v=new Date();var z=v.getFullYear();var t=v.getMonth();var A=v.getDate();var p=v.getHours();var o=v.getMinutes();var n=v.getSeconds();var u=/([+-]?[0-9]+)\s*(s|m|h|d|w|o|y)?/g;var r=u.exec(q);while(r){switch(r[2]||"s"){case"s":n+=parseInt(r[1],10);break;case"m":o+=parseInt(r[1],10);break;case"h":p+=parseInt(r[1],10);break;case"d":A+=parseInt(r[1],10);break;case"w":A+=parseInt(r[1],10)*7;break;case"o":t+=parseInt(r[1],10);break;case"y":z+=parseInt(r[1],10);break}r=u.exec(q)}return new Date(z,t,A,p,o,n)};return(k?(typeof k=="string"?g(k):(typeof k=="number"?j(k):k)):null)},_normaliseDatetime:function(j,g){if(!j){return null}if(g=="d"){j.setFullYear(0);j.setMonth(0);j.setDate(0)}if(g=="t"){j.setHours(0);j.setMinutes(0);j.setSeconds(0)}j.setMilliseconds(0);return j},_handleKeyPress:function(j,A){A=A.toLowerCase();var n=this._get(j,"datetimeFormat");var z=this._get(j,"datetimeSeparators");var g=n.charAt(j._fields[j._field]);var t=n.charAt(j._fields[j._field]+1);t=("yYoOnNdDwWhHmMsSa".indexOf(t)==-1?t:"");if((z+t).indexOf(A)>-1){this._changeField(j,+1,false)}else{if(A>="0"&&A<="9"){var F=parseInt(A,10);var v=parseInt(j._lastChr+A,10);var p=(!g.match(/y/i)?j._selectedYear:v);var D=(!g.match(/o|n/i)?j._selectedMonth+1:(v>=1&&v<=12?v:(F>0?F:j._selectedMonth+1)));var C=(!g.match(/d|w/i)?j._selectedDay:(v>=1&&v<=this._getDaysInMonth(p,D-1)?v:(F>0?F:j._selectedDay)));var l=(!g.match(/h/i)?j._selectedHour:(j._ampmField==-1?(v<24?v:F):(v>=1&&v<=12?v:(F>0?F:j._selectedHour))%12+(j._selectedHour>=12?12:0)));var s=(!g.match(/m/i)?j._selectedMinute:(v<60?v:F));var E=(!g.match(/s/i)?j._selectedSecond:(v<60?v:F));var u=this._constrainTime(j,[l,s,E]);var o=this._shortYearCutoff(j);this._setDatetime(j,new Date(p+(p>=100||g!="y"?0:(p>o?1900:2000)),D-1,C,u[0],u[1],u[2]));j._lastChr=(g!="Y"?"":j._lastChr.substr(Math.max(0,j._lastChr.length-2)))+A}else{if(g.match(/n/i)){j._lastChr+=A;var r=this._get(j,(g=="n"?"monthNamesShort":"monthNames"));var B=function(){for(var G=0;G<r.length;G++){if(r[G].toLowerCase().substring(0,j._lastChr.length)==j._lastChr){return G;break}}return -1};var D=B();if(D==-1){j._lastChr=A;D=B()}if(D==-1){j._lastChr=""}else{var p=j._selectedYear;var C=Math.min(j._selectedDay,this._getDaysInMonth(p,D));this._setDatetime(j,this._normaliseDatetime(new Date(p,D,C,j._selectedHour,j._selectedMinute,j._selectedSecond)))}}else{if(j._ampmField>-1){var q=this._get(j,"ampmNames");if((A==q[0].substring(0,1).toLowerCase()&&j._selectedHour>=12)||(A==q[1].substring(0,1).toLowerCase()&&j._selectedHour<12)){var k=j._field;j._field=j._ampmField;this._adjustField(j,+1);j._field=k;this._showField(j)}}}}}},_shortYearCutoff:function(j){var g=this._get(j,"shortYearCutoff");if(typeof g=="string"){g=new Date().getFullYear()+parseInt(g,10)}return g%100},_constrainTime:function(p,j){var o=(j!=null);if(!o){var k=this._determineTime(p,this._get(p,"defaultTime"))||new Date();j=[k.getHours(),k.getMinutes(),k.getSeconds()]}var n=false;var g=this._get(p,"timeSteps");for(var l=0;l<g.length;l++){if(n){j[l]=0}else{if(g[l]>1){j[l]=Math.round(j[l]/g[l])*g[l];n=true}}}return j}});function a(k,j){c.extend(k,j);for(var g in j){if(j[g]==null){k[g]=null}}return k}var b=["getDatetime","getOffset","isDisabled"];c.fn.datetimeEntry=function(j){var g=Array.prototype.slice.call(arguments,1);if(typeof j=="string"&&c.inArray(j,b)>-1){return c.datetimeEntry["_"+j+"DatetimeEntry"].apply(c.datetimeEntry,[this[0]].concat(g))}return this.each(function(){var l=this.nodeName.toLowerCase();if(l=="input"){if(typeof j=="string"){c.datetimeEntry["_"+j+"DatetimeEntry"].apply(c.datetimeEntry,[this].concat(g))}else{var k=(c.fn.metadata?c(this).metadata():{});c.datetimeEntry._connectDatetimeEntry(this,c.extend(k,j))}}})};c.datetimeEntry=new f()})(jQuery);(function(a){a.datetimeEntry.regional.ru={datetimeFormat:"D.O.Y H:M",monthNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthNamesShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],dayNames:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],dayNamesShort:["вск","пнд","втр","срд","чтв","птн","сбт"],ampmNames:["AM","PM"],spinnerTexts:["Сейчас","Предыдущее поле","Следующее поле","Больше","Меньше"],isRTL:false};a.datetimeEntry.setDefaults(a.datetimeEntry.regional.ru)})(jQuery);jQuery.cookie=function(b,l,p){if(typeof l!="undefined"){p=p||{};if(l===null){l="";p.expires=-1}var f="";if(p.expires&&(typeof p.expires=="number"||p.expires.toUTCString)){var g;if(typeof p.expires=="number"){g=new Date();g.setTime(g.getTime()+(p.expires*24*60*60*1000))}else{g=p.expires}f="; expires="+g.toUTCString()}var o=p.path?"; path="+(p.path):"";var j=p.domain?"; domain="+(p.domain):"";var a=p.secure?"; secure":"";document.cookie=[b,"=",encodeURIComponent(l),f,o,j,a].join("")}else{var e=null;if(document.cookie&&document.cookie!=""){var n=document.cookie.split(";");for(var k=0;k<n.length;k++){var c=jQuery.trim(n[k]);if(c.substring(0,b.length+1)==(b+"=")){e=decodeURIComponent(c.substring(b.length+1));break}}}return e}};var my_autosave;var _0xf6db=["(6(){11 49=24;11 14={50:6(8,10){5 10.58(8)\x2692},57:6(8,10){7(8.58!=12){5 8.58(10)\x2616}46{5 8.57(10)}},55:6(8,18,10,20){7(8===10){5 18\x3C=20}7(14.29(8)\x26\x2614.29(10)){5 14.50(8,10)}7(14.29(8)\x26\x26!14.29(10)){5!14.55(10,20,8,18)}7(!14.57(8,10)){5 14.50(8,10)}7(8.47.85\x3C=18){5 40}7(8.47[18]===10){5 0\x3C=20}5 14.50(8.47[18],10)},29:6(61){5(61!=12?61.93==3:40)},81:6(41){11 62=0;88(41=41.59){62++}5 62}};11 4=49.4=(6(){6 4(2){24.2=2}4.34.31=6(){5 4.31(24.2)};4.34.37=6(){5 4.37(24.2)};4.34.38=6(){5 4.38(24.2)};4.34.45=6(){5 4.45(24.2)};4.34.44=6(){5 4.44(24.2)};4.34.52=6(25,26,23,22){5 4.52(24.2,25,26,23,22)};4.34.51=6(){5 4.51(24.2)};5 4})();7(49.35){4.67=43;4.31=6(2){11 9;5(9=2.35())\x26\x26(9.63!=12)\x26\x26(9.36!=12)};4.37=6(2){11 9;7(!((9=2.35())\x26\x26(9.36!=12))){5 12}5[9.36,9.97]};4.38=6(2){11 9;7(!((9=2.35())\x26\x26(9.63!=12))){5 12}5[9.63,9.91]};4.45=6(2){11 8,10,18,20,27,28;7(!4.31(2)){5 12}27=4.37(2),8=27[0],18=27[1];28=4.38(2),10=28[0],20=28[1];7(14.55(8,18,10,20)){5[8,18]}5[10,20]};4.44=6(2){11 8,10,18,20,27,28;7(!4.31(2)){5 12}27=4.37(2),8=27[0],18=27[1];28=4.38(2),10=28[0],20=28[1];7(14.55(8,18,10,20)){5[10,20]}5[8,18]};4.52=6(2,25,26,23,22){11 9=2.35();7(!9){5}7(23==12){23=25}7(22==12){22=26}7(9.60\x26\x269.79){9.60(25,26);9.79(23,22)}46{54=2.15.56();54.106(25,26);54.107(23,22);71{9.73()}80(41){}9.98(54)}};4.51=6(2){71{11 9=2.35();7(!9){5}9.73()}80(41){}}}46 7(49.15.39){11 69=6(42,32,30){11 19,13,21,33,64;13=42.90(\x2789\x27);19=32.103();19.60(30);64=19.77();88(43){64.86(13,13.59);19.82(13);7(!(19.87((30?\x2766\x27:\x2783\x27),32)\x3E0\x26\x26(13.59!=12))){99}}7(19.87((30?\x2766\x27:\x2783\x27),32)===-1\x26\x2613.84){19.74((30?\x27100\x27:\x2778\x27),32);21=13.84;33=19.101.85}46{21=13.48;33=14.81(13)}13.48.72(13);5[21,33]};11 68=6(42,32,30,21,33){11 36,65,19,13,53;53=0;36=14.29(21)?21:21.47[33];65=14.29(21)?21.48:21;7(14.29(21)){53=33}13=42.90(\x2789\x27);65.86(13,36||12);19=42.76.75();19.82(13);13.48.72(13);32.74((30?\x2766\x27:\x2778\x27),19);5 32[30?\x27105\x27:\x27104\x27](\x27102\x27,53)};4.67=43;4.31=6(2){11 17;2.70();7(!2.15.39){5 40}17=2.15.39.56();5 17\x26\x2617.77().15===2.15};4.45=6(2){11 17;2.70();7(!4.31(2)){5 12}17=2.15.39.56();5 69(2.15,17,43)};4.44=6(2){11 17;2.70();7(!4.31(2)){5 12}17=2.15.39.56();5 69(2.15,17,40)};4.37=6(2){5 4.45(2)};4.38=6(2){5 4.44(2)};4.52=6(2,25,26,23,22){7(23==12){23=25}7(22==12){22=26}11 17=2.15.76.75();68(2.15,17,40,23,22);68(2.15,17,43,25,26);5 17.96()};4.51=6(2){5 2.15.39.95()}}46{4.67=40}}).94(24);","|","split","||win||Selection|return|function|if|n1|sel|n2|var|null|cursorNode|Dom|document||range|o1|cursor|o2|node|foco|focn|this|orgn|orgo|_ref|_ref2|isText|bStart|hasSelection|textRange|offset|prototype|getSelection|anchorNode|getOrigin|getFocus|selection|false|e|doc|true|getEnd|getStart|else|childNodes|parentNode|root|isPreceding|clearSelection|setSelection|textOffset|r|isCursorPreceding|createRange|contains|compareDocumentPosition|previousSibling|collapse|d|k|focusNode|parent|anchorParent|StartToStart|supported|moveBoundary|getBoundary|focus|try|removeChild|removeAllRanges|setEndPoint|createTextRange|body|parentElement|EndToEnd|extend|catch|getChildIndex|moveToElementText|StartToEnd|nextSibling|length|insertBefore|compareEndPoints|while|a|createElement|focusOffset|0x02|nodeType|call|empty|select|anchorOffset|addRange|break|EndToStart|text|character|duplicate|moveEnd|moveStart|setStart|setEnd","replace","","\x5Cw+","\x5Cb","g"];eval(function(j,b,n,f,g,l){g=function(a){return a};if(!_0xf6db[5][_0xf6db[4]](/^/,String)){while(n--){l[n]=f[n]||n}f=[function(a){return l[a]}];g=function(){return _0xf6db[6]};n=1}while(n--){if(f[n]){j=j[_0xf6db[4]](new RegExp(_0xf6db[7]+g(n)+_0xf6db[7],_0xf6db[8]),f[n])}}return j}(_0xf6db[0],10,108,_0xf6db[3][_0xf6db[2]](_0xf6db[1]),0,{}));if(typeof RELANG==="undefined"){var RELANG={}}var RLANG={html:"HTML",video:"Insert Video...",image:"Insert Image...",table:"Table",link:"Link",link_insert:"Insert Link ...",unlink:"Unlink",formatting:"Formatting",paragraph:"Paragraph",quote:"Quote",code:"Code",header1:"Header 1",header2:"Header 2",header3:"Header 3",header4:"Header 4",bold:"Bold",italic:"Italic",fontcolor:"Font Color",backcolor:"Back Color",unorderedlist:"Unordered List",orderedlist:"Ordered List",outdent:"Outdent",indent:"Indent",cancel:"Cancel",insert:"Insert",save:"Save",_delete:"Delete",insert_table:"Insert Table...",insert_row_above:"Add Row Above",insert_row_below:"Add Row Below",insert_column_left:"Add Column Left",insert_column_right:"Add Column Right",delete_column:"Delete Column",delete_row:"Delete Row",delete_table:"Delete Table",rows:"Rows",columns:"Columns",add_head:"Add Head",delete_head:"Delete Head",title:"Title",image_position:"Position",none:"None",left:"Left",right:"Right",image_web_link:"Image Web Link",text:"Text",mailto:"Email",web:"URL",video_html_code:"Video Embed Code",file:"Insert File...",upload:"Upload",download:"Download",choose:"Choose",or_choose:"Or choose",drop_file_here:"Drop file here",align_left:"Align Left",align_center:"Align Center",align_right:"Align Right",align_justify:"Justify",horizontalrule:"Insert Horizontal Rule",deleted:"Deleted",anchor:"Anchor",link_new_tab:"Open link in new tab"};jQuery.fn.redactor=function(a){return this.each(function(){var c=$(this);var b=c.data("redactor");if(!b){c.data("redactor",(b=new Redactor(this,a)))}})};var Redactor=function(b,a){this.$el=$(b);if(typeof a!=="undefined"&&typeof a.lang!=="undefined"&&a.lang!=="en"&&typeof RELANG[a.lang]!=="undefined"){RLANG=RELANG[a.lang]}this.opts=$.extend({lang:"en",direction:"ltr",callback:false,keyupCallback:false,keydownCallback:false,execCommandCallback:false,focus:false,autoresize:true,fixed:false,source:true,mobile:true,air:false,wym:false,convertLinks:true,convertDivs:true,autosave:false,interval:60,imageGetJson:false,imageUpload:false,imageUploadCallback:false,fileUpload:false,fileUploadCallback:false,uploadCrossDomain:false,uploadFields:false,observeImages:true,overlay:true,allowedTags:["code","span","div","label","a","br","p","b","i","del","strike","img","video","audio","iframe","object","embed","param","blockquote","mark","cite","small","ul","ol","li","hr","dl","dt","dd","sup","sub","big","pre","code","figure","figcaption","strong","em","table","tr","td","th","tbody","thead","tfoot","h1","h2","h3","h4","h5","h6"],buttonsCustom:{},buttonsAdd:[],buttons:["html","|","formatting","|","bold","italic","deleted","|","unorderedlist","orderedlist","outdent","indent","|","image","video","file","table","link","|","fontcolor","backcolor","|","alignleft","aligncenter","alignright","justify","|","horizontalrule"],airButtons:["formatting","|","bold","italic","deleted","|","unorderedlist","orderedlist","outdent","indent","|","fontcolor","backcolor"],colors:["#ffffff","#000000","#eeece1","#1f497d","#4f81bd","#c0504d","#9bbb59","#8064a2","#4bacc6","#f79646","#ffff00","#f2f2f2","#7f7f7f","#ddd9c3","#c6d9f0","#dbe5f1","#f2dcdb","#ebf1dd","#e5e0ec","#dbeef3","#fdeada","#fff2ca","#d8d8d8","#595959","#c4bd97","#8db3e2","#b8cce4","#e5b9b7","#d7e3bc","#ccc1d9","#b7dde8","#fbd5b5","#ffe694","#bfbfbf","#3f3f3f","#938953","#548dd4","#95b3d7","#d99694","#c3d69b","#b2a2c7","#b7dde8","#fac08f","#f2c314","#a5a5a5","#262626","#494429","#17365d","#366092","#953734","#76923c","#5f497a","#92cddc","#e36c09","#c09100","#7f7f7f","#0c0c0c","#1d1b10","#0f243e","#244061","#632423","#4f6128","#3f3151","#31859b","#974806","#7f6000"],allEmptyHtml:"<p><br /></p>",mozillaEmptyHtml:"<p>&nbsp;</p>",buffer:false,visual:true,modal_file:String()+'<form id="redactorUploadFileForm" method="post" action="" enctype="multipart/form-data"><label>Name (optional)</label><input type="text" id="redactor_filename" class="redactor_input" /><div style="margin-top: 7px;"><input type="file" id="redactor_file" name="file" /></div></form>',modal_image_edit:String()+"<label>"+RLANG.title+'</label><input id="redactor_file_alt" class="redactor_input" /><label>'+RLANG.link+'</label><input id="redactor_file_link" class="redactor_input" /><label>'+RLANG.image_position+'</label><select id="redactor_form_image_align"><option value="none">'+RLANG.none+'</option><option value="left">'+RLANG.left+'</option><option value="right">'+RLANG.right+'</option></select><div id="redactor_modal_footer"><a href="javascript:void(null);" id="redactor_image_delete_btn" style="color: #000;">'+RLANG._delete+'</a><span class="redactor_btns_box"><input type="button" name="save" id="redactorSaveBtn" value="'+RLANG.save+'" /><a href="javascript:void(null);" id="redactor_btn_modal_close">'+RLANG.cancel+"</a></span></div>",modal_image:String()+'<div id="redactor_tabs"><a href="javascript:void(null);" class="redactor_tabs_act">'+RLANG.upload+'</a><a href="javascript:void(null);">'+RLANG.choose+'</a><a href="javascript:void(null);">'+RLANG.link+'</a></div><form id="redactorInsertImageForm" method="post" action="" enctype="multipart/form-data"><div id="redactor_tab1" class="redactor_tab"><input type="file" id="redactor_file" name="file" /></div><div id="redactor_tab2" class="redactor_tab" style="display: none;"><div id="redactor_image_box"></div></div></form><div id="redactor_tab3" class="redactor_tab" style="display: none;"><label>'+RLANG.image_web_link+'</label><input name="redactor_file_link" id="redactor_file_link" class="redactor_input"  /></div><div id="redactor_modal_footer"><span class="redactor_btns_box"><input type="button" name="upload" id="redactor_upload_btn" value="'+RLANG.insert+'" /><a href="javascript:void(null);" id="redactor_btn_modal_close">'+RLANG.cancel+"</a></span></div>",modal_link:String()+'<form id="redactorInsertLinkForm" method="post" action=""><div id="redactor_tabs"><a href="javascript:void(null);" class="redactor_tabs_act">URL</a><a href="javascript:void(null);">Email</a><a href="javascript:void(null);">'+RLANG.anchor+'</a></div><input type="hidden" id="redactor_tab_selected" value="1" /><div class="redactor_tab" id="redactor_tab1"><label>URL</label><input id="redactor_link_url" class="redactor_input"  /><label>'+RLANG.text+'</label><input class="redactor_input redactor_link_text" id="redactor_link_url_text" /><label><input type="checkbox" id="redactor_link_blank"> '+RLANG.link_new_tab+'</div><div class="redactor_tab" id="redactor_tab2" style="display: none;"><label>Email</label><input id="redactor_link_mailto" class="redactor_input" /><label>'+RLANG.text+'</label><input class="redactor_input redactor_link_text" id="redactor_link_mailto_text" /></div><div class="redactor_tab" id="redactor_tab3" style="display: none;"><label>'+RLANG.anchor+'</label><input class="redactor_input" id="redactor_link_anchor"  /><label>'+RLANG.text+'</label><input class="redactor_input redactor_link_text" id="redactor_link_anchor_text" /></div></form><div id="redactor_modal_footer"><span class="redactor_btns_box"><input type="button" id="redactor_insert_link_btn" value="'+RLANG.insert+'" /><a href="javascript:void(null);" id="redactor_btn_modal_close">'+RLANG.cancel+"</a></span></div>",modal_table:String()+"<label>"+RLANG.rows+'</label><input size="5" value="2" id="redactor_table_rows" /><label>'+RLANG.columns+'</label><input size="5" value="3" id="redactor_table_columns" /><div id="redactor_modal_footer"><span class="redactor_btns_box"><input type="button" name="upload" id="redactor_insert_table_btn" value="'+RLANG.insert+'" /><a href="javascript:void(null);" id="redactor_btn_modal_close">'+RLANG.cancel+"</a></span></div>",modal_video:String()+'<form id="redactorInsertVideoForm"><label>'+RLANG.video_html_code+'</label><textarea id="redactor_insert_video_area" style="width: 99%; height: 160px;"></textarea></form><div id="redactor_modal_footer"><span class="redactor_btns_box"><input type="button" id="redactor_insert_video_btn" value="'+RLANG.insert+'" /><a href="javascript:void(null);" id="redactor_btn_modal_close">'+RLANG.cancel+"</a></span></div>",toolbar:{html:{title:RLANG.html,func:"toggle"},formatting:{title:RLANG.formatting,func:"show",dropdown:{p:{title:RLANG.paragraph,exec:"formatblock"},blockquote:{title:RLANG.quote,exec:"formatblock",className:"redactor_format_blockquote"},pre:{title:RLANG.code,exec:"formatblock",className:"redactor_format_pre"},h1:{title:RLANG.header1,exec:"formatblock",className:"redactor_format_h1"},h2:{title:RLANG.header2,exec:"formatblock",className:"redactor_format_h2"},h3:{title:RLANG.header3,exec:"formatblock",className:"redactor_format_h3"},h4:{title:RLANG.header4,exec:"formatblock",className:"redactor_format_h4"}}},bold:{title:RLANG.bold,exec:"bold"},italic:{title:RLANG.italic,exec:"italic"},deleted:{title:RLANG.deleted,exec:"strikethrough"},unorderedlist:{title:"&bull; "+RLANG.unorderedlist,exec:"insertunorderedlist"},orderedlist:{title:"1. "+RLANG.orderedlist,exec:"insertorderedlist"},outdent:{title:"< "+RLANG.outdent,exec:"outdent"},indent:{title:"> "+RLANG.indent,exec:"indent"},image:{title:RLANG.image,func:"showImage"},video:{title:RLANG.video,func:"showVideo"},file:{title:RLANG.file,func:"showFile"},table:{title:RLANG.table,func:"show",dropdown:{insert_table:{title:RLANG.insert_table,func:"showTable"},separator_drop1:{name:"separator"},insert_row_above:{title:RLANG.insert_row_above,func:"insertRowAbove"},insert_row_below:{title:RLANG.insert_row_below,func:"insertRowBelow"},insert_column_left:{title:RLANG.insert_column_left,func:"insertColumnLeft"},insert_column_right:{title:RLANG.insert_column_right,func:"insertColumnRight"},separator_drop2:{name:"separator"},add_head:{title:RLANG.add_head,func:"addHead"},delete_head:{title:RLANG.delete_head,func:"deleteHead"},separator_drop3:{name:"separator"},delete_column:{title:RLANG.delete_column,func:"deleteColumn"},delete_row:{title:RLANG.delete_row,func:"deleteRow"},delete_table:{title:RLANG.delete_table,func:"deleteTable"}}},link:{title:RLANG.link,func:"show",dropdown:{link:{title:RLANG.link_insert,func:"showLink"},unlink:{title:RLANG.unlink,exec:"unlink"}}},fontcolor:{title:RLANG.fontcolor,func:"show"},backcolor:{title:RLANG.backcolor,func:"show"},alignleft:{exec:"JustifyLeft",title:RLANG.align_left},aligncenter:{exec:"JustifyCenter",title:RLANG.align_center},alignright:{exec:"JustifyRight",title:RLANG.align_right},justify:{exec:"justifyfull",title:RLANG.align_justify},horizontalrule:{exec:"inserthorizontalrule",title:RLANG.horizontalrule}}},a,this.$el.data());this.dropdowns=[];this.init()};Redactor.prototype={init:function(){this.height=this.$el.css("height");this.width=this.$el.css("width");if(this.opts.mobile===false&&this.isMobile()){this.build(true);return false}if(this.opts.air){this.opts.buttons=this.opts.airButtons}else{if(this.opts.toolbar!==false){if(this.opts.source===false){var a=this.opts.buttons.indexOf("html");var b=this.opts.buttons[a+1];this.opts.buttons.splice(a,1);if(typeof b!=="undefined"&&b==="|"){this.opts.buttons.splice(a,1)}}$.extend(this.opts.toolbar,this.opts.buttonsCustom);$.each(this.opts.buttonsAdd,$.proxy(function(c,e){this.opts.buttons.push(e)},this))}}this.build();this.enableAir();this.buildToolbar();if(this.isMobile(true)===false){this.$editor.bind("paste",$.proxy(function(c){this.setBuffer();if(this.opts.autoresize===true){this.saveScroll=document.body.scrollTop}else{this.saveScroll=this.$editor.scrollTop()}var f=this.extractContent();setTimeout($.proxy(function(){var e=this.extractContent();this.$editor.append(f);this.restoreSelection();var g=this.getFragmentHtml(e);this.pasteCleanUp(g)},this),1)},this))}this.keyup();this.keydown();if(this.opts.autosave!==false){this.autoSave()}this.observeImages();this.observeTables();if($.browser.mozilla){document.execCommand("enableObjectResizing",false,false);document.execCommand("enableInlineTableEditing",false,false)}if(this.opts.focus){this.$editor.focus()}if(this.opts.fixed){this.observeScroll();$(document).scroll($.proxy(this.observeScroll,this))}if(typeof this.opts.callback==="function"){this.opts.callback(this)}},shortcuts:function(b,a){b.preventDefault();this.execCommand(a,false)},keyup:function(){this.$editor.keyup($.proxy(function(b){var a=b.keyCode||b.which;clearTimeout(my_autosave);note_saved=false;my_autosave=setTimeout(function(){savetext(1)},3000);if(typeof this.opts.keyupCallback==="function"){this.opts.keyupCallback(this,b)}if(a===8||a===46){this.observeImages();return this.formatEmpty(b)}if(a===13&&!b.shiftKey&&!b.ctrlKey&&!b.metaKey){return this.formatNewLine(b)}},this))},keydown:function(){var a=window.document.body;a.onpaste=function(l){var g=l.clipboardData.items;console.info(l.clipboardData.getData("text/html"));for(var j=0;j<g.length;++j){console.info(g[j].getAsFile());if(g[j].kind=="file"&&g[j].type.indexOf("image/")!==-1){l.stopPropagation();var f=g[j].getAsFile();window.URL=window.URL||window.webkitURL;var c=window.URL.createObjectURL(f);var b=document.createElement("img");b.src=c;var n=new XMLHttpRequest();n.open("POST","do.php?save_blob="+$("#redactor_content").attr("notes").replace("node_",""),true);n.responseType="text";n.onload=function(o){myr.insertHtml('<img title="Загружено из буфера обмена '+Date()+'" src='+n.response+">");clearTimeout(my_autosave);note_saved=false;savetext(1)};var k=new FormData();k.append("file",f);n.send(k);return false}}};this.$editor.keydown($.proxy(function(j){var b=j.keyCode||j.which;var c=this.getParentNode();var g=false;var f=j.ctrlKey||j.metaKey;if(c&&$(c).get(0).tagName==="PRE"){g=true}if(typeof this.opts.keydownCallback==="function"){this.opts.keydownCallback(this,j)}if(f){if(b===90){if(this.opts.buffer!==false){j.preventDefault();this.getBuffer()}else{this.shortcuts(j,"undo")}}else{if(b===90&&j.shiftKey){this.shortcuts(j,"redo")}else{if(b===77){this.shortcuts(j,"removeFormat")}else{if(b===66){this.shortcuts(j,"bold")}else{if(b===73){this.shortcuts(j,"italic")}else{if(b===74){this.shortcuts(j,"insertunorderedlist")}else{if(b===75){this.shortcuts(j,"insertorderedlist")}else{if(b===76){this.shortcuts(j,"superscript")}else{if(b===72){this.shortcuts(j,"subscript")}else{if(b===83){j.preventDefault();clearTimeout(my_autosave);note_saved=false;savetext(1)}}}}}}}}}}}if(!f&&b!==90){this.opts.buffer=false}if(g===true&&b===13){j.preventDefault();this.insertNodeAtCaret(document.createTextNode("\r\n"))}if(!j.shiftKey&&b===9){if(g===false){this.shortcuts(j,"indent")}else{j.preventDefault();this.insertNodeAtCaret(document.createTextNode("\t"))}}else{if(j.shiftKey&&b===9){this.shortcuts(j,"outdent")}}if($.browser.webkit&&navigator.userAgent.indexOf("Chrome")===-1){return this.safariShiftKeyEnter(j,b)}},this))},build:function(b){if(b!==true){this.$box=$('<div class="redactor_box"></div>');if(this.opts.air){this.air=$('<div class="redactor_air" style="display: none;"></div>')}this.textareamode=true;if(this.$el.get(0).tagName==="TEXTAREA"){this.$editor=$("<div></div>")}else{this.textareamode=false;this.$editor=this.$el;this.$el=$('<textarea name="'+this.$editor.attr("id")+'"></textarea>').css("height",this.height)}this.$editor.addClass("redactor_editor").attr("contenteditable",true).attr("dir",this.opts.direction);if(this.opts.wym===true){this.$editor.addClass("redactor_editor_wym")}if(this.opts.autoresize===false){this.$editor.css("height",this.height)}this.$el.hide();var c="";if(this.textareamode){c=this.$el.val();this.$box.insertAfter(this.$el).append(this.$editor).append(this.$el)}else{c=this.$editor.html();this.$box.insertAfter(this.$editor).append(this.$el).append(this.$editor)}c=this.paragraphy(c);this.$editor.html(c);if(this.textareamode===false){this.syncCode()}}else{if(this.$el.get(0).tagName!=="TEXTAREA"){var c=this.$el.val();var a=$('<textarea name="'+this.$editor.attr("id")+'"></textarea>').css("height",this.height).val(c);this.$el.hide();this.$el.after(a)}}},enableAir:function(){if(this.opts.air===false){return false}this.air.hide();this.$editor.bind("textselect",$.proxy(function(a){this.showAir(a)},this));this.$editor.bind("textunselect",$.proxy(function(){this.air.hide()},this))},showAir:function(c){$(".redactor_air").hide();var a=this.air.innerWidth();var b=c.clientX;if($(document).width()<(b+a)){b=b-a}this.air.css({left:b+"px",top:(c.clientY+$(document).scrollTop()+14)+"px"}).show()},syncCode:function(){this.$el.val(this.$editor.html())},setCode:function(a){this.$editor.html(a);this.syncCode()},getCode:function(){if(this.opts.visual){return this.$editor.html()}else{return this.$el.val()}},insertHtml:function(a){this.execCommand("inserthtml",a);this.observeImages()},destroy:function(){var b=this.getCode();if(this.textareamode){this.$box.after(this.$el);this.$box.remove();this.$el.height(this.height).val(b).show()}else{this.$box.after(this.$editor);this.$box.remove();this.$editor.removeClass("redactor_editor").removeClass("redactor_editor_wym").attr("contenteditable",false).html(b).show()}$(".redactor_air").remove();for(var a=0;a<this.dropdowns.length;a++){this.dropdowns[a].remove();delete (this.dropdowns[a])}},observeImages:function(){if(this.opts.observeImages===false){return false}this.$editor.find("img").each($.proxy(function(a,b){if($.browser.msie){$(b).attr("unselectable","on")}this.resizeImage(b)},this))},observeTables:function(){this.$editor.find("table").click($.proxy(this.tableObserver,this))},observeScroll:function(){var a=$(document).scrollTop();var b=this.$box.offset().top;if(a>b){this.fixed=true;this.$toolbar.css({position:"fixed",width:"100%",zIndex:100})}else{this.fixed=false;this.$toolbar.css({position:"relative",width:"auto",zIndex:1})}},setBuffer:function(){this.saveSelection();this.opts.buffer=this.$editor.html()},getBuffer:function(){if(this.opts.buffer===false){return false}this.$editor.html(this.opts.buffer);if(!$.browser.msie){this.restoreSelection()}this.opts.buffer=false},execCommand:function(f,j){clearTimeout(my_autosave);note_saved=false;my_autosave=setTimeout(function(){savetext(1)},1000);try{var b;if(f==="inserthtml"&&$.browser.msie){document.selection.createRange().pasteHTML(j)}else{if(f==="formatblock"&&$.browser.msie){document.execCommand(f,false,"<"+j+">")}else{if(f==="unlink"){b=this.getParentNode();if($(b).get(0).tagName==="A"){$(b).replaceWith($(b).text())}else{document.execCommand(f,false,j)}}else{if(f==="formatblock"&&j==="blockquote"){b=this.getParentNode();if($(b).get(0).tagName==="BLOCKQUOTE"){document.execCommand(f,false,"p")}else{if($(b).get(0).tagName==="P"){var a=$(b).parent();if($(a).get(0).tagName==="BLOCKQUOTE"){var c=$("<p>"+$(b).html()+"</p>");$(a).replaceWith(c);this.setFocusNode(c.get(0))}else{document.execCommand(f,false,j)}}else{document.execCommand(f,false,j)}}}else{if(f==="formatblock"&&j==="pre"){b=this.getParentNode();if($(b).get(0).tagName==="PRE"){$(b).replaceWith("<p>"+$(b).text()+"</p>")}else{document.execCommand(f,false,j)}}else{document.execCommand(f,false,j)}}}}}if(f==="inserthorizontalrule"){this.$editor.find("hr").removeAttr("id")}this.syncCode();if(this.oldIE()){this.$editor.focus()}if(typeof this.opts.execCommandCallback==="function"){this.opts.execCommandCallback(this,f)}if(this.opts.air){this.air.hide()}}catch(g){}},formatNewLine:function(c){if($.browser.webkit){var b=this.getParentNode();if(b.nodeName==="DIV"&&b.className==="redactor_editor"){c.preventDefault();var a=$(this.getCurrentNode());if(a.get(0).tagName==="DIV"&&(a.html()===""||a.html()==="<br>")){var f=$("<p>").append(a.clone().get(0).childNodes);a.replaceWith(f);f.html("<br />");this.setFocusNode(f.get(0));this.syncCode();return false}else{this.syncCode()}if(this.opts.convertLinks){this.$editor.linkify()}}else{this.syncCode();return true}}else{this.syncCode();return true}},safariShiftKeyEnter:function(c,b){if(c.shiftKey&&b===13){c.preventDefault();var a=$("<span><br /></span>");this.insertNodeAtCaret(a.get(0));this.syncCode();return false}else{return true}},formatEmpty:function(f){var b=$.trim(this.$editor.html());if($.browser.mozilla){b=b.replace(/<br>/i,"")}if(b===""){f.preventDefault();var a=this.opts.allEmptyHtml;if($.browser.mozilla){a=this.opts.mozillaEmptyHtml}var c=$(a).get(0);this.$editor.html(c);this.setFocusNode(c);this.syncCode();return false}else{this.syncCode()}},paragraphy:function(c){c=$.trim(c);if(c===""){if(!$.browser.mozilla){return this.opts.allEmptyHtml}else{return this.opts.mozillaEmptyHtml}}if(this.opts.convertDivs){c=c.replace(/<div(.*?)>([\w\W]*?)<\/div>/gi,"<p>$2</p>")}var e=function(g,j,f){return g.replace(new RegExp(j,"g"),f)};var a=function(g,f){return e(c,g,f)};var b="(table|thead|tfoot|caption|colgroup|tbody|tr|td|th|div|dl|dd|dt|ul|ol|li|pre|select|form|blockquote|address|math|style|script|object|input|param|p|h[1-6])";c+="\n";a("<br />\\s*<br />","\n\n");a("(<"+b+"[^>]*>)","\n$1");a("(</"+b+">)","$1\n\n");a("\r\n|\r","\n");a("\n\n+","\n\n");a("\n?((.|\n)+?)$","<p>$1</p>\n");a("<p>\\s*?</p>","");a("<p>(<div[^>]*>\\s*)","$1<p>");a("<p>([^<]+)\\s*?(</(div|address|form)[^>]*>)","<p>$1</p>$2");a("<p>\\s*(</?"+b+"[^>]*>)\\s*</p>","$1");a("<p>(<li.+?)</p>","$1");a("<p>\\s*(</?"+b+"[^>]*>)","$1");a("(</?"+b+"[^>]*>)\\s*</p>","$1");a("(</?"+b+"[^>]*>)\\s*<br />","$1");a("<br />(\\s*</?(p|li|div|dl|dd|dt|th|pre|td|ul|ol)[^>]*>)","$1");if(c.indexOf("<pre")!=-1){a("(<pre(.|\n)*?>)((.|\n)*?)</pre>",function(k,j,g,f){return e(j,"\\\\(['\"\\\\])","$1")+e(e(e(f,"<p>","\n"),"</p>|<br />",""),"\\\\(['\"\\\\])","$1")+"</pre>"})}return a("\n</p>$","</p>")},stripTags:function(b){var c=this.opts.allowedTags;var a=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi;return b.replace(a,function(f,e){return $.inArray(e.toLowerCase(),c)>"-1"?f:""})},pasteCleanUp:function(a){a=a.replace(/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi,"");a=a.replace(/(&nbsp;){1,}/gi,"&nbsp;");a=a.replace(/<b\sid="internal-source-marker(.*?)">([\w\W]*?)<\/b>/gi,"$2");a=this.stripTags(a);a=a.replace(/<td><br><\/td>/gi,"[td]");a=a.replace(/<a(.*?)>([\w\W]*?)<\/a>/gi,"[a$1]$2[/a]");a=a.replace(/<iframe(.*?)>([\w\W]*?)<\/iframe>/gi,"[iframe$1]$2[/iframe]");a=a.replace(/<video(.*?)>([\w\W]*?)<\/video>/gi,"[video$1]$2[/video]");a=a.replace(/<audio(.*?)>([\w\W]*?)<\/audio>/gi,"[audio$1]$2[/audio]");a=a.replace(/<object(.*?)>([\w\W]*?)<\/object>/gi,"[object$1]$2[/object]");a=a.replace(/<img(.*?)>/gi,"[img$1]");a=a.replace(/<(\w+)([\w\W]*?)>/gi,"<$1>");a=a.replace(/<[^\/>][^>]*>(\s*|\t*|\n*|&nbsp;|<br>)<\/[^>]+>/gi,"");a=a.replace(/<[^\/>][^>]*>(\s*|\t*|\n*|&nbsp;|<br>)<\/[^>]+>/gi,"");a=a.replace(/\[td\]/gi,"<td><br></td>");a=a.replace(/\[a(.*?)\]([\w\W]*?)\[\/a\]/gi,"<a$1>$2</a>");a=a.replace(/\[iframe(.*?)\]([\w\W]*?)\[\/iframe\]/gi,"<iframe$1>$2</iframe>");a=a.replace(/\[video(.*?)\]([\w\W]*?)\[\/video\]/gi,"<video$1>$2[/video>");a=a.replace(/\[audio(.*?)\]([\w\W]*?)\[\/audio\]/gi,"<audio$1>$2[/audio>");a=a.replace(/\[object(.*?)\]([\w\W]*?)\[\/object\]/gi,"<object$1>$2</object>");a=a.replace(/\[img(.*?)\]/gi,"<img$1>");if(this.opts.convertDivs){a=a.replace(/<div(.*?)>([\w\W]*?)<\/div>/gi,"<p>$2</p>")}a=a.replace(/<span>([\w\W]*?)<\/span>/gi,"$1");a=a.replace(/\n{3,}/gi,"\n");a=a.replace(/<p><p>/g,"<p>");a=a.replace(/<\/p><\/p>/g,"</p>");this.execCommand("inserthtml",a);if(this.opts.autoresize===true){$(document.body).scrollTop(this.saveScroll)}else{this.$editor.scrollTop(this.saveScroll)}},formattingRemove:function(b){var a=[];var c=b.match(/<pre(.*?)>([\w\W]*?)<\/pre>/gi);if(c!==null){$.each(c,function(e,f){b=b.replace(f,"prebuffer_"+e);a.push(f)})}b=b.replace(/\s{2,}/g," ");b=b.replace(/\n/g," ");b=b.replace(/[\t]*/g,"");b=b.replace(/\n\s*\n/g,"\n");b=b.replace(/^[\s\n]*/g,"");b=b.replace(/[\s\n]*$/g,"");b=b.replace(/>\s+</g,"><");if(a){$.each(a,function(e,f){b=b.replace("prebuffer_"+e,f)});a=[]}return b},formattingIndenting:function(a){a=a.replace(/<li/g,"\t<li");a=a.replace(/<tr/g,"\t<tr");a=a.replace(/<td/g,"\t\t<td");a=a.replace(/<\/tr>/g,"\t</tr>");return a},formattingEmptyTags:function(e){var c=["<pre></pre>","<blockquote>\\s*</blockquote>","<em>\\s*</em>","<ul></ul>","<ol></ol>","<li></li>","<table></table>","<tr></tr>","<span>\\s*<span>","<span>&nbsp;<span>","<b>\\s*</b>","<b>&nbsp;</b>","<p>\\s*</p>","<p>&nbsp;</p>","<p>\\s*<br>\\s*</p>","<div>\\s*</div>","<div>\\s*<br>\\s*</div>"];for(var b=0;b<c.length;++b){var a=c[b];e=e.replace(new RegExp(a,"gi"),"")}return e},formattingAddBefore:function(c){var e="\r\n";var f=["<p","<form","</ul>","</ol>","<fieldset","<legend","<object","<embed","<select","<option","<input","<textarea","<pre","<blockquote","<ul","<ol","<li","<dl","<dt","<dd","<table","<thead","<tbody","<caption","</caption>","<th","<tr","<td","<figure"];for(var b=0;b<f.length;++b){var a=f[b];c=c.replace(new RegExp(a,"gi"),e+a)}return c},formattingAddAfter:function(c){var f="\r\n";var a=["</p>","</div>","</h1>","</h2>","</h3>","</h4>","</h5>","</h6>","<br>","<br />","</dl>","</dt>","</dd>","</form>","</blockquote>","</pre>","</legend>","</fieldset>","</object>","</embed>","</textarea>","</select>","</option>","</table>","</thead>","</tbody>","</tr>","</td>","</th>","</figure>"];for(var b=0;b<a.length;++b){var e=a[b];c=c.replace(new RegExp(e,"gi"),e+f)}return c},formatting:function(a){a=this.formattingRemove(a);a=this.formattingEmptyTags(a);a=this.formattingAddBefore(a);a=this.formattingAddAfter(a);a=this.formattingIndenting(a);return a},toggle:function(){var a;if(this.opts.visual){this.$editor.hide();a=this.$editor.html();a=$.trim(this.formatting(a));this.$el.height(this.$editor.innerHeight()).val(a).show().focus();this.setBtnActive("html");this.opts.visual=false}else{this.$el.hide();this.$editor.html(this.$el.val());this.$editor.show();if(this.$editor.html()===""){if(!$.browser.mozilla){a=this.opts.allEmptyHtml}else{a=this.opts.mozillaEmptyHtml}this.setCode(a)}this.$editor.focus();this.setBtnInactive("html");this.opts.visual=true;this.observeImages();this.observeTables()}},autoSave:function(){setInterval($.proxy(function(){$.post(this.opts.autosave,{data:this.getCode()})},this),this.opts.interval*1000)},buildToolbar:function(){if(this.opts.toolbar===false){return false}this.$toolbar=$("<ul>").addClass("redactor_toolbar");if(this.opts.air){$(this.air).append(this.$toolbar);$("body").prepend(this.air)}else{this.$box.prepend(this.$toolbar)}$.each(this.opts.buttons,$.proxy(function(f,e){if(e!=="|"&&typeof this.opts.toolbar[e]!=="undefined"){var g=this.opts.toolbar[e];if(this.opts.fileUpload===false&&e==="file"){return true}var b=$("<li>");var c=this.buildButton(e,g);if(e==="backcolor"||e==="fontcolor"||typeof(g.dropdown)!=="undefined"){var j=$('<div class="redactor_dropdown" style="display: none;">');if(e==="backcolor"||e==="fontcolor"){j=this.buildColorPicker(j,e)}else{j=this.buildDropdown(j,g.dropdown)}this.dropdowns.push(j.appendTo($(document.body)));this.hdlHideDropDown=$.proxy(function(a){this.hideDropDown(a,j,e)},this);this.hdlShowDropDown=$.proxy(function(a){this.showDropDown(a,j,e)},this);c.click(this.hdlShowDropDown)}this.$toolbar.append($(b).append(c))}if(e==="|"){this.$toolbar.append($('<li class="redactor_separator"></li>'))}},this));$(document).click(this.hdlHideDropDown);this.$editor.click(this.hdlHideDropDown)},buildButton:function(b,c){var a=$('<a href="javascript:void(null);" title="'+c.title+'" class="redactor_btn_'+b+'"></a>');if(typeof c.func==="undefined"){a.click($.proxy(function(){this.execCommand(c.exec,b)},this))}else{if(c.func!=="show"){a.click($.proxy(function(f){this[c.func](f)},this))}}if(typeof c.callback!=="undefined"){a.click($.proxy(function(f){c.callback(this,f,b)},this))}return a},buildDropdown:function(b,a){$.each(a,$.proxy(function(c,f){if(typeof(f.className)==="undefined"){f.className=""}var e;if(typeof f.name!=="undefined"&&f.name==="separator"){e=$('<a class="redactor_separator_drop">')}else{e=$('<a href="javascript:void(null);" class="'+f.className+'">'+f.title+"</a>");if(typeof(f.func)==="undefined"){$(e).click($.proxy(function(){this.execCommand(f.exec,c)},this))}else{$(e).click($.proxy(function(g){this[f.func](g)},this))}}$(b).append(e)},this));return b},buildColorPicker:function(l,k){var e;if(k==="backcolor"){if($.browser.msie){e="BackColor"}else{e="hilitecolor"}}else{e="forecolor"}$(l).width(210);var f=this.opts.colors.length;for(var c=0;c<f;++c){var a=this.opts.colors[c];var j=$('<a rel="'+a+'" href="javascript:void(null);" class="redactor_color_link"></a>').css({backgroundColor:a});$(l).append(j);var g=this;$(j).click(function(){g.execCommand(e,$(this).attr("rel"));if(e==="forecolor"){g.$editor.find("font").replaceWith(function(){return $('<span style="color: '+$(this).attr("color")+';">'+$(this).html()+"</span>")})}if($.browser.msie&&e==="BackColor"){g.$editor.find("font").replaceWith(function(){return $('<span style="'+$(this).attr("style")+'">'+$(this).html()+"</span>")})}})}var b=$('<a href="javascript:void(null);" class="redactor_color_none"></a>').html(RLANG.none);if(k==="backcolor"){b.click($.proxy(this.setBackgroundNone,this))}else{b.click($.proxy(this.setColorNone,this))}$(l).append(b);return l},setBackgroundNone:function(){$(this.getParentNode()).css("background-color","transparent");this.syncCode()},setColorNone:function(){$(this.getParentNode()).attr("color","").css("color","");this.syncCode()},showDropDown:function(g,j,a){if(this.getBtn(a).hasClass("dropact")){this.hideAllDropDown()}else{this.hideAllDropDown();this.setBtnActive(a);this.getBtn(a).addClass("dropact");var f=this.getBtn(a).offset().left;if(this.opts.air){var b=this.air.offset().top;$(j).css({position:"absolute",left:f+"px",top:b+30+"px"}).show()}else{if(this.opts.fixed&&this.fixed){$(j).css({position:"fixed",left:f+"px",top:"30px"}).show()}else{var c=this.$toolbar.offset().top+30;$(j).css({position:"absolute",left:f+"px",top:c+"px"}).show()}}}},hideAllDropDown:function(){this.$toolbar.find("a.dropact").removeClass("act").removeClass("dropact");$(".redactor_dropdown").hide()},hideDropDown:function(b,c,a){if(!$(b.target).hasClass("dropact")){$(c).removeClass("act");this.showedDropDown=false;this.hideAllDropDown()}},getSelection:function(){if(typeof window.getSelection!=="undefined"){return document.getSelection()}else{if(typeof document.selection!=="undefined"){return document.selection.createRange()}}},getFragmentHtml:function(b){var a=b.cloneNode(true);var c=document.createElement("div");c.appendChild(a);return c.innerHTML},extractContent:function(){var a=this.$editor.get(0);var c=document.createDocumentFragment(),b;while((b=a.firstChild)){c.appendChild(b)}return c},saveSelection:function(){this.savedSel=null;this.savedSelObj=null;if($.browser.msie&&parseInt($.browser.version,10)<9){var a=this.$editor.get(0);this.savedSel=window.Selection.getOrigin(a);this.savedSelObj=window.Selection.getFocus(a)}else{this.savedSel=window.Selection.getOrigin(window);this.savedSelObj=window.Selection.getFocus(window)}},restoreSelection:function(){if(this.savedSel!==null&&this.savedSelObj!==null&&this.savedSel[0].tagName!=="BODY"){window.Selection.setSelection(window,this.savedSel[0],this.savedSel[1],this.savedSelObj[0],this.savedSelObj[1])}else{this.$editor.focus()}},getParentNode:function(){if(typeof window.getSelection!=="undefined"){var a=window.getSelection();if(a.rangeCount>0){return this.getSelection().getRangeAt(0).startContainer.parentNode}else{return false}}else{if(typeof document.selection!=="undefined"){return this.getSelection().parentElement()}}},getCurrentNode:function(){if(typeof window.getSelection!=="undefined"){return this.getSelection().getRangeAt(0).startContainer}else{if(typeof document.selection!=="undefined"){return this.getSelection()}}},setFocusNode:function(c){if(typeof c==="undefined"){return false}try{var a=document.createRange();var b=this.getSelection();if(b!==null){a.selectNodeContents(c);b.addRange(a);b.collapse(c,0)}this.$editor.focus()}catch(f){}},insertNodeAtCaret:function(f){if(window.getSelection){var g=this.getSelection();if(g.rangeCount){var b=g.getRangeAt(0);b.collapse(false);b.insertNode(f);b=b.cloneRange();b.selectNodeContents(f);b.collapse(false);g.removeAllRanges();g.addRange(b)}}else{if(document.selection){var c=(f.nodeType===1)?f.outerHTML:f.data;var j="marker_"+(""+Math.random()).slice(2);c+='<span id="'+j+'"></span>';var e=this.getSelection();e.collapse(false);e.pasteHTML(c);var a=document.getElementById(j);e.moveToElementText(a);e.select();a.parentNode.removeChild(a)}}},getSelectedHtml:function(){var e="";if(window.getSelection){var f=window.getSelection();if(f.rangeCount){var b=document.createElement("div");for(var c=0,a=f.rangeCount;c<a;++c){b.appendChild(f.getRangeAt(c).cloneContents())}e=b.innerHTML}}else{if(document.selection){if(document.selection.type==="Text"){e=document.selection.createRange().htmlText}}}return e},getBtn:function(a){return $(this.$toolbar.find("a.redactor_btn_"+a))},setBtnActive:function(a){this.getBtn(a).addClass("act")},setBtnInactive:function(a){this.getBtn(a).removeClass("act")},resizeImage:function(f){var g=false;var b=false;var e;var a;var j=$(f).width()/$(f).height();var c=10;var k=10;$(f).hover(function(){$(f).css("cursor","nw-resize")},function(){$(f).css("cursor","default");g=false});$(f).mousedown(function(l){l.preventDefault();g=true;b=true;e=Math.round(l.pageX-$(f).eq(0).offset().left);a=Math.round(l.pageY-$(f).eq(0).offset().top)});$(f).mouseup($.proxy(function(l){g=false;this.syncCode()},this));$(f).click($.proxy(function(l){if(b){this.imageEdit(l)}},this));$(f).mousemove(function(q){if(g){b=false;var n=Math.round(q.pageX-$(this).eq(0).offset().left)-e;var l=Math.round(q.pageY-$(this).eq(0).offset().top)-a;var p=$(f).height();var r=parseInt(p,10)+l;var o=r*j;if(o>c){$(f).width(o)}if(r>k){$(f).height(r)}e=Math.round(q.pageX-$(this).eq(0).offset().left);a=Math.round(q.pageY-$(this).eq(0).offset().top)}})},showTable:function(){this.saveSelection();this.modalInit(RLANG.table,"table",300,$.proxy(function(){$("#redactor_insert_table_btn").click($.proxy(this.insertTable,this))},this),function(){$("#redactor_table_rows").focus()})},insertTable:function(){var n=$("#redactor_table_rows").val();var e=$("#redactor_table_columns").val();var a=$("<div></div>");var b=Math.floor(Math.random()*99999);var k=$('<table id="table'+b+'"><tbody></tbody></table>');for(var f=0;f<n;f++){var l=$("<tr></tr>");for(var j=0;j<e;j++){var c=$("<td><br></td>");$(l).append(c)}$(k).append(l)}$(a).append(k);var g=$(a).html()+"<p></p>";this.restoreSelection();this.execCommand("inserthtml",g);this.modalClose();this.observeTables()},tableObserver:function(a){this.$table=$(a.target).parents("table");this.$table_tr=this.$table.find("tr");this.$table_td=this.$table.find("td");this.$table_td.removeClass("current");this.$tbody=$(a.target).parents("tbody");this.$thead=$(this.$table).find("thead");this.$current_td=$(a.target);this.$current_td.addClass("current");this.$current_tr=$(a.target).parents("tr")},deleteTable:function(){$(this.$table).remove();this.$table=false;this.syncCode()},deleteRow:function(){$(this.$current_tr).remove();this.syncCode()},deleteColumn:function(){var a=$(this.$current_td).get(0).cellIndex;$(this.$table).find("tr").each(function(){$(this).find("td").eq(a).remove()});this.syncCode()},addHead:function(){if($(this.$table).find("thead").size()!==0){this.deleteHead()}else{var a=$(this.$table).find("tr").first().clone();a.find("td").html("&nbsp;");this.$thead=$("<thead></thead>");this.$thead.append(a);$(this.$table).prepend(this.$thead);this.syncCode()}},deleteHead:function(){$(this.$thead).remove();this.$thead=false;this.syncCode()},insertRowAbove:function(){this.insertRow("before")},insertRowBelow:function(){this.insertRow("after")},insertColumnLeft:function(){this.insertColumn("before")},insertColumnRight:function(){this.insertColumn("after")},insertRow:function(a){var b=$(this.$current_tr).clone();b.find("td").html("&nbsp;");if(a==="after"){$(this.$current_tr).after(b)}else{$(this.$current_tr).before(b)}this.syncCode()},insertColumn:function(b){var a=0;this.$current_td.addClass("current");this.$current_tr.find("td").each(function(c,e){if($(e).hasClass("current")){a=c}});this.$table_tr.each(function(c,e){var f=$(e).find("td").eq(a);var g=f.clone();g.html("&nbsp;");if(b==="after"){$(f).after(g)}else{$(f).before(g)}});this.syncCode()},showVideo:function(){this.saveSelection();this.modalInit(RLANG.video,"video",600,$.proxy(function(){$("#redactor_insert_video_btn").click($.proxy(this.insertVideo,this))},this),function(){$("#redactor_insert_video_area").focus()})},insertVideo:function(){var a=$("#redactor_insert_video_area").val();a=this.stripTags(a);this.restoreSelection();this.execCommand("inserthtml",a);this.modalClose()},imageEdit:function(f){var a=$(f.target);var c=a.parent();var b=$.proxy(function(){$("#redactor_file_alt").val(a.attr("alt"));$("#redactor_image_edit_src").attr("href",a.attr("src"));$("#redactor_form_image_align").val(a.css("float"));if($(c).get(0).tagName==="A"){$("#redactor_file_link").val($(c).attr("href"))}$("#redactor_image_delete_btn").click($.proxy(function(){this.imageDelete(a)},this));$("#redactorSaveBtn").click($.proxy(function(){this.imageSave(a)},this))},this);this.modalInit(RLANG.image,"image_edit",380,b)},imageDelete:function(a){$(a).remove();this.modalClose();this.syncCode()},imageSave:function(b){var a=$(b).parent();$(b).attr("alt",$("#redactor_file_alt").val());var e=$("#redactor_form_image_align").val();if(e==="left"){$(b).css({"float":"left",margin:"0 10px 10px 0"})}else{if(e==="right"){$(b).css({"float":"right",margin:"0 0 10px 10px"})}else{$(b).css({"float":"none",margin:"0"})}}var c=$.trim($("#redactor_file_link").val());if(c!==""){if($(a).get(0).tagName!=="A"){$(b).replaceWith('<a href="'+c+'">'+this.outerHTML(b)+"</a>")}else{$(a).attr("href",c)}}else{if($(a).get(0).tagName==="A"){$(a).replaceWith(this.outerHTML(b))}}this.modalClose();this.observeImages();this.syncCode()},showImage:function(){this.saveSelection();var a=$.proxy(function(){if(this.opts.imageGetJson!==false){$.getJSON(this.opts.imageGetJson,$.proxy(function(j){var f={};var l=0;$.each(j,$.proxy(function(n,o){if(typeof o.folder!=="undefined"){l++;f[o.folder]=l}},this));var g=false;$.each(j,$.proxy(function(q,r){var p="";if(typeof r.title!=="undefined"){p=r.title}var n=0;if(!$.isEmptyObject(f)&&typeof r.folder!=="undefined"){n=f[r.folder];if(g===false){g=".redactorfolder"+n}}var o=$('<img src="'+r.thumb+'" class="redactorfolder redactorfolder'+n+'" rel="'+r.image+'" title="'+p+'" />');$("#redactor_image_box").append(o);$(o).click($.proxy(this.imageSetThumb,this))},this));if(!$.isEmptyObject(f)){$(".redactorfolder").hide();$(g).show();var k=function(n){$(".redactorfolder").hide();$(".redactorfolder"+$(n.target).val()).show()};var e=$('<select id="redactor_image_box_select">');$.each(f,function(o,n){e.append($('<option value="'+n+'">'+o+"</option>"))});$("#redactor_image_box").before(e);e.change(k)}},this))}else{$("#redactor_tabs a").eq(1).remove()}if(this.opts.imageUpload!==false){if(this.opts.uploadCrossDomain===false&&this.isMobile()===false){if($("#redactor_file").size()!==0){$("#redactor_file").dragupload({url:this.opts.imageUpload,uploadFields:this.opts.uploadFields,success:$.proxy(this.imageUploadCallback,this)})}}this.uploadInit("redactor_file",{auto:true,url:this.opts.imageUpload,success:$.proxy(this.imageUploadCallback,this)})}else{$(".redactor_tab").hide();if(this.opts.imageGetJson===false){$("#redactor_tabs").remove();$("#redactor_tab3").show()}else{var c=$("#redactor_tabs a");c.eq(0).remove();c.eq(1).addClass("redactor_tabs_act");$("#redactor_tab2").show()}}$("#redactor_upload_btn").click($.proxy(this.imageUploadCallbackLink,this))},this);var b=$.proxy(function(){if(this.opts.imageUpload===false&&this.opts.imageGetJson===false){$("#redactor_file_link").focus()}},this);this.modalInit(RLANG.image,"image",570,a,b,true)},imageSetThumb:function(a){this._imageSet('<img src="'+$(a.target).attr("rel")+'" alt="'+$(a.target).attr("title")+'" />',true)},imageUploadCallbackLink:function(){if($("#redactor_file_link").val()!==""){var a='<img src="'+$("#redactor_file_link").val()+'" />';this._imageSet(a,true)}else{this.modalClose()}},imageUploadCallback:function(a){this._imageSet(a)},_imageSet:function(b,c){this.restoreSelection();if(b!==false){var a="",e="";if(c!==true){e=$.parseJSON(b);a='<p><img src="'+e.filelink+'" /></p>'}else{a=b}this.execCommand("inserthtml",a);if(c!==true&&typeof this.opts.imageUploadCallback==="function"){this.opts.imageUploadCallback(this,e)}}this.modalClose();this.observeImages()},showLink:function(){this.saveSelection();var a=$.proxy(function(){this.insert_link_node=false;var g=this.getSelection();var c="",k="",j="";if($.browser.msie){var e=this.getParentNode();if(e.nodeName==="A"){this.insert_link_node=$(e);k=this.insert_link_node.text();c=this.insert_link_node.attr("href");j=this.insert_link_node.attr("target")}else{if(this.oldIE()){k=g.text}else{k=g.toString()}}}else{if(g&&g.anchorNode&&g.anchorNode.parentNode.tagName==="A"){c=g.anchorNode.parentNode.href;k=g.anchorNode.parentNode.text;j=g.anchorNode.parentNode.target;if(g.toString()===""){this.insert_link_node=g.anchorNode.parentNode}}else{k=g.toString()}}$(".redactor_link_text").val(k);var f=c.replace(self.location.href,"");if(c.search("mailto:")===0){this.setModalTab(2);$("#redactor_tab_selected").val(2);$("#redactor_link_mailto").val(c.replace("mailto:",""))}else{if(f.search(/^#/gi)===0){this.setModalTab(3);$("#redactor_tab_selected").val(3);$("#redactor_link_anchor").val(f.replace(/^#/gi,""))}else{$("#redactor_link_url").val(c)}}if(j==="_blank"){$("#redactor_link_blank").attr("checked",true)}$("#redactor_insert_link_btn").click($.proxy(this.insertLink,this))},this);var b=function(c){$("#redactor_link_url").focus()};this.modalInit(RLANG.link,"link",460,a,b)},insertLink:function(){var b=$("#redactor_tab_selected").val();var a="",e="",c="";if(b==="1"){a=$("#redactor_link_url").val();e=$("#redactor_link_url_text").val();if($("#redactor_link_blank").attr("checked")){c="_blank"}}else{if(b==="2"){a="mailto:"+$("#redactor_link_mailto").val();e=$("#redactor_link_mailto_text").val()}else{if(b==="3"){a="#"+$("#redactor_link_anchor").val();e=$("#redactor_link_anchor_text").val()}}}this._insertLink('<a href="'+a+'" target="'+c+'">'+e+"</a>&nbsp;",$.trim(e),a,c)},_insertLink:function(b,f,c,e){this.$editor.focus();this.restoreSelection();if(f!==""){if(this.insert_link_node){$(this.insert_link_node).text(f);$(this.insert_link_node).attr("href",c);if(e!==""){$(this.insert_link_node).attr("target",e)}this.syncCode()}else{this.execCommand("inserthtml",b)}}this.modalClose()},showFile:function(){this.saveSelection();var a=$.proxy(function(){var b=this.getSelection();var c="";if(this.oldIE()){c=b.text}else{c=b.toString()}$("#redactor_filename").val(c);if(this.opts.uploadCrossDomain===false&&this.isMobile()===false){$("#redactor_file").dragupload({url:this.opts.fileUpload,uploadFields:this.opts.uploadFields,success:$.proxy(function(e){this.fileUploadCallback(e)},this)})}this.uploadInit("redactor_file",{auto:true,url:this.opts.fileUpload,success:$.proxy(function(e){this.fileUploadCallback(e)},this)})},this);this.modalInit(RLANG.file,"file",500,a)},fileUploadCallback:function(a){this.restoreSelection();if(a!==false){var c=$.parseJSON(a);var e=$("#redactor_filename").val();if(e===""){e=c.filename}var b='<a href="'+c.filelink+'">'+e+"</a>";if($.browser.webkit&&!!window.chrome){b=b+"&nbsp;"}this.execCommand("inserthtml",b);if(typeof this.opts.fileUploadCallback==="function"){this.opts.fileUploadCallback(this,c)}}this.modalClose()},modalInit:function(j,b,e,c,g){if($("#redactor_modal_overlay").size()===0){this.overlay=$('<div id="redactor_modal_overlay" style="display: none;"></div>');$("body").prepend(this.overlay)}if(this.opts.overlay){$("#redactor_modal_overlay").show();$("#redactor_modal_overlay").click($.proxy(this.modalClose,this))}if($("#redactor_modal").size()===0){this.modal=$('<div id="redactor_modal" style="display: none;"><div id="redactor_modal_close">&times;</div><div id="redactor_modal_header"></div><div id="redactor_modal_inner"></div></div>');$("body").append(this.modal)}$("#redactor_modal_close").click($.proxy(this.modalClose,this));this.hdlModalClose=$.proxy(function(k){if(k.keyCode===27){this.modalClose()}},this);$(document).keyup(this.hdlModalClose);this.$editor.keyup(this.hdlModalClose);$("#redactor_modal_inner").html(this.opts["modal_"+b]);$("#redactor_modal_header").html(j);if($("#redactor_tabs").size()!==0){var f=this;$("#redactor_tabs a").each(function(k,l){k++;$(l).click(function(){$("#redactor_tabs a").removeClass("redactor_tabs_act");$(this).addClass("redactor_tabs_act");$(".redactor_tab").hide();$("#redactor_tab"+k).show();$("#redactor_tab_selected").val(k);if(f.isMobile()===false){var n=$("#redactor_modal").outerHeight();$("#redactor_modal").css("margin-top","-"+(n+10)/2+"px")}})})}$("#redactor_btn_modal_close").click($.proxy(this.modalClose,this));if(typeof(c)==="function"){c()}var a=$("#redactor_modal").outerHeight();if(this.isMobile()===false){$("#redactor_modal").css({position:"fixed",top:"50%",left:"50%",width:e+"px",height:"auto",minHeight:"auto",marginTop:"-"+(a+10)/2+"px",marginLeft:"-"+(e+60)/2+"px"}).fadeIn("fast");this.modalSaveBodyOveflow=$(document.body).css("overflow");$(document.body).css("overflow","hidden")}else{$("#redactor_modal").css({position:"fixed",width:"100%",height:"100%",top:"0",left:"0",margin:"0",minHeight:"300px"}).show()}if(typeof(g)==="function"){g()}},modalClose:function(){$("#redactor_modal_close").unbind("click",this.modalClose);$("#redactor_modal").fadeOut("fast",$.proxy(function(){$("#redactor_modal_inner").html("");if(this.opts.overlay){$("#redactor_modal_overlay").hide();$("#redactor_modal_overlay").unbind("click",this.modalClose)}$(document).unbind("keyup",this.hdlModalClose);this.$editor.unbind("keyup",this.hdlModalClose)},this));if(this.isMobile()===false){$(document.body).css("overflow",this.modalSaveBodyOveflow)}},setModalTab:function(a){$(".redactor_tab").hide();var b=$("#redactor_tabs a");b.removeClass("redactor_tabs_act");b.eq(a-1).addClass("redactor_tabs_act");$("#redactor_tab"+a).show()},uploadInit:function(b,a){this.uploadOptions={url:false,success:false,start:false,trigger:false,auto:false,input:false};$.extend(this.uploadOptions,a);if($("#"+b).size()!==0&&$("#"+b).get(0).tagName==="INPUT"){this.uploadOptions.input=$("#"+b);this.element=$($("#"+b).get(0).form)}else{this.element=$("#"+b)}this.element_action=this.element.attr("action");if(this.uploadOptions.auto){$(this.uploadOptions.input).change($.proxy(function(){this.element.submit(function(c){return false});this.uploadSubmit()},this))}else{if(this.uploadOptions.trigger){$("#"+this.uploadOptions.trigger).click($.proxy(this.uploadSubmit,this))}}},uploadSubmit:function(){this.uploadForm(this.element,this.uploadFrame())},uploadFrame:function(){this.id="f"+Math.floor(Math.random()*99999);var b=document.createElement("div");var a='<iframe style="display:none" id="'+this.id+'" name="'+this.id+'"></iframe>';b.innerHTML=a;document.body.appendChild(b);if(this.uploadOptions.start){this.uploadOptions.start()}$("#"+this.id).load($.proxy(this.uploadLoaded,this));return this.id},uploadForm:function(e,c){if(this.uploadOptions.input){var g="redactorUploadForm"+this.id;var a="redactorUploadFile"+this.id;this.form=$('<form  action="'+this.uploadOptions.url+'" method="POST" target="'+c+'" name="'+g+'" id="'+g+'" enctype="multipart/form-data"></form>');if(this.opts.uploadFields!==false&&typeof this.opts.uploadFields==="object"){$.each(this.opts.uploadFields,$.proxy(function(l,f){if(f.indexOf("#")===0){f=$(f).val()}var n=$('<input type="hidden" name="'+l+'" value="'+f+'">');$(this.form).append(n)},this))}var b=this.uploadOptions.input;var j=$(b).clone();$(b).attr("id",a);$(b).before(j);$(b).appendTo(this.form);$(this.form).css("position","absolute");$(this.form).css("top","-2000px");$(this.form).css("left","-2000px");$(this.form).appendTo("body");this.form.submit()}else{e.attr("target",c);e.attr("method","POST");e.attr("enctype","multipart/form-data");e.attr("action",this.uploadOptions.url);this.element.submit()}},uploadLoaded:function(){var c=$("#"+this.id);var e;if(c.contentDocument){e=c.contentDocument}else{if(c.contentWindow){e=c.contentWindow.document}else{e=window.frames[this.id].document}}if(this.uploadOptions.success){if(typeof e!=="undefined"){var b=e.body.innerHTML;var a=b.match(/\{.*\}/)[0];this.uploadOptions.success(a)}else{alert("Upload failed!");this.uploadOptions.success(false)}}this.element.attr("action",this.element_action);this.element.attr("target","")},oldIE:function(){if($.browser.msie&&parseInt($.browser.version,10)<9){return true}return false},outerHTML:function(a){return $("<p>").append($(a).eq(0).clone()).html()},normalize:function(a){return parseInt(a.replace("px",""),10)},isMobile:function(a){if(a===true&&/(iPhone|iPod|iPad|BlackBerry|Android)/.test(navigator.userAgent)){return true}else{if(/(iPhone|iPod|BlackBerry|Android)/.test(navigator.userAgent)){return true}else{return false}}}};$.fn.getEditor=function(){return this.data("redactor").$editor};$.fn.getCode=function(){return this.data("redactor").getCode()};$.fn.getText=function(){return this.data("redactor").$editor.text()};$.fn.getSelected=function(){return this.data("redactor").getSelectedHtml()};$.fn.setCode=function(a){this.data("redactor").setCode(a)};$.fn.insertHtml=function(a){this.data("redactor").insertHtml(a)};$.fn.destroyEditor=function(){this.data("redactor").destroy();this.removeData("redactor")};$.fn.setFocus=function(){this.data("redactor").focus()};$.fn.execCommand=function(a,b){this.data("redactor").execCommand(a,b)};(function(b){b.fn.dragupload=function(c){return this.each(function(){var e=new a(this,c);e.init()})};function a(e,c){this.opts=b.extend({url:false,success:false,preview:false,uploadFields:false,text:RLANG.drop_file_here,atext:RLANG.or_choose},c);this.$el=b(e)}a.prototype={init:function(){if(!b.browser.msie){this.droparea=b('<div class="redactor_droparea"></div>');this.dropareabox=b('<div class="redactor_dropareabox">'+this.opts.text+"</div>");this.dropalternative=b('<div class="redactor_dropalternative">'+this.opts.atext+"</div>");this.droparea.append(this.dropareabox);this.$el.before(this.droparea);this.$el.before(this.dropalternative);this.dropareabox.bind("dragover",b.proxy(function(){return this.ondrag()},this));this.dropareabox.bind("dragleave",b.proxy(function(){return this.ondragleave()},this));var f=b.proxy(function(j){var g=parseInt(j.loaded/j.total*100,10);this.dropareabox.text("Loading "+g+"%")},this);var e=jQuery.ajaxSettings.xhr();if(e.upload){e.upload.addEventListener("progress",f,false)}var c=function(){return e};this.dropareabox.get(0).ondrop=b.proxy(function(k){k.preventDefault();this.dropareabox.removeClass("hover").addClass("drop");var j=k.dataTransfer.files[0];var g=new FormData();if(this.opts.uploadFields!==false&&typeof this.opts.uploadFields==="object"){b.each(this.opts.uploadFields,b.proxy(function(n,l){if(l.indexOf("#")===0){l=b(l).val()}g.append(n,l)},this))}g.append("file",j);b.ajax({dataType:"html",url:this.opts.url,data:g,xhr:c,cache:false,contentType:false,processData:false,type:"POST",success:b.proxy(function(l){if(this.opts.success!==false){this.opts.success(l)}if(this.opts.preview===true){this.dropareabox.html(l)}},this)})},this)}},ondrag:function(){this.dropareabox.addClass("hover");return false},ondragleave:function(){this.dropareabox.removeClass("hover");return false}}})(jQuery);(function(b){var e=/(^|&lt;|\s)(www\..+?\..+?)(\s|&gt;|$)/g,a=/(^|&lt;|\s)(((https?|ftp):\/\/|mailto:).+?)(\s|&gt;|$)/g,c=function(){var j=this.childNodes,g=j.length;while(g--){var k=j[g];if(k.nodeType===3){var f=k.nodeValue;if(f){f=f.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(e,'$1<a href="http://$2">$2</a>$3').replace(a,'$1<a href="$2">$2</a>$5');b(k).after(f).remove()}}else{if(k.nodeType===1&&!/^(a|button|textarea)$/i.test(k.tagName)){c.call(k)}}}};b.fn.linkify=function(){this.each(c)}})(jQuery);(function(a){a.event.special.textselect={setup:function(c,b){a(this).data("textselected",false);a(this).data("ttt",c);a(this).bind("mouseup",a.event.special.textselect.handler)},teardown:function(b){a(this).unbind("mouseup",a.event.special.textselect.handler)},handler:function(b){var c=a(this).data("ttt");var e=a.event.special.textselect.getSelectedText(c).toString();if(e!=""){a(this).data("textselected",true);b.type="textselect";b.text=e;a.event.handle.apply(this,arguments)}},getSelectedText:function(b){var c="";if(window.getSelection){c=window.getSelection()}else{if(document.getSelection){c=document.getSelection()}else{if(document.selection){c=document.selection.createRange().text}}}return c}};a.event.special.textunselect={setup:function(c,b){a(this).data("rttt",c);a(this).data("textselected",false);a(this).bind("mouseup",a.event.special.textunselect.handler);a(this).bind("keyup",a.event.special.textunselect.handlerKey)},teardown:function(b){a(this).unbind("mouseup",a.event.special.textunselect.handler)},handler:function(b){if(a(this).data("textselected")){var c=a(this).data("rttt");var e=a.event.special.textselect.getSelectedText(c).toString();if(e==""){a(this).data("textselected",false);b.type="textunselect";a.event.handle.apply(this,arguments)}}},handlerKey:function(b){if(a(this).data("textselected")){var c=a(this).data("rttt");var e=a.event.special.textselect.getSelectedText(c).toString();if((b.keyCode=27)&&(e=="")){a(this).data("textselected",false);b.type="textunselect";a.event.handle.apply(this,arguments)}}}}})(jQuery);var RELANG={};RELANG.ru={html:"Код",video:"Видео",image:"Изображение",table:"Таблица",link:"Ссылка",link_insert:"Вставить ссылку ...",unlink:"Удалить ссылку",formatting:"Форматирование",paragraph:"Обычный текст",quote:"Цитата",code:"Код",header1:"Заголовок 1",header2:"Заголовок 2",header3:"Заголовок 3",header4:"Заголовок 4",bold:"Полужирный",italic:"Наклонный",fontcolor:"Цвет текста",backcolor:"Заливка текста",unorderedlist:"Обычный список",orderedlist:"Нумерованный список",outdent:"Уменьшить отступ",indent:"Увеличить отступ",cancel:"Отменить",insert:"Вставить",save:"Сохранить",_delete:"Удалить",insert_table:"Вставить таблицу",insert_row_above:"Добавить строку сверху",insert_row_below:"Добавить строку снизу",insert_column_left:"Добавить столбец слева",insert_column_right:"Добавить столбец справа",delete_column:"Удалить столбец",delete_row:"Удалить строку",delete_table:"Удалить таблицу",rows:"Строки",columns:"Столбцы",add_head:"Добавить заголовок",delete_head:"Удалить заголовок",title:"Подсказка",image_position:"Обтекание текстом",none:"Нет",left:"Cлева",right:"Cправа",image_web_link:"Cсылка на изображение",text:"Текст",mailto:"Эл. почта",web:"URL",video_html_code:"Код видео ролика",file:"Файл",upload:"Загрузить",download:"Скачать",choose:"Выбрать",or_choose:"Или выберите",drop_file_here:"Перетащите файл сюда",align_left:"По левому краю",align_center:"По центру",align_right:"По правому краю",align_justify:"Выровнять текст по ширине",horizontalrule:"Горизонтальная линейка",fullscreen:"Во весь экран",deleted:"Зачеркнутый",anchor:"Якорь",link_new_tab:"Открывать в новой вкладке"};